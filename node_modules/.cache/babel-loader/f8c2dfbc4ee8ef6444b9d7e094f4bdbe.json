{"ast":null,"code":"import _slicedToArray from\"D:/Python files/Start Django/blog_tube/frontend/blog_tube/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _toConsumableArray from\"D:/Python files/Start Django/blog_tube/frontend/blog_tube/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import'./statics/css/appSignup.css';import{useState,useRef,useEffect,useCallback}from'react';import username from\"./statics/images/username.svg\";import password from\"./statics/images/password.svg\";import email from\"./statics/images/email.svg\";import uplaod_background_image from\"./statics/images/upload_image_background.svg\";import signup_background from\"./statics/images/signup_background.svg\";import{Link}from'react-router-dom';import appConfig from'./statics/appConfig.json';import anime from'animejs';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AppSignup=function AppSignup(props){var chars={\"!\":null,\"#\":null,\"$\":null,\"%\":null,\"^\":null,\"&\":null,\"*\":null,\"(\":null,\")\":null,\"'\":null,'\"':null,\";\":null,\":\":null};function checkUsername(event){event.preventDefault();var filtered_list=_toConsumableArray(event.target.value).filter(function(item){return!(item in chars);});var list=_toConsumableArray(event.target.value);if(filtered_list.join('')==list.join('')){event.target.setCustomValidity(\"\");}else if(event.nativeEvent.data==='\"'||event.nativeEvent.data===\"'\"){event.target.value=event.target.value.slice(0,event.target.value.length-1);}else if(event.nativeEvent.data in chars){event.target.setCustomValidity(\"username should not contain \\n ------------ ?!:;\\\"'#$%^&*() ------------\");event.target.reportValidity();}}function removequotes(event){if(event.nativeEvent.data==='\"'||event.nativeEvent.data===\"'\"){event.target.value=event.target.value.slice(0,event.target.value.length-1);event.target.setCustomValidity('Cannot use \" or \\' ');event.target.reportValidity();}else{event.target.setCustomValidity('');}}var _ref=useRef({});// useEffect for ref\nuseEffect(function(){try{anime({targets:_ref.current['signup_heading'],update:function update(anime){try{_ref.current['signup_heading'].style.filter=\"hue-rotate(\".concat(anime.progress*3.6,\"deg)\");}catch(err){}},duration:2000,autoplay:true,direction:'alternate',loop:true});set_refs();}catch(err){console.log(err);}},[_ref,block_state]);var set_refs=function set_refs(){_ref.current['signup_form'].style.backgroundImage=\"url(\".concat(signup_background,\")\");_ref.current['username'].style.backgroundImage=\"url(\".concat(username,\")\");_ref.current['password'].style.backgroundImage=\"url(\".concat(password,\")\");_ref.current['email'].style.backgroundImage=\"url(\".concat(email,\")\");_ref.current['image'].style.backgroundImage=\"url(\".concat(uplaod_background_image,\")\");};var _useState=useState('form'),_useState2=_slicedToArray(_useState,2),block_state=_useState2[0],set_block_state=_useState2[1];var origin=appConfig.origin;var data_ref=useRef({});var submit_data=function submit_data(event){var xhr=new XMLHttpRequest();props.appbodyloading('flex');xhr.onreadystatechange=function(){console.log(xhr.status,xhr.readyState);if(xhr.status===200&&xhr.readyState===4){var response=JSON.parse(xhr.response);console.log(response);if(response.status===\"exists\"){_ref.current['email'].focus();_ref.current['email'].setCustomValidity('This Email Exists!!!');_ref.current['email'].reportValidity();props.appbodyloading('none');}else if(response.status===\"otp\"){set_block_state(\"otp\");_ref.current['otp_input'].style.backgroundImage=\"url(\".concat(password,\")\");props.appbodyloading('none');}else if(response.status===\"fail\"){set_block_state(\"error\");props.appbodyloading('none');}}};xhr.open('POST',origin+'backend_api/signup');var progressbar=document.getElementById('progressbar');xhr.upload.addEventListener('progress',function(event){var percent=Math.round(event.loaded/event.total*100);progressbar.style.width=\"\".concat(percent,\"%\");progressbar.innerText=\"Image \".concat(percent,\"%\");});xhr.upload.onloadend=function(){progressbar.style.width=\"\".concat(0,\"%\");progressbar.innerText='';};var form=event.target;data_ref.current.username=form[0].value;data_ref.current.email=form[1].value;data_ref.current.password=form[2].value;xhr.setRequestHeader('userData',JSON.stringify(data_ref.current));var form_data=new FormData();var imagefile=form[4].files[0];console.log(imagefile);form_data.append('image',imagefile);imagefile?xhr.send(form_data):xhr.send();};var input_id;var prev_value;function change_image(){try{if(_ref.current['image_input'].value!==''&&_ref.current['image_input'].value!==prev_value){if(_ref.current['image_input'].files[0].size>=10485760){alert(\"**File size must be under 10MB**\");_ref.current['image_input'].files.pop();_ref.current['image'].style.backgroundImage=\"none\";}else{try{var image_url=URL.createObjectURL(_ref.current['image_input'].files[0]);_ref.current['image'].style.backgroundImage=\"url(\".concat(image_url,\")\");}catch(e){console.log(e);}prev_value=_ref.current['image_input'].value;clearInterval(input_id);}}}catch(e){}}var check_otp=useCallback(function(event){var form=event.target;var otp_input=form[0];if(otp_input.value.length!==4){otp_input.focus();otp_input.setCustomValidity('OTP must be of 4 digits!!!');otp_input.reportValidity();return;}else{otp_input.setCustomValidity('');otp_input.reportValidity();}var xhr=new XMLHttpRequest();props.appbodyloading('flex');xhr.open('POST',origin+'backend_api/verifyotp');xhr.onreadystatechange=function(){if(xhr.status===200&&xhr.readyState===4){var response=JSON.parse(xhr.response);console.log(response);if(response.status==='fail'){otp_input.focus();otp_input.setCustomValidity('âš ï¸ Wrong OTPâš ï¸ Signup Again!!! ');otp_input.reportValidity();setTimeout(function(){set_block_state('form');set_refs();},2000);props.appbodyloading('none');}else if(response.staus==='success'){set_block_state('success');props.appbodyloading('none');}}};xhr.onerror=function(){alert(\"Too Slow connection!!\\n try with smaller size Photo\");props.appbodyloading('none');set_block_state('otp');};xhr.setRequestHeader('otp',otp_input.value);xhr.setRequestHeader('email',data_ref.current.email);xhr.send();},[data_ref]);var form_block=/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"signup_heading\",ref:function ref(el){return _ref.current['signup_heading']=el;},children:\"Sign Up\"}),/*#__PURE__*/_jsxs(\"form\",{action:\"javascript:void(0);\",onSubmit:function onSubmit(event){return submit_data(event);},children:[/*#__PURE__*/_jsx(\"input\",{required:true,type:\"text\",placeholder:\"Username\",className:\"signup_username\",ref:function ref(el){return _ref.current['username']=el;},maxLength:100,onInput:function onInput(event){return checkUsername(event);}}),/*#__PURE__*/_jsx(\"input\",{required:true,type:\"email\",placeholder:\"Email\",className:\"signup_email\",ref:function ref(el){return _ref.current['email']=el;},maxLength:100,onInput:function onInput(e){return removequotes(e);}}),/*#__PURE__*/_jsx(\"input\",{required:true,type:\"password\",placeholder:\"Password\",className:\"signup_password\",ref:function ref(el){return _ref.current['password']=el;},minLength:8,onInput:function onInput(e){return removequotes(e);}}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",id:\"signup_submit\",value:\"Sign Up\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"upload_image\",ref:function ref(el){return _ref.current['image']=el;},children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"file_input\",ref:function ref(el){return _ref.current['image_input']=el;},accept:\"image/*\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"file_input\",id:\"file_input_label\",ref:function ref(el){return _ref.current['image_percent']=el;},onClick:function onClick(){return input_id=setInterval(change_image,2000);},children:\"100%\"})]})]})]});var otp_block=/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"signup_heading\",ref:function ref(el){return _ref.current['signup_heading']=el;},align:\"center\",style:{color:'rgb(24, 151, 201)'},children:\"OTP\"}),/*#__PURE__*/_jsxs(\"form\",{action:'javascript:void(0);',onSubmit:function onSubmit(event){set_block_state('otp');check_otp(event);},children:[/*#__PURE__*/_jsx(\"input\",{required:true,type:\"number\",ref:function ref(el){return _ref.current['otp_input']=el;},className:\"signup_password\",onInput:function onInput(e){e.target.value.length>4?e.target.setCustomValidity('No More than 4 Digits'):e.target.setCustomValidity('');e.target.reportValidity();},style:{gridColumn:'1 / span 2',gridRow:'1 / span 2',marginRight:'20px',marginLeft:'20px',fontSize:'30px',letterSpacing:'32px',color:\"#0334dd\"}}),/*#__PURE__*/_jsxs(\"ul\",{className:\"instList\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"Check Email for OTP\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Must have 4 digits\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Email is identity\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",id:\"signup_submit\"})]})]});var error_block=/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"signup_heading\",ref:function ref(el){return _ref.current['signup_heading']=el;},align:\"center\",style:{color:'rgb(24, 151, 201)'},children:\"Error Occured!!\"}),/*#__PURE__*/_jsx(\"button\",{id:\"signup_submit\",onClick:function onClick(){set_block_state('form');setTimeout(function(){return set_refs();},500);},style:{justifySelf:'center',gridColumn:'1/span 2',cursor:'pointer'},children:\"Back\"})]});var success_block=/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{ref:function ref(el){return _ref.current['signup_heading']=el;},style:{color:'rgb(24, 151, 201)',gridColumn:'1/ span 2'},align:\"center\",children:\"\\uD83C\\uDF89Welcome\\uD83C\\uDF89\"}),/*#__PURE__*/_jsx(\"button\",{id:\"signup_submit\",style:{justifySelf:'center',gridColumn:'1/span 2',cursor:'pointer'},children:/*#__PURE__*/_jsx(Link,{style:{textDecoration:'none'},to:\"/Login\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Login\"})})})]});return/*#__PURE__*/_jsxs(\"div\",{className:\"signup\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"signup_form\",ref:function ref(el){return _ref.current['signup_form']=el;},children:[block_state==='form'?form_block:null,block_state==='otp'?otp_block:null,block_state==='error'?error_block:null,block_state==='success'?success_block:null]}),/*#__PURE__*/_jsx(\"div\",{className:\"progress signup_heading\",id:\"progressbar\"})]});};export default AppSignup;","map":{"version":3,"sources":["D:/Python files/Start Django/blog_tube/frontend/blog_tube/src/componenets/appSignup.js"],"names":["useState","useRef","useEffect","useCallback","Link","appConfig","anime","AppSignup","props","chars","checkUsername","event","preventDefault","filtered_list","target","value","filter","item","list","join","setCustomValidity","nativeEvent","data","slice","length","reportValidity","removequotes","ref","targets","current","update","style","progress","err","duration","autoplay","direction","loop","set_refs","console","log","block_state","backgroundImage","signup_background","username","password","email","uplaod_background_image","set_block_state","origin","data_ref","submit_data","xhr","XMLHttpRequest","appbodyloading","onreadystatechange","status","readyState","response","JSON","parse","focus","open","progressbar","document","getElementById","upload","addEventListener","percent","Math","round","loaded","total","width","innerText","onloadend","form","setRequestHeader","stringify","form_data","FormData","imagefile","files","append","send","input_id","prev_value","change_image","size","alert","pop","image_url","URL","createObjectURL","e","clearInterval","check_otp","otp_input","setTimeout","staus","onerror","form_block","el","setInterval","otp_block","color","gridColumn","gridRow","marginRight","marginLeft","fontSize","letterSpacing","error_block","justifySelf","cursor","success_block","textDecoration"],"mappings":"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","sourcesContent":["import './statics/css/appSignup.css'\r\nimport {useState,useRef , useEffect, useCallback} from 'react'\r\nimport username from './statics/images/username.svg'\r\nimport password from './statics/images/password.svg'\r\nimport email from './statics/images/email.svg'\r\nimport uplaod_background_image from './statics/images/upload_image_background.svg'\r\nimport signup_background from './statics/images/signup_background.svg'\r\nimport { Link } from 'react-router-dom'\r\nimport appConfig from './statics/appConfig.json'\r\n\r\nimport anime from 'animejs'\r\n\r\n\r\nvar AppSignup = props=>{\r\n\r\n\r\n    let chars = {\"!\":null , \"#\":null , \"$\":null,\"%\":null,\"^\":null,\"&\":null,\"*\":null,\"(\":null,\")\":null,\"'\":null, '\"':null,\";\":null, \":\":null}\r\n\r\n\r\n    function checkUsername(event) {\r\n        event.preventDefault()\r\n        let filtered_list = [...event.target.value].filter((item)=> !(item in chars))\r\n        let list = [...event.target.value]\r\n\r\n        if( filtered_list.join('') == list.join('') ){\r\n                event.target.setCustomValidity(\"\")\r\n            }\r\n\r\n        else if (event.nativeEvent.data === '\"' || event.nativeEvent.data === \"'\"){\r\n            event.target.value = event.target.value.slice(0, event.target.value.length-1)\r\n        }else if (event.nativeEvent.data in chars ){\r\n            event.target.setCustomValidity(\"username should not contain \\n ------------ ?!:;\\\"'#$%^&*() ------------\")\r\n            event.target.reportValidity()\r\n            \r\n        }\r\n    }\r\n\r\n    function removequotes(event){\r\n        if (event.nativeEvent.data === '\"' || event.nativeEvent.data === \"'\"){\r\n            event.target.value = event.target.value.slice(0, event.target.value.length-1)\r\n            event.target.setCustomValidity('Cannot use \" or \\' ')\r\n            event.target.reportValidity()\r\n        }else{\r\n            event.target.setCustomValidity('')\r\n            \r\n        }\r\n    }\r\n\r\n    const ref = useRef({})\r\n\r\n\r\n\r\n    // useEffect for ref\r\n    useEffect(()=>{\r\ntry{\r\n    anime({\r\n        targets:ref.current['signup_heading'],\r\n        update:function(anime){\r\n            try{\r\n            ref.current['signup_heading'].style.filter = `hue-rotate(${anime.progress *3.6}deg)`\r\n            }catch(err){\r\n                \r\n            }\r\n        },\r\n        duration:2000,\r\n        autoplay:true,\r\n        direction:'alternate',\r\n        loop:true\r\n    })\r\n        set_refs()\r\n    }catch(err){\r\n        console.log(err)\r\n    }\r\n\r\n    }, [ref, block_state])\r\n\r\n    let set_refs = ()=>{\r\n        ref.current['signup_form'].style.backgroundImage = `url(${signup_background})`\r\n        ref.current['username'].style.backgroundImage = `url(${username})`\r\n        ref.current['password'].style.backgroundImage = `url(${password})`\r\n        ref.current['email'].style.backgroundImage = `url(${email})`\r\n        ref.current['image'].style.backgroundImage = `url(${uplaod_background_image})`\r\n\r\n\r\n    }\r\n\r\n    var [block_state, set_block_state] = useState('form')\r\n\r\n    const origin = appConfig.origin\r\n    const data_ref = useRef({});\r\n\r\n    let submit_data=(event)=>{\r\n        \r\n        let xhr = new XMLHttpRequest()\r\n        props.appbodyloading('flex')\r\n        xhr.onreadystatechange = ()=>{\r\n            console.log(xhr.status, xhr.readyState)\r\n            if (xhr.status === 200 && xhr.readyState ===4){\r\n                let response = JSON.parse(xhr.response)\r\n                console.log(response)\r\n                \r\n                if(response.status === \"exists\"){\r\n                        ref.current['email'].focus()\r\n                        ref.current['email'].setCustomValidity('This Email Exists!!!')\r\n                        ref.current['email'].reportValidity()\r\n                        props.appbodyloading('none')\r\n\r\n                    }\r\n                    else if(response.status === \"otp\"){\r\n                        set_block_state(\"otp\")\r\n                        ref.current['otp_input'].style.backgroundImage = `url(${password})`\r\n                        props.appbodyloading('none')\r\n                        \r\n                    }\r\n                    else if(response.status === \"fail\"){\r\n                        set_block_state(\"error\")\r\n                        props.appbodyloading('none')\r\n\r\n                    }\r\n                }\r\n            }\r\n        \r\n        \r\n        \r\n        xhr.open('POST',origin+'backend_api/signup')\r\n        let progressbar = document.getElementById('progressbar')\r\n        xhr.upload.addEventListener('progress',(event)=>{\r\n            let percent = Math.round( (event.loaded/event.total)*100)\r\n            progressbar.style.width = `${percent}%`\r\n            progressbar.innerText = `Image ${percent}%`\r\n        })\r\n        xhr.upload.onloadend = ()=>{\r\n            progressbar.style.width = `${0}%`\r\n            progressbar.innerText = ''\r\n        }\r\n\r\n        let form = event.target\r\n        data_ref.current.username = form[0].value\r\n        data_ref.current.email    = form[1].value\r\n        data_ref.current.password = form[2].value\r\n              \r\n        xhr.setRequestHeader('userData' , JSON.stringify(data_ref.current))\r\n\r\n        let form_data = new FormData()\r\n        let imagefile = form[4].files[0]\r\n        console.log(imagefile)\r\n        form_data.append('image' , imagefile)\r\n        imagefile?\r\n        xhr.send(form_data)\r\n        :xhr.send()\r\n            }\r\n\r\n    \r\n    var input_id\r\n    var prev_value\r\n    function change_image(){\r\n        try{\r\n        if (ref.current['image_input'].value !== '' && ref.current['image_input'].value !== prev_value ){\r\n            if (ref.current['image_input'].files[0].size >= 10485760){\r\n                alert(\"**File size must be under 10MB**\")\r\n                ref.current['image_input'].files.pop()\r\n                ref.current['image'].style.backgroundImage = `none`\r\n            }else{\r\n            try{let image_url = URL.createObjectURL( ref.current['image_input'].files[0])\r\n            ref.current['image'].style.backgroundImage = `url(${image_url})`}catch(e){console.log(e)}\r\n            prev_value = ref.current['image_input'].value\r\n            clearInterval(input_id)\r\n            }\r\n    }}catch(e){}\r\n    }\r\n\r\n    const check_otp = useCallback((event)=>{\r\n        let form = event.target\r\n        let otp_input = form[0]\r\n        if(otp_input.value.length !== 4){\r\n            otp_input.focus()\r\n            otp_input.setCustomValidity('OTP must be of 4 digits!!!')\r\n            otp_input.reportValidity()\r\n            return\r\n        }else{ \r\n            otp_input.setCustomValidity('')\r\n            otp_input.reportValidity()\r\n        }\r\n        let xhr = new XMLHttpRequest()\r\n        props.appbodyloading('flex')\r\n\r\n        xhr.open( 'POST', origin+'backend_api/verifyotp' )\r\n        xhr.onreadystatechange = ()=>{\r\n            if(xhr.status === 200 && xhr.readyState === 4){\r\n                let response = JSON.parse(xhr.response)\r\n                console.log(response)\r\n                \r\n                if(response.status === 'fail'){\r\n                    otp_input.focus()\r\n                    otp_input.setCustomValidity('âš ï¸ Wrong OTPâš ï¸ Signup Again!!! ')\r\n                    otp_input.reportValidity()\r\n                    setTimeout(()=>{set_block_state('form');set_refs()},2000)\r\n                    props.appbodyloading('none')\r\n\r\n                }else if (response.staus === 'success'){\r\n                    set_block_state('success')\r\n                    props.appbodyloading('none')\r\n\r\n                }\r\n            }\r\n        }\r\n        xhr.onerror=()=>{\r\n            alert(\"Too Slow connection!!\\n try with smaller size Photo\")\r\n            props.appbodyloading('none')\r\n            set_block_state('otp')\r\n        }\r\n\r\n        xhr.setRequestHeader('otp' , otp_input.value)\r\n        xhr.setRequestHeader('email' , data_ref.current.email)\r\n        xhr.send()\r\n        \r\n    },[data_ref])\r\n\r\n    let form_block = (<>\r\n        <h1 className = \"signup_heading\" ref = {el=>ref.current['signup_heading']=el} >Sign Up</h1>\r\n        <form action=\"javascript:void(0);\" onSubmit = {event=>submit_data(event)}>\r\n            <input required = {true} type=\"text\" placeholder = 'Username' className= 'signup_username' ref = {el => ref.current['username']= el} maxLength={100} onInput= {event=>checkUsername(event)} />\r\n            <input required = {true} type= \"email\" placeholder = 'Email' className= \"signup_email\"  ref = {el => ref.current['email']= el}  maxLength={100} onInput= {e=>removequotes(e)} />\r\n            <input required = {true} type=\"password\" placeholder = 'Password' className= 'signup_password'  ref = {el => ref.current['password']= el}  minLength={8} onInput={e=>removequotes(e)}  />\r\n            <input type=\"submit\" id = \"signup_submit\" value=\"Sign Up\" />\r\n            <div className=\"upload_image\" ref = {el => ref.current['image']=el} >\r\n                <input type=\"file\"  id = 'file_input'  ref = {el=>ref.current['image_input']=el}  accept= \"image/*\"  />\r\n                <label htmlFor= \"file_input\" id = \"file_input_label\" ref = {el=>ref.current['image_percent']= el}  onClick={()=>input_id = setInterval(change_image, 2000)}  >100%</label>\r\n            </div>\r\n        </form>\r\n        </>)\r\n\r\n\r\n    let otp_block = (<>\r\n        <h1 className = \"signup_heading\" ref = {el=>ref.current['signup_heading']=el} align='center' style = {{color:'rgb(24, 151, 201)'}} > \r\n        OTP\r\n        </h1>\r\n        <form action= {'javascript:void(0);'} onSubmit = {event =>{set_block_state('otp') ;check_otp(event)}} >\r\n            <input required = {true} type=\"number\" ref= {el=>ref.current['otp_input']=el} className = \"signup_password\"   onInput= {(e)=>{e.target.value.length>4?\r\n                e.target.setCustomValidity('No More than 4 Digits')\r\n                :e.target.setCustomValidity('')\r\n                e.target.reportValidity()\r\n                }} style = {{gridColumn:'1 / span 2',gridRow:'1 / span 2' , marginRight:'20px', marginLeft : '20px',fontSize:'30px', letterSpacing:'32px', color:\"#0334dd\" }} />\r\n\r\n            <ul className = 'instList'>\r\n                <li>Check Email for OTP</li>\r\n                <li>Must have 4 digits</li>\r\n                <li>Email is identity</li>\r\n            </ul>\r\n            <input type=\"submit\" id = \"signup_submit\"  />\r\n        </form>\r\n        </>)\r\n\r\n    let error_block = ( <>\r\n        <h2 className = \"signup_heading\" ref = {el=>ref.current['signup_heading']=el} align='center' style = {{color:'rgb(24, 151, 201)'}} >Error Occured!!</h2>\r\n        <button id = \"signup_submit\" onClick= {()=>{set_block_state('form')\r\n    setTimeout(()=>set_refs(),500)\r\n    }} style = {{justifySelf:'center',  gridColumn: '1/span 2', cursor:'pointer'}}>Back</button>\r\n        </>)\r\n\r\n        let success_block = (<>\r\n            <h3 ref = {el=>ref.current['signup_heading']=el} style = {{color:'rgb(24, 151, 201)', gridColumn:'1/ span 2'}}  align='center'>ðŸŽ‰WelcomeðŸŽ‰</h3>\r\n             <button id = \"signup_submit\"  style = {{justifySelf:'center',  gridColumn: '1/span 2',cursor:'pointer'}}><Link style  = {{textDecoration:'none'}} to  = \"/Login\"><span>Login</span></Link></button>\r\n            \r\n            </>)\r\n\r\n \r\n    return(\r\n      <div className=\"signup\">\r\n          <div className=\"signup_form\"  ref = {el=>ref.current['signup_form']=el}>\r\n            { block_state==='form'?form_block\r\n                : null}\r\n            {block_state === 'otp'?otp_block\r\n            :null}\r\n            {block_state==='error'?error_block\r\n            :null\r\n            }\r\n            {block_state==='success'?success_block\r\n        :null}\r\n                \r\n          </div>\r\n          <div className=\"progress signup_heading\" id = 'progressbar'></div>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default AppSignup"]},"metadata":{},"sourceType":"module"}