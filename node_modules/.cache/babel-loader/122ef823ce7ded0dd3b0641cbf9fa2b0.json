{"ast":null,"code":"import _slicedToArray from\"D:/Python files/Start Django/blog_tube/frontend/blog_tube/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useHistory,HashRouter as Router,Route,Redirect}from'react-router-dom';import{CacheSwitch,CacheRoute}from'react-router-cache-route';import AppHeader from'./componenets/appHeader';import AppFooter from'./componenets/appFooter';import AppLogin from'./componenets/appLogin';import AppSignup from'./componenets/appSignup';import AppBodyLoading from'./componenets/appBodyLoading';import AppBlogians from'./componenets/appBlogians';import config from'./componenets/statics/appConfig.json';import AppBlog from'./componenets/appBlog';import appConfig from'./componenets/statics/appConfig.json';import'./App.css';import React,{useState,useCallback,useEffect}from'react';import AppUserProfile from'./componenets/appUserProfile';import AppUploadBlog from'./componenets/appUploadBlog';import{logout}from'./componenets/statics/utils';import AppHome from'./componenets/appHome';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login_context=/*#__PURE__*/React.createContext(null);function App(){var login_data=false;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),login_context_state=_useState2[0],set_login_context_state=_useState2[1];function change_login_context(state){set_login_context_state(state);}var blogs=['How 5g will Revolutionize the world...','Is Self-Driving and Electric Vehical worth buy Now??','Rasmali reciepe','what after 5g','What is Quantu Computing','See How PUBG  changed lives of hunderds of people sjdfhasjkfdhufnskfaueasfajukjfdskajfkmlkvcdljfierfnolfsia'];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),appbody=_useState4[0],set_appbody=_useState4[1];var callback=useCallback(function(el){set_appbody(el);});var app_container_callback=function app_container_callback(el){set_appcontainer(el);};var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),appcontainer=_useState6[0],set_appcontainer=_useState6[1];var _useState7=useState('none'),_useState8=_slicedToArray(_useState7,2),appbodyloading_state=_useState8[0],set_appbodyloading_state=_useState8[1];var change_appbodyloading=function change_appbodyloading(display){set_appbodyloading_state(display);};var history=useHistory();var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),blogs_list=_useState10[0],set_blogs_list=_useState10[1];useEffect(function(){// let xhr = new XMLHttpRequest()\n// xhr.open(\"POST\",config.origin+\"backend_api/getSessionId\")\n// xhr.onreadystatechange = ()=>{\n//   if (xhr.readyState === 4 && xhr.status === 200){\n//     let session = JSON.parse(xhr.response).session\n//     if (session === \"\"){\n//       logout()\n//     } \n//     else{\n//       set_login_context_state(session)\n//       }\n//     console.log(session)\n//   }\n// }\n// xhr.send()\nfetch(appConfig.origin+'backend_api/retriveHomeBlogs',{mode:'cors',method:\"POST\",headers:{session:login_context_state}}).then(function(response){return response.text().then(function(text){var response=JSON.parse(text);switch(response.status){case\"success\":set_blogs_list(response.blogs_list);break;case\"fail\":history.push('/blog_tube_react/Home');break;default:break;}});});},[login_context_state]);return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Login_context.Provider,{value:login_context_state,children:[/*#__PURE__*/_jsx(AppHeader,{bloglist:blogs_list,login_state:login_context_state}),/*#__PURE__*/_jsxs(\"div\",{className:\"appcontent\",ref:app_container_callback,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"appbody\",ref:callback,children:[/*#__PURE__*/_jsx(AppBodyLoading,{loading:appbodyloading_state}),/*#__PURE__*/_jsxs(CacheSwitch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/blog_tube_react/Blog/:title\",children:/*#__PURE__*/_jsx(AppBlog,{appbodyloading:change_appbodyloading})}),/*#__PURE__*/_jsx(CacheRoute,{exact:true,path:\"/blog_tube_react/Login\",children:/*#__PURE__*/_jsx(AppLogin,{appbodyloading:change_appbodyloading,change_login_context:change_login_context})}),/*#__PURE__*/_jsx(CacheRoute,{exact:true,path:\"/blog_tube_react/Signup\",children:/*#__PURE__*/_jsx(AppSignup,{appbodyloading:change_appbodyloading})}),/*#__PURE__*/_jsx(Route,{path:\"/blog_tube_react/Blogians\",children:/*#__PURE__*/_jsx(AppBlogians,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/blog_tube_react/Profile/:user_id\",children:/*#__PURE__*/_jsx(AppUserProfile,{})}),/*#__PURE__*/_jsx(Route,{path:\"/blog_tube_react/UploadBlog\",children:/*#__PURE__*/_jsx(AppUploadBlog,{appbodyloading:change_appbodyloading})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/blog_tube_react/Home\",children:/*#__PURE__*/_jsx(AppHome,{blogs_list:blogs_list})}),/*#__PURE__*/_jsx(CacheRoute,{exact:true,path:\"/blog_tube_react/Error\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Error\"})}),/*#__PURE__*/_jsx(Route,{path:\"/blog_tube_react/\",children:/*#__PURE__*/_jsx(Redirect,{to:\"/blog_tube_react/Home\"})})]})]}),/*#__PURE__*/_jsx(AppFooter,{appbody:appbody,appcontainer:appcontainer})]})]})});}export default App;export{Login_context};","map":{"version":3,"sources":["D:/Python files/Start Django/blog_tube/frontend/blog_tube/src/App.js"],"names":["useHistory","HashRouter","Router","Route","Redirect","CacheSwitch","CacheRoute","AppHeader","AppFooter","AppLogin","AppSignup","AppBodyLoading","AppBlogians","config","AppBlog","appConfig","React","useState","useCallback","useEffect","AppUserProfile","AppUploadBlog","logout","AppHome","Login_context","createContext","App","login_data","login_context_state","set_login_context_state","change_login_context","state","blogs","appbody","set_appbody","callback","el","app_container_callback","set_appcontainer","appcontainer","appbodyloading_state","set_appbodyloading_state","change_appbodyloading","display","history","blogs_list","set_blogs_list","fetch","origin","mode","method","headers","session","then","response","text","JSON","parse","status","push"],"mappings":"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","sourcesContent":["import {useHistory,  HashRouter as Router ,Route ,Redirect} from 'react-router-dom'\nimport {CacheSwitch , CacheRoute } from 'react-router-cache-route'\nimport AppHeader from './componenets/appHeader';\nimport AppFooter from './componenets/appFooter';\nimport AppLogin from './componenets/appLogin';\nimport AppSignup from './componenets/appSignup';\nimport AppBodyLoading from './componenets/appBodyLoading';\nimport AppBlogians from './componenets/appBlogians';\nimport config from './componenets/statics/appConfig.json'\nimport AppBlog from './componenets/appBlog';\nimport appConfig from './componenets/statics/appConfig.json'\n\nimport './App.css'\nimport  React , {useState , useCallback , useEffect} from 'react'\nimport AppUserProfile from './componenets/appUserProfile';\nimport AppUploadBlog from './componenets/appUploadBlog';\nimport { logout } from './componenets/statics/utils';\nimport AppHome from './componenets/appHome';\n\nvar Login_context = React.createContext(null)\n\n\nfunction App() {\n  var login_data = false\n\n  const [login_context_state , set_login_context_state] = useState(null)\n\n  function change_login_context (state){\n    set_login_context_state(state)\n  }\n\n  var blogs= [\n    'How 5g will Revolutionize the world...',\n    'Is Self-Driving and Electric Vehical worth buy Now??',\n    'Rasmali reciepe',\n    'what after 5g',\n    'What is Quantu Computing',\n    'See How PUBG  changed lives of hunderds of people sjdfhasjkfdhufnskfaueasfajukjfdskajfkmlkvcdljfierfnolfsia',\n\n    ]\n\n    let [appbody , set_appbody] = useState(null)\n\n    let callback = useCallback((el)=>{\n      set_appbody(el)\n    })\n\n\n    let app_container_callback = (el)=>{\n      set_appcontainer(el)\n    }\n\n    var [ appcontainer, set_appcontainer] = useState(null)\n\n   \n\n    const [appbodyloading_state , set_appbodyloading_state]= useState('none')\n\n    let change_appbodyloading = (display) =>{\n          set_appbodyloading_state(display)\n    }\n\n    const history = useHistory()\n    const [blogs_list , set_blogs_list] = useState([])\n\n    useEffect(()=>{\n    // let xhr = new XMLHttpRequest()\n    // xhr.open(\"POST\",config.origin+\"backend_api/getSessionId\")\n\n    // xhr.onreadystatechange = ()=>{\n    //   if (xhr.readyState === 4 && xhr.status === 200){\n    //     let session = JSON.parse(xhr.response).session\n    //     if (session === \"\"){\n    //       logout()\n    //     } \n    //     else{\n    //       set_login_context_state(session)\n    //       }\n    //     console.log(session)\n    //   }\n    // }\n    // xhr.send()\n    \n    fetch(appConfig.origin+'backend_api/retriveHomeBlogs',{ \n      mode:'cors',\n      method:\"POST\",\n      headers:{ session : login_context_state }\n  })\n  .then(response=> response.text().then(\n      text=>{\n          let response = JSON.parse(text)\n          switch (response.status) {\n              case \"success\":\n                  set_blogs_list(response.blogs_list)\n                  break;\n              case \"fail\":\n                  history.push('/blog_tube_react/Home')\n                  break;\n              default:\n                  break;\n          }}))}\n    \n    ,[login_context_state])\n  \n\n    \n  return (\n    <Router>\n      \n  <Login_context.Provider value = {login_context_state}>\n      <AppHeader  bloglist = {blogs_list} login_state = {login_context_state}  />\n    <div className=\"appcontent\" ref = {app_container_callback} >\n      <div className=\"appbody\" ref = {callback}>\n        <AppBodyLoading loading = {appbodyloading_state} />\n        <CacheSwitch>\n            <Route exact path = '/blog_tube_react/Blog/:title'>\n              <AppBlog appbodyloading = {change_appbodyloading} />\n            </Route>\n            <CacheRoute exact path = '/blog_tube_react/Login'  >\n              <AppLogin appbodyloading = {change_appbodyloading} change_login_context = {change_login_context} />\n            </CacheRoute>\n            <CacheRoute exact path = '/blog_tube_react/Signup'>\n              <AppSignup appbodyloading = {change_appbodyloading}  />\n            </CacheRoute>\n            <Route  path = '/blog_tube_react/Blogians' >\n              <AppBlogians />\n            </Route>\n            <Route exact path = '/blog_tube_react/Profile/:user_id'>\n              <AppUserProfile />\n            </Route>\n            <Route  path = '/blog_tube_react/UploadBlog'>\n              <AppUploadBlog appbodyloading= {change_appbodyloading} />\n            </Route>\n            <Route exact path = \"/blog_tube_react/Home\" >\n              <AppHome blogs_list = {blogs_list} />\n            </Route>\n            <CacheRoute exact path = \"/blog_tube_react/Error\">\n              <h1>Error</h1>\n            </CacheRoute>\n            <Route path = \"/blog_tube_react/\"><Redirect to=\"/blog_tube_react/Home\" /></Route>\n        </CacheSwitch>\n      \n      </div>\n      <AppFooter appbody = {appbody} appcontainer = {appcontainer}/>  \n      </div>   \n  </ Login_context.Provider>\n\n    </Router>\n  );\n}\n\nexport default App;\nexport { Login_context};\n"]},"metadata":{},"sourceType":"module"}