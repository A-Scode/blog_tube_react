{"ast":null,"code":"var _jsxFileName = \"A:\\\\Python files\\\\Start Django\\\\blog_tube\\\\frontend\\\\blog_tube\\\\src\\\\componenets\\\\appBlogians.js\",\n    _s = $RefreshSig$();\n\nimport './statics/css/appBlogians.css';\nimport appConfig from './statics/appConfig.json';\nimport { useEffect, useState, useRef } from 'react';\nimport blogiansIcon from \"./statics/images/blogians.svg\";\nimport PropTypes from 'prop-types';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar AppBlogians = props => {\n  _s();\n\n  const [user_list, set_user_list] = useState([]);\n  var all_users_list;\n  useEffect(() => {\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', appConfig.origin + \"backend_api/userlist\");\n\n    xhr.onreadystatechange = () => {\n      if (xhr.readyState == 4 && xhr.status == 200) {\n        let response = JSON.parse(xhr.response);\n\n        if (response.status == 'success') {\n          window.all_users_list = response.userslist;\n          set_user_list(response.userslist);\n        } else if (response.status == 'fail') {\n          set_user_list([]);\n        }\n\n        console.log(response.status);\n      }\n    };\n\n    xhr.send();\n  }, []);\n\n  function search(event) {\n    const target = event.target;\n    let data = event.nativeEvent.data;\n\n    if (\"?\\\"':;!*()\".search(data) != -1) {\n      target.setCustomValidity(\"username does not contain ?!:;#$%^&*\\\"'() \");\n      target.value = target.value.slice(0, target.value.length - 1);\n      target.reportValidity();\n    } else {\n      target.setCustomValidity(\"\");\n      target.reportValidity();\n      let filtered_list = [];\n      console.log(all_users_list);\n\n      for (var user of all_users_list) {\n        if (user.user_name.search(target.value) != -1) {\n          filtered_list.push(user);\n        }\n\n        filtered_list.sort((a, b) => b.followers - a.followers);\n        console.log(filtered_list);\n      }\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"blogians\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"blogiansInput\",\n      onInput: event => search(event),\n      style: {\n        backgroundImage: `url(${blogiansIcon})`\n      },\n      type: \"text\",\n      placeholder: \"Search Blogians\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"allBlogians\",\n      children: user_list.map(item => {\n        return /*#__PURE__*/_jsxDEV(BlogiansMiniProfile, {\n          user_details: item\n        }, item.user_id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 32\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 13\n  }, this);\n};\n\n_s(AppBlogians, \"lZrzNI1n5hlgkd79p/rjfiKcvCQ=\");\n\n_c = AppBlogians;\n\nfunction BlogiansMiniProfile(props) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"miniprofile\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profilePhoto\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile_name\",\n      children: props.user_details.user_name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"follower_count\",\n      style: {\n        backgroundImage: `url(${blogiansIcon})`\n      },\n      children: [props.user_details.followers > 0 ? props.user_details.followers : \"No\", \" Followers\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), props.user_details.total_blogs === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tag\",\n      children: \"\\uD83C\\uDFF9Blogger\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 52\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 9\n  }, this);\n}\n\n_c2 = BlogiansMiniProfile;\nBlogiansMiniProfile.propTypes = {\n  user_details: PropTypes.object.isRequired\n};\nexport default AppBlogians;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"AppBlogians\");\n$RefreshReg$(_c2, \"BlogiansMiniProfile\");","map":{"version":3,"sources":["A:/Python files/Start Django/blog_tube/frontend/blog_tube/src/componenets/appBlogians.js"],"names":["appConfig","useEffect","useState","useRef","PropTypes","AppBlogians","props","user_list","set_user_list","all_users_list","xhr","XMLHttpRequest","open","origin","onreadystatechange","readyState","status","response","JSON","parse","window","userslist","console","log","send","search","event","target","data","nativeEvent","setCustomValidity","value","slice","length","reportValidity","filtered_list","user","user_name","push","sort","a","b","followers","backgroundImage","blogiansIcon","map","item","user_id","BlogiansMiniProfile","user_details","total_blogs","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import './statics/css/appBlogians.css'\r\nimport appConfig from './statics/appConfig.json'\r\nimport {useEffect, useState ,useRef} from 'react'\r\nimport blogiansIcon from './statics/images/blogians.svg'\r\nimport PropTypes from 'prop-types'\r\n\r\n\r\nvar AppBlogians = props=>{\r\n    const [user_list , set_user_list] = useState([])\r\n\r\n    var all_users_list ;\r\n\r\n    useEffect(()=>{\r\n    var xhr = new XMLHttpRequest()\r\n    xhr.open('GET' , appConfig.origin + \"backend_api/userlist\")\r\n    xhr.onreadystatechange = ()=>{\r\n        if (xhr.readyState == 4 && xhr.status == 200){\r\n            let response = JSON.parse(xhr.response)\r\n\r\n            if (response.status == 'success'){\r\n                window.all_users_list = response.userslist\r\n                set_user_list(response.userslist)\r\n            }else if (response.status == 'fail'){\r\n                set_user_list([])\r\n            }\r\n            console.log(response.status)\r\n        }\r\n    }\r\n    xhr.send()\r\n},[])\r\n\r\n    function search(event){\r\n        const target = event.target\r\n        let data = event.nativeEvent.data\r\n\r\n        if ( \"?\\\"':;!*()\".search(data) != -1){\r\n            target.setCustomValidity(\"username does not contain ?!:;#$%^&*\\\"'() \")\r\n            target.value = target.value.slice(0 , target.value.length -1)\r\n            target.reportValidity()\r\n        }else{\r\n            target.setCustomValidity(\"\")\r\n            target.reportValidity()\r\n            \r\n            let filtered_list = []\r\n            console.log(all_users_list)\r\n            for (var user of all_users_list){\r\n                if(user.user_name.search(target.value) != -1){\r\n                    filtered_list.push(user)\r\n                }\r\n            filtered_list.sort((a,b)=>b.followers - a.followers)\r\n            console.log(filtered_list)\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\n    return (<div className=\"blogians\" >\r\n                <input className = \"blogiansInput\" onInput= {event=>search(event)} style= {{backgroundImage:`url(${blogiansIcon})`}} type = \"text\" placeholder = \"Search Blogians\" />\r\n                <div className=\"allBlogians\">\r\n                    {user_list.map(item=>{\r\n                        return(<BlogiansMiniProfile key = {item.user_id} user_details = {item} />)\r\n                    })}\r\n                </div>\r\n            </div>\r\n    )\r\n}\r\n\r\n\r\nfunction BlogiansMiniProfile(props){\r\n    return(\r\n        <div className=\"miniprofile\" >\r\n            <div className=\"profilePhoto\">\r\n            </div>\r\n            <div className=\"profile_name\">{props.user_details.user_name}</div>\r\n            <div className=\"follower_count\" style= {{backgroundImage : `url(${blogiansIcon})`}} >{props.user_details.followers > 0 ?props.user_details.followers:\"No\"} Followers</div>\r\n            {props.user_details.total_blogs === 0 ?<div className=\"tag\">🏹Blogger</div>:null}\r\n        </div>\r\n    )\r\n}\r\n\r\nBlogiansMiniProfile.propTypes = {\r\n    user_details : PropTypes.object.isRequired\r\n}\r\n\r\n\r\n\r\nexport  default AppBlogians;\r\n"]},"metadata":{},"sourceType":"module"}