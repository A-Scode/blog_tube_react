{"ast":null,"code":"var _jsxFileName = \"A:\\\\Python files\\\\Start Django\\\\blog_tube\\\\frontend\\\\blog_tube\\\\src\\\\componenets\\\\appSignup.js\",\n    _s = $RefreshSig$();\n\nimport './statics/css/appSignup.css';\nimport { useState, useRef, useEffect } from 'react';\nimport username from \"./statics/images/username.svg\";\nimport password from \"./statics/images/password.svg\";\nimport email from \"./statics/images/email.svg\";\nimport signup_background from \"./statics/images/signup_background.svg\";\nimport { Link } from 'react-router-dom';\nimport appConfig from './statics/appConfig.json';\nimport anime from 'animejs';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar AppSignup = props => {\n  _s();\n\n  let chars = {\n    \"!\": null,\n    \"#\": null,\n    \"$\": null,\n    \"%\": null,\n    \"^\": null,\n    \"&\": null,\n    \"*\": null,\n    \"(\": null,\n    \")\": null,\n    \"'\": null,\n    '\"': null,\n    \";\": null,\n    \":\": null\n  };\n\n  function checkUsername(event) {\n    event.preventDefault();\n    let filtered_list = [...event.target.value].filter(item => !(item in chars));\n    let list = [...event.target.value];\n\n    if (filtered_list.join('') == list.join('')) {\n      event.target.setCustomValidity(\"\");\n    } else if (event.nativeEvent.data === '\"' || event.nativeEvent.data === \"'\") {\n      event.target.value = event.target.value.slice(0, event.target.value.length - 1);\n    } else if (event.nativeEvent.data in chars) {\n      event.target.setCustomValidity(\"username should not contain \\n ------------ ?!:;#$%^&*() ------------\");\n      event.target.reportValidity();\n    }\n  }\n\n  function removequotes(event) {\n    if (event.nativeEvent.data === '\"' || event.nativeEvent.data === \"'\") {\n      event.target.value = event.target.value.slice(0, event.target.value.length - 1);\n      event.target.setCustomValidity('Cannot use \" or \\' ');\n      event.target.reportValidity();\n    } else {\n      event.target.setCustomValidity('');\n    }\n  }\n\n  const ref = useRef({}); // useEffect for ref\n\n  useEffect(() => {\n    try {\n      anime({\n        targets: ref.current['signup_heading'],\n        update: function (anime) {\n          try {\n            ref.current['signup_heading'].style.filter = `hue-rotate(${anime.progress * 3.6}deg)`;\n          } catch (err) {\n            console.log(err);\n          }\n        },\n        duration: 2000,\n        autoplay: true,\n        direction: 'alternate',\n        loop: true\n      });\n      ref.current['signup_form'].style.backgroundImage = `url(${signup_background})`;\n      ref.current['username'].style.backgroundImage = `url(${username})`;\n      ref.current['password'].style.backgroundImage = `url(${password})`;\n      ref.current['email'].style.backgroundImage = `url(${email})`;\n    } catch (err) {\n      console.log(err);\n    }\n  }, [ref]);\n  var [block_state, set_block_state] = useState('form');\n  let origin = appConfig.origin;\n\n  let submit_data = event => {\n    let xhr = new XMLHttpRequest();\n\n    xhr.onreadystatechange = () => {\n      console.log(xhr.status, xhr.readyState);\n\n      if (xhr.status == 200 && xhr.readyState == 4) {\n        console.log(xhr.response);\n      }\n    };\n\n    xhr.open('POST', origin + 'backend_api/signup');\n    let form = event.target;\n    let data = {\n      username: form[0].value,\n      email: form[1].value,\n      password: form[2].value\n    };\n    xhr.setRequestHeader('userData', JSON.stringify(data));\n    let form_data = new FormData();\n    let imagefile = form[4].files[0];\n    console.log(imagefile);\n    form_data.append('image', imagefile);\n    imagefile ? xhr.send(form_data) : xhr.send();\n  };\n\n  var input_id;\n  var prev_value;\n\n  function change_image() {\n    console.log(\"this triggered\");\n\n    if (ref.current['image_input'].value !== '' || ref.current['image_input'].value !== prev_value) {\n      let image_url = URL.createObjectURL(ref.current['image_input'].files[0]);\n      ref.current['image'].style.backgroundImage = `url(${image_url})`;\n      prev_value = ref.current['image_input'].value;\n      clearInterval(input_id);\n    } else {\n      input_id = setInterval(change_image, 1000);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"signup\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"signup_form\",\n      ref: el => ref.current['signup_form'] = el,\n      children: [block_state === 'form' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"signup_heading\",\n          ref: el => ref.current['signup_heading'] = el,\n          children: \"Sign Up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          action: \"javascript:void(0);\",\n          onSubmit: event => submit_data(event),\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            required: true,\n            type: \"text\",\n            placeholder: \"Username\",\n            className: \"signup_username\",\n            ref: el => ref.current['username'] = el,\n            maxLength: 100,\n            onInput: event => checkUsername(event)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            required: true,\n            type: \"email\",\n            placeholder: \"Email\",\n            className: \"signup_email\",\n            ref: el => ref.current['email'] = el,\n            maxLength: 100,\n            onInput: e => removequotes(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            required: true,\n            type: \"password\",\n            placeholder: \"Password\",\n            className: \"signup_password\",\n            ref: el => ref.current['password'] = el,\n            minLength: 8,\n            onInput: e => removequotes(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"submit\",\n            id: \"signup_submit\",\n            value: \"Sign Up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"upload_image\",\n            ref: el => ref.current['image'] = el,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              id: \"file_input\",\n              ref: el => ref.current['image_input'] = el,\n              accept: \"image/*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"file_input\",\n              id: \"file_input_label\",\n              ref: el => ref.current['image_percent'] = el,\n              onClick: () => change_image(),\n              children: \"100%\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : null, block_state === 'error' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"signup_heading\",\n          ref: el => ref.current['signup_heading'] = el,\n          align: \"center\",\n          style: {\n            color: 'rgb(24, 151, 201)'\n          },\n          children: \"Error Occured!!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"signup_submit\",\n          onClick: () => set_block_state('form'),\n          style: {\n            justifySelf: 'center',\n            gridColumn: '1/span 2'\n          },\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : null, block_state === 'success' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          ref: el => ref.current['signup_heading'] = el,\n          style: {\n            color: 'rgb(24, 151, 201)',\n            gridColumn: '1/ span 2'\n          },\n          align: \"center\",\n          children: \"\\uD83C\\uDF89Welcome\\uD83C\\uDF89\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"signup_submit\",\n          style: {\n            justifySelf: 'center',\n            gridColumn: '1/span 2'\n          },\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/Login\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 124\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 102\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 14\n        }, this)]\n      }, void 0, true) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 124,\n    columnNumber: 7\n  }, this);\n};\n\n_s(AppSignup, \"PRFjaXTLoTJ6Pxn57g+5EMtcohY=\");\n\n_c = AppSignup;\nexport default AppSignup;\n\nvar _c;\n\n$RefreshReg$(_c, \"AppSignup\");","map":{"version":3,"sources":["A:/Python files/Start Django/blog_tube/frontend/blog_tube/src/componenets/appSignup.js"],"names":["useState","useRef","useEffect","Link","appConfig","anime","AppSignup","props","chars","checkUsername","event","preventDefault","filtered_list","target","value","filter","item","list","join","setCustomValidity","nativeEvent","data","slice","length","reportValidity","removequotes","ref","targets","current","update","style","progress","err","console","log","duration","autoplay","direction","loop","backgroundImage","signup_background","username","password","email","block_state","set_block_state","origin","submit_data","xhr","XMLHttpRequest","onreadystatechange","status","readyState","response","open","form","setRequestHeader","JSON","stringify","form_data","FormData","imagefile","files","append","send","input_id","prev_value","change_image","image_url","URL","createObjectURL","clearInterval","setInterval","el","e","color","justifySelf","gridColumn"],"mappings":"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","sourcesContent":["import './statics/css/appSignup.css'\r\nimport {useState,useRef , useEffect} from 'react'\r\nimport username from './statics/images/username.svg'\r\nimport password from './statics/images/password.svg'\r\nimport email from './statics/images/email.svg'\r\nimport signup_background from './statics/images/signup_background.svg'\r\nimport { Link } from 'react-router-dom'\r\nimport appConfig from './statics/appConfig.json'\r\n\r\nimport anime from 'animejs'\r\n\r\n\r\nvar AppSignup = props=>{\r\n\r\n    let chars = {\"!\":null , \"#\":null , \"$\":null,\"%\":null,\"^\":null,\"&\":null,\"*\":null,\"(\":null,\")\":null,\"'\":null, '\"':null,\";\":null, \":\":null}\r\n\r\n\r\n    function checkUsername(event) {\r\n        event.preventDefault()\r\n        let filtered_list = [...event.target.value].filter((item)=> !(item in chars))\r\n        let list = [...event.target.value]\r\n\r\n        if( filtered_list.join('') == list.join('') ){\r\n                event.target.setCustomValidity(\"\")\r\n            }\r\n\r\n        else if (event.nativeEvent.data === '\"' || event.nativeEvent.data === \"'\"){\r\n            event.target.value = event.target.value.slice(0, event.target.value.length-1)\r\n        }else if (event.nativeEvent.data in chars ){\r\n            event.target.setCustomValidity(\"username should not contain \\n ------------ ?!:;#$%^&*() ------------\")\r\n            event.target.reportValidity()\r\n            \r\n        }\r\n    }\r\n\r\n    function removequotes(event){\r\n        if (event.nativeEvent.data === '\"' || event.nativeEvent.data === \"'\"){\r\n            event.target.value = event.target.value.slice(0, event.target.value.length-1)\r\n            event.target.setCustomValidity('Cannot use \" or \\' ')\r\n            event.target.reportValidity()\r\n        }else{\r\n            event.target.setCustomValidity('')\r\n            \r\n        }\r\n    }\r\n\r\n    const ref = useRef({})\r\n\r\n    // useEffect for ref\r\n    useEffect(()=>{\r\ntry{\r\n    anime({\r\n        targets:ref.current['signup_heading'],\r\n        update:function(anime){\r\n            try{\r\n            ref.current['signup_heading'].style.filter = `hue-rotate(${anime.progress *3.6}deg)`\r\n            }catch(err){\r\n                console.log(err)\r\n            }\r\n        },\r\n        duration:2000,\r\n        autoplay:true,\r\n        direction:'alternate',\r\n        loop:true\r\n    })\r\n        ref.current['signup_form'].style.backgroundImage = `url(${signup_background})`\r\n        ref.current['username'].style.backgroundImage = `url(${username})`\r\n        ref.current['password'].style.backgroundImage = `url(${password})`\r\n        ref.current['email'].style.backgroundImage = `url(${email})`\r\n\r\n    }catch(err){\r\n        console.log(err)\r\n    }\r\n\r\n    }, [ref])\r\n\r\n    var [block_state, set_block_state] = useState('form')\r\n\r\n    let origin = appConfig.origin\r\n\r\n    let submit_data=(event)=>{\r\n        \r\n        let xhr = new XMLHttpRequest()\r\n        xhr.onreadystatechange = ()=>{\r\n            console.log(xhr.status, xhr.readyState)\r\n            if (xhr.status == 200 && xhr.readyState ==4){\r\n                console.log(xhr.response)\r\n            }\r\n        }\r\n        xhr.open('POST',origin+'backend_api/signup')\r\n\r\n        let form = event.target\r\n        let data = {username : form[0].value,\r\n                    email    : form[1].value,\r\n                    password : form[2].value,\r\n                }\r\n        xhr.setRequestHeader('userData' , JSON.stringify(data))\r\n\r\n        let form_data = new FormData()\r\n        let imagefile = form[4].files[0]\r\n        console.log(imagefile)\r\n        form_data.append('image' , imagefile)\r\n        imagefile?\r\n        xhr.send(form_data)\r\n        :xhr.send()\r\n\r\n    }\r\n    var input_id\r\n    var prev_value\r\n    function change_image(){\r\n        console.log(\"this triggered\")\r\n        if (ref.current['image_input'].value !== '' || ref.current['image_input'].value !== prev_value ){\r\n        let image_url = URL.createObjectURL( ref.current['image_input'].files[0])\r\n        ref.current['image'].style.backgroundImage = `url(${image_url})`\r\n        prev_value = ref.current['image_input'].value\r\n        clearInterval(input_id)\r\n    }else{\r\n        \r\n            input_id = setInterval(change_image, 1000)\r\n        }\r\n    }\r\n \r\n    return(\r\n      <div className=\"signup\">\r\n          <div className=\"signup_form\"  ref = {el=>ref.current['signup_form']=el}>\r\n            { block_state==='form'?\r\n                <>\r\n            <h1 className = \"signup_heading\" ref = {el=>ref.current['signup_heading']=el} >Sign Up</h1>\r\n            <form action=\"javascript:void(0);\" onSubmit = {event=>submit_data(event)}>\r\n                <input required = {true} type=\"text\" placeholder = 'Username' className= 'signup_username' ref = {el => ref.current['username']= el} maxLength={100} onInput= {event=>checkUsername(event)} />\r\n                <input required = {true} type= \"email\" placeholder = 'Email' className= \"signup_email\"  ref = {el => ref.current['email']= el}  maxLength={100} onInput= {e=>removequotes(e)} />\r\n                <input required = {true} type=\"password\" placeholder = 'Password' className= 'signup_password'  ref = {el => ref.current['password']= el}  minLength={8} onInput={e=>removequotes(e)}  />\r\n                <input type=\"submit\" id = \"signup_submit\" value=\"Sign Up\" />\r\n                <div className=\"upload_image\" ref = {el => ref.current['image']=el} >\r\n                    <input type=\"file\"  id = 'file_input'  ref = {el=>ref.current['image_input']=el}  accept= \"image/*\"  />\r\n                    <label htmlFor= \"file_input\" id = \"file_input_label\" ref = {el=>ref.current['image_percent']= el}  onClick={()=>change_image()}  >100%</label>\r\n                </div>\r\n            </form>\r\n            </>: null}\r\n            {block_state==='error'?\r\n            <>\r\n            <h2 className = \"signup_heading\" ref = {el=>ref.current['signup_heading']=el} align='center' style = {{color:'rgb(24, 151, 201)'}} >Error Occured!!</h2>\r\n            <button id = \"signup_submit\" onClick= {()=>set_block_state('form')} style = {{justifySelf:'center',  gridColumn: '1/span 2'}}>Back</button>\r\n            </>\r\n            :null\r\n            }\r\n            {block_state==='success'?\r\n            <>\r\n            <h3 ref = {el=>ref.current['signup_heading']=el} style = {{color:'rgb(24, 151, 201)', gridColumn:'1/ span 2'}}  align='center'>ðŸŽ‰WelcomeðŸŽ‰</h3>\r\n             <button id = \"signup_submit\"  style = {{justifySelf:'center',  gridColumn: '1/span 2'}}><Link  to  = \"/Login\"><span>Login</span></Link></button>\r\n            \r\n            </>\r\n        :null}\r\n                \r\n          </div>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default AppSignup"]},"metadata":{},"sourceType":"module"}