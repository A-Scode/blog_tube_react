{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\n\nvar _keys = require(\"babel-runtime/core-js/object/keys\");\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _create = require(\"babel-runtime/core-js/object/create\");\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _map = require(\"babel-runtime/core-js/map\");\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _getIterator2 = require(\"babel-runtime/core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _includes = require(\"lodash/includes\");\n\nvar _includes2 = _interopRequireDefault(_includes);\n\nvar _repeat = require(\"lodash/repeat\");\n\nvar _repeat2 = _interopRequireDefault(_repeat);\n\nvar _renamer = require(\"./lib/renamer\");\n\nvar _renamer2 = _interopRequireDefault(_renamer);\n\nvar _index = require(\"../index\");\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _defaults = require(\"lodash/defaults\");\n\nvar _defaults2 = _interopRequireDefault(_defaults);\n\nvar _babelMessages = require(\"babel-messages\");\n\nvar messages = _interopRequireWildcard(_babelMessages);\n\nvar _binding2 = require(\"./binding\");\n\nvar _binding3 = _interopRequireDefault(_binding2);\n\nvar _globals = require(\"globals\");\n\nvar _globals2 = _interopRequireDefault(_globals);\n\nvar _babelTypes = require(\"babel-types\");\n\nvar t = _interopRequireWildcard(_babelTypes);\n\nvar _cache = require(\"../cache\");\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar _crawlCallsCount = 0;\n\nfunction getCache(path, parentScope, self) {\n  var scopes = _cache.scope.get(path.node) || [];\n\n  for (var _iterator = scopes, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : (0, _getIterator3.default)(_iterator);;) {\n    var _ref;\n\n    if (_isArray) {\n      if (_i >= _iterator.length) break;\n      _ref = _iterator[_i++];\n    } else {\n      _i = _iterator.next();\n      if (_i.done) break;\n      _ref = _i.value;\n    }\n\n    var scope = _ref;\n    if (scope.parent === parentScope && scope.path === path) return scope;\n  }\n\n  scopes.push(self);\n\n  if (!_cache.scope.has(path.node)) {\n    _cache.scope.set(path.node, scopes);\n  }\n}\n\nfunction gatherNodeParts(node, parts) {\n  if (t.isModuleDeclaration(node)) {\n    if (node.source) {\n      gatherNodeParts(node.source, parts);\n    } else if (node.specifiers && node.specifiers.length) {\n      for (var _iterator2 = node.specifiers, _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : (0, _getIterator3.default)(_iterator2);;) {\n        var _ref2;\n\n        if (_isArray2) {\n          if (_i2 >= _iterator2.length) break;\n          _ref2 = _iterator2[_i2++];\n        } else {\n          _i2 = _iterator2.next();\n          if (_i2.done) break;\n          _ref2 = _i2.value;\n        }\n\n        var specifier = _ref2;\n        gatherNodeParts(specifier, parts);\n      }\n    } else if (node.declaration) {\n      gatherNodeParts(node.declaration, parts);\n    }\n  } else if (t.isModuleSpecifier(node)) {\n    gatherNodeParts(node.local, parts);\n  } else if (t.isMemberExpression(node)) {\n    gatherNodeParts(node.object, parts);\n    gatherNodeParts(node.property, parts);\n  } else if (t.isIdentifier(node)) {\n    parts.push(node.name);\n  } else if (t.isLiteral(node)) {\n    parts.push(node.value);\n  } else if (t.isCallExpression(node)) {\n    gatherNodeParts(node.callee, parts);\n  } else if (t.isObjectExpression(node) || t.isObjectPattern(node)) {\n    for (var _iterator3 = node.properties, _isArray3 = Array.isArray(_iterator3), _i3 = 0, _iterator3 = _isArray3 ? _iterator3 : (0, _getIterator3.default)(_iterator3);;) {\n      var _ref3;\n\n      if (_isArray3) {\n        if (_i3 >= _iterator3.length) break;\n        _ref3 = _iterator3[_i3++];\n      } else {\n        _i3 = _iterator3.next();\n        if (_i3.done) break;\n        _ref3 = _i3.value;\n      }\n\n      var prop = _ref3;\n      gatherNodeParts(prop.key || prop.argument, parts);\n    }\n  }\n}\n\nvar collectorVisitor = {\n  For: function For(path) {\n    for (var _iterator4 = t.FOR_INIT_KEYS, _isArray4 = Array.isArray(_iterator4), _i4 = 0, _iterator4 = _isArray4 ? _iterator4 : (0, _getIterator3.default)(_iterator4);;) {\n      var _ref4;\n\n      if (_isArray4) {\n        if (_i4 >= _iterator4.length) break;\n        _ref4 = _iterator4[_i4++];\n      } else {\n        _i4 = _iterator4.next();\n        if (_i4.done) break;\n        _ref4 = _i4.value;\n      }\n\n      var key = _ref4;\n      var declar = path.get(key);\n      if (declar.isVar()) path.scope.getFunctionParent().registerBinding(\"var\", declar);\n    }\n  },\n  Declaration: function Declaration(path) {\n    if (path.isBlockScoped()) return;\n    if (path.isExportDeclaration() && path.get(\"declaration\").isDeclaration()) return;\n    path.scope.getFunctionParent().registerDeclaration(path);\n  },\n  ReferencedIdentifier: function ReferencedIdentifier(path, state) {\n    state.references.push(path);\n  },\n  ForXStatement: function ForXStatement(path, state) {\n    var left = path.get(\"left\");\n\n    if (left.isPattern() || left.isIdentifier()) {\n      state.constantViolations.push(left);\n    }\n  },\n  ExportDeclaration: {\n    exit: function exit(path) {\n      var node = path.node,\n          scope = path.scope;\n      var declar = node.declaration;\n\n      if (t.isClassDeclaration(declar) || t.isFunctionDeclaration(declar)) {\n        var _id = declar.id;\n        if (!_id) return;\n        var binding = scope.getBinding(_id.name);\n        if (binding) binding.reference(path);\n      } else if (t.isVariableDeclaration(declar)) {\n        for (var _iterator5 = declar.declarations, _isArray5 = Array.isArray(_iterator5), _i5 = 0, _iterator5 = _isArray5 ? _iterator5 : (0, _getIterator3.default)(_iterator5);;) {\n          var _ref5;\n\n          if (_isArray5) {\n            if (_i5 >= _iterator5.length) break;\n            _ref5 = _iterator5[_i5++];\n          } else {\n            _i5 = _iterator5.next();\n            if (_i5.done) break;\n            _ref5 = _i5.value;\n          }\n\n          var decl = _ref5;\n          var ids = t.getBindingIdentifiers(decl);\n\n          for (var name in ids) {\n            var _binding = scope.getBinding(name);\n\n            if (_binding) _binding.reference(path);\n          }\n        }\n      }\n    }\n  },\n  LabeledStatement: function LabeledStatement(path) {\n    path.scope.getProgramParent().addGlobal(path.node);\n    path.scope.getBlockParent().registerDeclaration(path);\n  },\n  AssignmentExpression: function AssignmentExpression(path, state) {\n    state.assignments.push(path);\n  },\n  UpdateExpression: function UpdateExpression(path, state) {\n    state.constantViolations.push(path.get(\"argument\"));\n  },\n  UnaryExpression: function UnaryExpression(path, state) {\n    if (path.node.operator === \"delete\") {\n      state.constantViolations.push(path.get(\"argument\"));\n    }\n  },\n  BlockScoped: function BlockScoped(path) {\n    var scope = path.scope;\n    if (scope.path === path) scope = scope.parent;\n    scope.getBlockParent().registerDeclaration(path);\n  },\n  ClassDeclaration: function ClassDeclaration(path) {\n    var id = path.node.id;\n    if (!id) return;\n    var name = id.name;\n    path.scope.bindings[name] = path.scope.getBinding(name);\n  },\n  Block: function Block(path) {\n    var paths = path.get(\"body\");\n\n    for (var _iterator6 = paths, _isArray6 = Array.isArray(_iterator6), _i6 = 0, _iterator6 = _isArray6 ? _iterator6 : (0, _getIterator3.default)(_iterator6);;) {\n      var _ref6;\n\n      if (_isArray6) {\n        if (_i6 >= _iterator6.length) break;\n        _ref6 = _iterator6[_i6++];\n      } else {\n        _i6 = _iterator6.next();\n        if (_i6.done) break;\n        _ref6 = _i6.value;\n      }\n\n      var bodyPath = _ref6;\n\n      if (bodyPath.isFunctionDeclaration()) {\n        path.scope.getBlockParent().registerDeclaration(bodyPath);\n      }\n    }\n  }\n};\nvar uid = 0;\n\nvar Scope = function () {\n  function Scope(path, parentScope) {\n    (0, _classCallCheck3.default)(this, Scope);\n\n    if (parentScope && parentScope.block === path.node) {\n      return parentScope;\n    }\n\n    var cached = getCache(path, parentScope, this);\n    if (cached) return cached;\n    this.uid = uid++;\n    this.parent = parentScope;\n    this.hub = path.hub;\n    this.parentBlock = path.parent;\n    this.block = path.node;\n    this.path = path;\n    this.labels = new _map2.default();\n  }\n\n  Scope.prototype.traverse = function traverse(node, opts, state) {\n    (0, _index2.default)(node, opts, this, state, this.path);\n  };\n\n  Scope.prototype.generateDeclaredUidIdentifier = function generateDeclaredUidIdentifier() {\n    var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"temp\";\n    var id = this.generateUidIdentifier(name);\n    this.push({\n      id: id\n    });\n    return id;\n  };\n\n  Scope.prototype.generateUidIdentifier = function generateUidIdentifier() {\n    var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"temp\";\n    return t.identifier(this.generateUid(name));\n  };\n\n  Scope.prototype.generateUid = function generateUid() {\n    var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"temp\";\n    name = t.toIdentifier(name).replace(/^_+/, \"\").replace(/[0-9]+$/g, \"\");\n    var uid = void 0;\n    var i = 0;\n\n    do {\n      uid = this._generateUid(name, i);\n      i++;\n    } while (this.hasLabel(uid) || this.hasBinding(uid) || this.hasGlobal(uid) || this.hasReference(uid));\n\n    var program = this.getProgramParent();\n    program.references[uid] = true;\n    program.uids[uid] = true;\n    return uid;\n  };\n\n  Scope.prototype._generateUid = function _generateUid(name, i) {\n    var id = name;\n    if (i > 1) id += i;\n    return \"_\" + id;\n  };\n\n  Scope.prototype.generateUidIdentifierBasedOnNode = function generateUidIdentifierBasedOnNode(parent, defaultName) {\n    var node = parent;\n\n    if (t.isAssignmentExpression(parent)) {\n      node = parent.left;\n    } else if (t.isVariableDeclarator(parent)) {\n      node = parent.id;\n    } else if (t.isObjectProperty(node) || t.isObjectMethod(node)) {\n      node = node.key;\n    }\n\n    var parts = [];\n    gatherNodeParts(node, parts);\n    var id = parts.join(\"$\");\n    id = id.replace(/^_/, \"\") || defaultName || \"ref\";\n    return this.generateUidIdentifier(id.slice(0, 20));\n  };\n\n  Scope.prototype.isStatic = function isStatic(node) {\n    if (t.isThisExpression(node) || t.isSuper(node)) {\n      return true;\n    }\n\n    if (t.isIdentifier(node)) {\n      var binding = this.getBinding(node.name);\n\n      if (binding) {\n        return binding.constant;\n      } else {\n        return this.hasBinding(node.name);\n      }\n    }\n\n    return false;\n  };\n\n  Scope.prototype.maybeGenerateMemoised = function maybeGenerateMemoised(node, dontPush) {\n    if (this.isStatic(node)) {\n      return null;\n    } else {\n      var _id2 = this.generateUidIdentifierBasedOnNode(node);\n\n      if (!dontPush) this.push({\n        id: _id2\n      });\n      return _id2;\n    }\n  };\n\n  Scope.prototype.checkBlockScopedCollisions = function checkBlockScopedCollisions(local, kind, name, id) {\n    if (kind === \"param\") return;\n    if (kind === \"hoisted\" && local.kind === \"let\") return;\n    var duplicate = kind === \"let\" || local.kind === \"let\" || local.kind === \"const\" || local.kind === \"module\" || local.kind === \"param\" && (kind === \"let\" || kind === \"const\");\n\n    if (duplicate) {\n      throw this.hub.file.buildCodeFrameError(id, messages.get(\"scopeDuplicateDeclaration\", name), TypeError);\n    }\n  };\n\n  Scope.prototype.rename = function rename(oldName, newName, block) {\n    var binding = this.getBinding(oldName);\n\n    if (binding) {\n      newName = newName || this.generateUidIdentifier(oldName).name;\n      return new _renamer2.default(binding, oldName, newName).rename(block);\n    }\n  };\n\n  Scope.prototype._renameFromMap = function _renameFromMap(map, oldName, newName, value) {\n    if (map[oldName]) {\n      map[newName] = value;\n      map[oldName] = null;\n    }\n  };\n\n  Scope.prototype.dump = function dump() {\n    var sep = (0, _repeat2.default)(\"-\", 60);\n    console.log(sep);\n    var scope = this;\n\n    do {\n      console.log(\"#\", scope.block.type);\n\n      for (var name in scope.bindings) {\n        var binding = scope.bindings[name];\n        console.log(\" -\", name, {\n          constant: binding.constant,\n          references: binding.references,\n          violations: binding.constantViolations.length,\n          kind: binding.kind\n        });\n      }\n    } while (scope = scope.parent);\n\n    console.log(sep);\n  };\n\n  Scope.prototype.toArray = function toArray(node, i) {\n    var file = this.hub.file;\n\n    if (t.isIdentifier(node)) {\n      var binding = this.getBinding(node.name);\n      if (binding && binding.constant && binding.path.isGenericType(\"Array\")) return node;\n    }\n\n    if (t.isArrayExpression(node)) {\n      return node;\n    }\n\n    if (t.isIdentifier(node, {\n      name: \"arguments\"\n    })) {\n      return t.callExpression(t.memberExpression(t.memberExpression(t.memberExpression(t.identifier(\"Array\"), t.identifier(\"prototype\")), t.identifier(\"slice\")), t.identifier(\"call\")), [node]);\n    }\n\n    var helperName = \"toArray\";\n    var args = [node];\n\n    if (i === true) {\n      helperName = \"toConsumableArray\";\n    } else if (i) {\n      args.push(t.numericLiteral(i));\n      helperName = \"slicedToArray\";\n    }\n\n    return t.callExpression(file.addHelper(helperName), args);\n  };\n\n  Scope.prototype.hasLabel = function hasLabel(name) {\n    return !!this.getLabel(name);\n  };\n\n  Scope.prototype.getLabel = function getLabel(name) {\n    return this.labels.get(name);\n  };\n\n  Scope.prototype.registerLabel = function registerLabel(path) {\n    this.labels.set(path.node.label.name, path);\n  };\n\n  Scope.prototype.registerDeclaration = function registerDeclaration(path) {\n    if (path.isLabeledStatement()) {\n      this.registerLabel(path);\n    } else if (path.isFunctionDeclaration()) {\n      this.registerBinding(\"hoisted\", path.get(\"id\"), path);\n    } else if (path.isVariableDeclaration()) {\n      var declarations = path.get(\"declarations\");\n\n      for (var _iterator7 = declarations, _isArray7 = Array.isArray(_iterator7), _i7 = 0, _iterator7 = _isArray7 ? _iterator7 : (0, _getIterator3.default)(_iterator7);;) {\n        var _ref7;\n\n        if (_isArray7) {\n          if (_i7 >= _iterator7.length) break;\n          _ref7 = _iterator7[_i7++];\n        } else {\n          _i7 = _iterator7.next();\n          if (_i7.done) break;\n          _ref7 = _i7.value;\n        }\n\n        var declar = _ref7;\n        this.registerBinding(path.node.kind, declar);\n      }\n    } else if (path.isClassDeclaration()) {\n      this.registerBinding(\"let\", path);\n    } else if (path.isImportDeclaration()) {\n      var specifiers = path.get(\"specifiers\");\n\n      for (var _iterator8 = specifiers, _isArray8 = Array.isArray(_iterator8), _i8 = 0, _iterator8 = _isArray8 ? _iterator8 : (0, _getIterator3.default)(_iterator8);;) {\n        var _ref8;\n\n        if (_isArray8) {\n          if (_i8 >= _iterator8.length) break;\n          _ref8 = _iterator8[_i8++];\n        } else {\n          _i8 = _iterator8.next();\n          if (_i8.done) break;\n          _ref8 = _i8.value;\n        }\n\n        var specifier = _ref8;\n        this.registerBinding(\"module\", specifier);\n      }\n    } else if (path.isExportDeclaration()) {\n      var _declar = path.get(\"declaration\");\n\n      if (_declar.isClassDeclaration() || _declar.isFunctionDeclaration() || _declar.isVariableDeclaration()) {\n        this.registerDeclaration(_declar);\n      }\n    } else {\n      this.registerBinding(\"unknown\", path);\n    }\n  };\n\n  Scope.prototype.buildUndefinedNode = function buildUndefinedNode() {\n    if (this.hasBinding(\"undefined\")) {\n      return t.unaryExpression(\"void\", t.numericLiteral(0), true);\n    } else {\n      return t.identifier(\"undefined\");\n    }\n  };\n\n  Scope.prototype.registerConstantViolation = function registerConstantViolation(path) {\n    var ids = path.getBindingIdentifiers();\n\n    for (var name in ids) {\n      var binding = this.getBinding(name);\n      if (binding) binding.reassign(path);\n    }\n  };\n\n  Scope.prototype.registerBinding = function registerBinding(kind, path) {\n    var bindingPath = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : path;\n    if (!kind) throw new ReferenceError(\"no `kind`\");\n\n    if (path.isVariableDeclaration()) {\n      var declarators = path.get(\"declarations\");\n\n      for (var _iterator9 = declarators, _isArray9 = Array.isArray(_iterator9), _i9 = 0, _iterator9 = _isArray9 ? _iterator9 : (0, _getIterator3.default)(_iterator9);;) {\n        var _ref9;\n\n        if (_isArray9) {\n          if (_i9 >= _iterator9.length) break;\n          _ref9 = _iterator9[_i9++];\n        } else {\n          _i9 = _iterator9.next();\n          if (_i9.done) break;\n          _ref9 = _i9.value;\n        }\n\n        var declar = _ref9;\n        this.registerBinding(kind, declar);\n      }\n\n      return;\n    }\n\n    var parent = this.getProgramParent();\n    var ids = path.getBindingIdentifiers(true);\n\n    for (var name in ids) {\n      for (var _iterator10 = ids[name], _isArray10 = Array.isArray(_iterator10), _i10 = 0, _iterator10 = _isArray10 ? _iterator10 : (0, _getIterator3.default)(_iterator10);;) {\n        var _ref10;\n\n        if (_isArray10) {\n          if (_i10 >= _iterator10.length) break;\n          _ref10 = _iterator10[_i10++];\n        } else {\n          _i10 = _iterator10.next();\n          if (_i10.done) break;\n          _ref10 = _i10.value;\n        }\n\n        var _id3 = _ref10;\n        var local = this.getOwnBinding(name);\n\n        if (local) {\n          if (local.identifier === _id3) continue;\n          this.checkBlockScopedCollisions(local, kind, name, _id3);\n        }\n\n        if (local && local.path.isFlow()) local = null;\n        parent.references[name] = true;\n        this.bindings[name] = new _binding3.default({\n          identifier: _id3,\n          existing: local,\n          scope: this,\n          path: bindingPath,\n          kind: kind\n        });\n      }\n    }\n  };\n\n  Scope.prototype.addGlobal = function addGlobal(node) {\n    this.globals[node.name] = node;\n  };\n\n  Scope.prototype.hasUid = function hasUid(name) {\n    var scope = this;\n\n    do {\n      if (scope.uids[name]) return true;\n    } while (scope = scope.parent);\n\n    return false;\n  };\n\n  Scope.prototype.hasGlobal = function hasGlobal(name) {\n    var scope = this;\n\n    do {\n      if (scope.globals[name]) return true;\n    } while (scope = scope.parent);\n\n    return false;\n  };\n\n  Scope.prototype.hasReference = function hasReference(name) {\n    var scope = this;\n\n    do {\n      if (scope.references[name]) return true;\n    } while (scope = scope.parent);\n\n    return false;\n  };\n\n  Scope.prototype.isPure = function isPure(node, constantsOnly) {\n    if (t.isIdentifier(node)) {\n      var binding = this.getBinding(node.name);\n      if (!binding) return false;\n      if (constantsOnly) return binding.constant;\n      return true;\n    } else if (t.isClass(node)) {\n      if (node.superClass && !this.isPure(node.superClass, constantsOnly)) return false;\n      return this.isPure(node.body, constantsOnly);\n    } else if (t.isClassBody(node)) {\n      for (var _iterator11 = node.body, _isArray11 = Array.isArray(_iterator11), _i11 = 0, _iterator11 = _isArray11 ? _iterator11 : (0, _getIterator3.default)(_iterator11);;) {\n        var _ref11;\n\n        if (_isArray11) {\n          if (_i11 >= _iterator11.length) break;\n          _ref11 = _iterator11[_i11++];\n        } else {\n          _i11 = _iterator11.next();\n          if (_i11.done) break;\n          _ref11 = _i11.value;\n        }\n\n        var method = _ref11;\n        if (!this.isPure(method, constantsOnly)) return false;\n      }\n\n      return true;\n    } else if (t.isBinary(node)) {\n      return this.isPure(node.left, constantsOnly) && this.isPure(node.right, constantsOnly);\n    } else if (t.isArrayExpression(node)) {\n      for (var _iterator12 = node.elements, _isArray12 = Array.isArray(_iterator12), _i12 = 0, _iterator12 = _isArray12 ? _iterator12 : (0, _getIterator3.default)(_iterator12);;) {\n        var _ref12;\n\n        if (_isArray12) {\n          if (_i12 >= _iterator12.length) break;\n          _ref12 = _iterator12[_i12++];\n        } else {\n          _i12 = _iterator12.next();\n          if (_i12.done) break;\n          _ref12 = _i12.value;\n        }\n\n        var elem = _ref12;\n        if (!this.isPure(elem, constantsOnly)) return false;\n      }\n\n      return true;\n    } else if (t.isObjectExpression(node)) {\n      for (var _iterator13 = node.properties, _isArray13 = Array.isArray(_iterator13), _i13 = 0, _iterator13 = _isArray13 ? _iterator13 : (0, _getIterator3.default)(_iterator13);;) {\n        var _ref13;\n\n        if (_isArray13) {\n          if (_i13 >= _iterator13.length) break;\n          _ref13 = _iterator13[_i13++];\n        } else {\n          _i13 = _iterator13.next();\n          if (_i13.done) break;\n          _ref13 = _i13.value;\n        }\n\n        var prop = _ref13;\n        if (!this.isPure(prop, constantsOnly)) return false;\n      }\n\n      return true;\n    } else if (t.isClassMethod(node)) {\n      if (node.computed && !this.isPure(node.key, constantsOnly)) return false;\n      if (node.kind === \"get\" || node.kind === \"set\") return false;\n      return true;\n    } else if (t.isClassProperty(node) || t.isObjectProperty(node)) {\n      if (node.computed && !this.isPure(node.key, constantsOnly)) return false;\n      return this.isPure(node.value, constantsOnly);\n    } else if (t.isUnaryExpression(node)) {\n      return this.isPure(node.argument, constantsOnly);\n    } else {\n      return t.isPureish(node);\n    }\n  };\n\n  Scope.prototype.setData = function setData(key, val) {\n    return this.data[key] = val;\n  };\n\n  Scope.prototype.getData = function getData(key) {\n    var scope = this;\n\n    do {\n      var data = scope.data[key];\n      if (data != null) return data;\n    } while (scope = scope.parent);\n  };\n\n  Scope.prototype.removeData = function removeData(key) {\n    var scope = this;\n\n    do {\n      var data = scope.data[key];\n      if (data != null) scope.data[key] = null;\n    } while (scope = scope.parent);\n  };\n\n  Scope.prototype.init = function init() {\n    if (!this.references) this.crawl();\n  };\n\n  Scope.prototype.crawl = function crawl() {\n    _crawlCallsCount++;\n\n    this._crawl();\n\n    _crawlCallsCount--;\n  };\n\n  Scope.prototype._crawl = function _crawl() {\n    var path = this.path;\n    this.references = (0, _create2.default)(null);\n    this.bindings = (0, _create2.default)(null);\n    this.globals = (0, _create2.default)(null);\n    this.uids = (0, _create2.default)(null);\n    this.data = (0, _create2.default)(null);\n\n    if (path.isLoop()) {\n      for (var _iterator14 = t.FOR_INIT_KEYS, _isArray14 = Array.isArray(_iterator14), _i14 = 0, _iterator14 = _isArray14 ? _iterator14 : (0, _getIterator3.default)(_iterator14);;) {\n        var _ref14;\n\n        if (_isArray14) {\n          if (_i14 >= _iterator14.length) break;\n          _ref14 = _iterator14[_i14++];\n        } else {\n          _i14 = _iterator14.next();\n          if (_i14.done) break;\n          _ref14 = _i14.value;\n        }\n\n        var key = _ref14;\n        var node = path.get(key);\n        if (node.isBlockScoped()) this.registerBinding(node.node.kind, node);\n      }\n    }\n\n    if (path.isFunctionExpression() && path.has(\"id\")) {\n      if (!path.get(\"id\").node[t.NOT_LOCAL_BINDING]) {\n        this.registerBinding(\"local\", path.get(\"id\"), path);\n      }\n    }\n\n    if (path.isClassExpression() && path.has(\"id\")) {\n      if (!path.get(\"id\").node[t.NOT_LOCAL_BINDING]) {\n        this.registerBinding(\"local\", path);\n      }\n    }\n\n    if (path.isFunction()) {\n      var params = path.get(\"params\");\n\n      for (var _iterator15 = params, _isArray15 = Array.isArray(_iterator15), _i15 = 0, _iterator15 = _isArray15 ? _iterator15 : (0, _getIterator3.default)(_iterator15);;) {\n        var _ref15;\n\n        if (_isArray15) {\n          if (_i15 >= _iterator15.length) break;\n          _ref15 = _iterator15[_i15++];\n        } else {\n          _i15 = _iterator15.next();\n          if (_i15.done) break;\n          _ref15 = _i15.value;\n        }\n\n        var param = _ref15;\n        this.registerBinding(\"param\", param);\n      }\n    }\n\n    if (path.isCatchClause()) {\n      this.registerBinding(\"let\", path);\n    }\n\n    var parent = this.getProgramParent();\n    if (parent.crawling) return;\n    var state = {\n      references: [],\n      constantViolations: [],\n      assignments: []\n    };\n    this.crawling = true;\n    path.traverse(collectorVisitor, state);\n    this.crawling = false;\n\n    for (var _iterator16 = state.assignments, _isArray16 = Array.isArray(_iterator16), _i16 = 0, _iterator16 = _isArray16 ? _iterator16 : (0, _getIterator3.default)(_iterator16);;) {\n      var _ref16;\n\n      if (_isArray16) {\n        if (_i16 >= _iterator16.length) break;\n        _ref16 = _iterator16[_i16++];\n      } else {\n        _i16 = _iterator16.next();\n        if (_i16.done) break;\n        _ref16 = _i16.value;\n      }\n\n      var _path = _ref16;\n\n      var ids = _path.getBindingIdentifiers();\n\n      var programParent = void 0;\n\n      for (var name in ids) {\n        if (_path.scope.getBinding(name)) continue;\n        programParent = programParent || _path.scope.getProgramParent();\n        programParent.addGlobal(ids[name]);\n      }\n\n      _path.scope.registerConstantViolation(_path);\n    }\n\n    for (var _iterator17 = state.references, _isArray17 = Array.isArray(_iterator17), _i17 = 0, _iterator17 = _isArray17 ? _iterator17 : (0, _getIterator3.default)(_iterator17);;) {\n      var _ref17;\n\n      if (_isArray17) {\n        if (_i17 >= _iterator17.length) break;\n        _ref17 = _iterator17[_i17++];\n      } else {\n        _i17 = _iterator17.next();\n        if (_i17.done) break;\n        _ref17 = _i17.value;\n      }\n\n      var ref = _ref17;\n      var binding = ref.scope.getBinding(ref.node.name);\n\n      if (binding) {\n        binding.reference(ref);\n      } else {\n        ref.scope.getProgramParent().addGlobal(ref.node);\n      }\n    }\n\n    for (var _iterator18 = state.constantViolations, _isArray18 = Array.isArray(_iterator18), _i18 = 0, _iterator18 = _isArray18 ? _iterator18 : (0, _getIterator3.default)(_iterator18);;) {\n      var _ref18;\n\n      if (_isArray18) {\n        if (_i18 >= _iterator18.length) break;\n        _ref18 = _iterator18[_i18++];\n      } else {\n        _i18 = _iterator18.next();\n        if (_i18.done) break;\n        _ref18 = _i18.value;\n      }\n\n      var _path2 = _ref18;\n\n      _path2.scope.registerConstantViolation(_path2);\n    }\n  };\n\n  Scope.prototype.push = function push(opts) {\n    var path = this.path;\n\n    if (!path.isBlockStatement() && !path.isProgram()) {\n      path = this.getBlockParent().path;\n    }\n\n    if (path.isSwitchStatement()) {\n      path = this.getFunctionParent().path;\n    }\n\n    if (path.isLoop() || path.isCatchClause() || path.isFunction()) {\n      t.ensureBlock(path.node);\n      path = path.get(\"body\");\n    }\n\n    var unique = opts.unique;\n    var kind = opts.kind || \"var\";\n    var blockHoist = opts._blockHoist == null ? 2 : opts._blockHoist;\n    var dataKey = \"declaration:\" + kind + \":\" + blockHoist;\n    var declarPath = !unique && path.getData(dataKey);\n\n    if (!declarPath) {\n      var declar = t.variableDeclaration(kind, []);\n      declar._generated = true;\n      declar._blockHoist = blockHoist;\n\n      var _path$unshiftContaine = path.unshiftContainer(\"body\", [declar]);\n\n      declarPath = _path$unshiftContaine[0];\n      if (!unique) path.setData(dataKey, declarPath);\n    }\n\n    var declarator = t.variableDeclarator(opts.id, opts.init);\n    declarPath.node.declarations.push(declarator);\n    this.registerBinding(kind, declarPath.get(\"declarations\").pop());\n  };\n\n  Scope.prototype.getProgramParent = function getProgramParent() {\n    var scope = this;\n\n    do {\n      if (scope.path.isProgram()) {\n        return scope;\n      }\n    } while (scope = scope.parent);\n\n    throw new Error(\"We couldn't find a Function or Program...\");\n  };\n\n  Scope.prototype.getFunctionParent = function getFunctionParent() {\n    var scope = this;\n\n    do {\n      if (scope.path.isFunctionParent()) {\n        return scope;\n      }\n    } while (scope = scope.parent);\n\n    throw new Error(\"We couldn't find a Function or Program...\");\n  };\n\n  Scope.prototype.getBlockParent = function getBlockParent() {\n    var scope = this;\n\n    do {\n      if (scope.path.isBlockParent()) {\n        return scope;\n      }\n    } while (scope = scope.parent);\n\n    throw new Error(\"We couldn't find a BlockStatement, For, Switch, Function, Loop or Program...\");\n  };\n\n  Scope.prototype.getAllBindings = function getAllBindings() {\n    var ids = (0, _create2.default)(null);\n    var scope = this;\n\n    do {\n      (0, _defaults2.default)(ids, scope.bindings);\n      scope = scope.parent;\n    } while (scope);\n\n    return ids;\n  };\n\n  Scope.prototype.getAllBindingsOfKind = function getAllBindingsOfKind() {\n    var ids = (0, _create2.default)(null);\n\n    for (var _iterator19 = arguments, _isArray19 = Array.isArray(_iterator19), _i19 = 0, _iterator19 = _isArray19 ? _iterator19 : (0, _getIterator3.default)(_iterator19);;) {\n      var _ref19;\n\n      if (_isArray19) {\n        if (_i19 >= _iterator19.length) break;\n        _ref19 = _iterator19[_i19++];\n      } else {\n        _i19 = _iterator19.next();\n        if (_i19.done) break;\n        _ref19 = _i19.value;\n      }\n\n      var kind = _ref19;\n      var scope = this;\n\n      do {\n        for (var name in scope.bindings) {\n          var binding = scope.bindings[name];\n          if (binding.kind === kind) ids[name] = binding;\n        }\n\n        scope = scope.parent;\n      } while (scope);\n    }\n\n    return ids;\n  };\n\n  Scope.prototype.bindingIdentifierEquals = function bindingIdentifierEquals(name, node) {\n    return this.getBindingIdentifier(name) === node;\n  };\n\n  Scope.prototype.warnOnFlowBinding = function warnOnFlowBinding(binding) {\n    if (_crawlCallsCount === 0 && binding && binding.path.isFlow()) {\n      console.warn(\"\\n        You or one of the Babel plugins you are using are using Flow declarations as bindings.\\n        Support for this will be removed in version 7. To find out the caller, grep for this\\n        message and change it to a `console.trace()`.\\n      \");\n    }\n\n    return binding;\n  };\n\n  Scope.prototype.getBinding = function getBinding(name) {\n    var scope = this;\n\n    do {\n      var binding = scope.getOwnBinding(name);\n      if (binding) return this.warnOnFlowBinding(binding);\n    } while (scope = scope.parent);\n  };\n\n  Scope.prototype.getOwnBinding = function getOwnBinding(name) {\n    return this.warnOnFlowBinding(this.bindings[name]);\n  };\n\n  Scope.prototype.getBindingIdentifier = function getBindingIdentifier(name) {\n    var info = this.getBinding(name);\n    return info && info.identifier;\n  };\n\n  Scope.prototype.getOwnBindingIdentifier = function getOwnBindingIdentifier(name) {\n    var binding = this.bindings[name];\n    return binding && binding.identifier;\n  };\n\n  Scope.prototype.hasOwnBinding = function hasOwnBinding(name) {\n    return !!this.getOwnBinding(name);\n  };\n\n  Scope.prototype.hasBinding = function hasBinding(name, noGlobals) {\n    if (!name) return false;\n    if (this.hasOwnBinding(name)) return true;\n    if (this.parentHasBinding(name, noGlobals)) return true;\n    if (this.hasUid(name)) return true;\n    if (!noGlobals && (0, _includes2.default)(Scope.globals, name)) return true;\n    if (!noGlobals && (0, _includes2.default)(Scope.contextVariables, name)) return true;\n    return false;\n  };\n\n  Scope.prototype.parentHasBinding = function parentHasBinding(name, noGlobals) {\n    return this.parent && this.parent.hasBinding(name, noGlobals);\n  };\n\n  Scope.prototype.moveBindingTo = function moveBindingTo(name, scope) {\n    var info = this.getBinding(name);\n\n    if (info) {\n      info.scope.removeOwnBinding(name);\n      info.scope = scope;\n      scope.bindings[name] = info;\n    }\n  };\n\n  Scope.prototype.removeOwnBinding = function removeOwnBinding(name) {\n    delete this.bindings[name];\n  };\n\n  Scope.prototype.removeBinding = function removeBinding(name) {\n    var info = this.getBinding(name);\n\n    if (info) {\n      info.scope.removeOwnBinding(name);\n    }\n\n    var scope = this;\n\n    do {\n      if (scope.uids[name]) {\n        scope.uids[name] = false;\n      }\n    } while (scope = scope.parent);\n  };\n\n  return Scope;\n}();\n\nScope.globals = (0, _keys2.default)(_globals2.default.builtin);\nScope.contextVariables = [\"arguments\", \"undefined\", \"Infinity\", \"NaN\"];\nexports.default = Scope;\nmodule.exports = exports[\"default\"];","map":{"version":3,"sources":["D:/Python files/Start Django/blog_tube/frontend/blog_tube/node_modules/babel-traverse/lib/scope/index.js"],"names":["exports","__esModule","_keys","require","_keys2","_interopRequireDefault","_create","_create2","_map","_map2","_classCallCheck2","_classCallCheck3","_getIterator2","_getIterator3","_includes","_includes2","_repeat","_repeat2","_renamer","_renamer2","_index","_index2","_defaults","_defaults2","_babelMessages","messages","_interopRequireWildcard","_binding2","_binding3","_globals","_globals2","_babelTypes","t","_cache","obj","newObj","key","Object","prototype","hasOwnProperty","call","default","_crawlCallsCount","getCache","path","parentScope","self","scopes","scope","get","node","_iterator","_isArray","Array","isArray","_i","_ref","length","next","done","value","parent","push","has","set","gatherNodeParts","parts","isModuleDeclaration","source","specifiers","_iterator2","_isArray2","_i2","_ref2","specifier","declaration","isModuleSpecifier","local","isMemberExpression","object","property","isIdentifier","name","isLiteral","isCallExpression","callee","isObjectExpression","isObjectPattern","_iterator3","properties","_isArray3","_i3","_ref3","prop","argument","collectorVisitor","For","_iterator4","FOR_INIT_KEYS","_isArray4","_i4","_ref4","declar","isVar","getFunctionParent","registerBinding","Declaration","isBlockScoped","isExportDeclaration","isDeclaration","registerDeclaration","ReferencedIdentifier","state","references","ForXStatement","left","isPattern","constantViolations","ExportDeclaration","exit","isClassDeclaration","isFunctionDeclaration","_id","id","binding","getBinding","reference","isVariableDeclaration","_iterator5","declarations","_isArray5","_i5","_ref5","decl","ids","getBindingIdentifiers","_binding","LabeledStatement","getProgramParent","addGlobal","getBlockParent","AssignmentExpression","assignments","UpdateExpression","UnaryExpression","operator","BlockScoped","ClassDeclaration","bindings","Block","paths","_iterator6","_isArray6","_i6","_ref6","bodyPath","uid","Scope","block","cached","hub","parentBlock","labels","traverse","opts","generateDeclaredUidIdentifier","arguments","undefined","generateUidIdentifier","identifier","generateUid","toIdentifier","replace","i","_generateUid","hasLabel","hasBinding","hasGlobal","hasReference","program","uids","generateUidIdentifierBasedOnNode","defaultName","isAssignmentExpression","isVariableDeclarator","isObjectProperty","isObjectMethod","join","slice","isStatic","isThisExpression","isSuper","constant","maybeGenerateMemoised","dontPush","_id2","checkBlockScopedCollisions","kind","duplicate","file","buildCodeFrameError","TypeError","rename","oldName","newName","_renameFromMap","map","dump","sep","console","log","type","violations","toArray","isGenericType","isArrayExpression","callExpression","memberExpression","helperName","args","numericLiteral","addHelper","getLabel","registerLabel","label","isLabeledStatement","_iterator7","_isArray7","_i7","_ref7","isImportDeclaration","_iterator8","_isArray8","_i8","_ref8","_declar","buildUndefinedNode","unaryExpression","registerConstantViolation","reassign","bindingPath","ReferenceError","declarators","_iterator9","_isArray9","_i9","_ref9","_iterator10","_isArray10","_i10","_ref10","_id3","getOwnBinding","isFlow","existing","globals","hasUid","isPure","constantsOnly","isClass","superClass","body","isClassBody","_iterator11","_isArray11","_i11","_ref11","method","isBinary","right","_iterator12","elements","_isArray12","_i12","_ref12","elem","_iterator13","_isArray13","_i13","_ref13","isClassMethod","computed","isClassProperty","isUnaryExpression","isPureish","setData","val","data","getData","removeData","init","crawl","_crawl","isLoop","_iterator14","_isArray14","_i14","_ref14","isFunctionExpression","NOT_LOCAL_BINDING","isClassExpression","isFunction","params","_iterator15","_isArray15","_i15","_ref15","param","isCatchClause","crawling","_iterator16","_isArray16","_i16","_ref16","_path","programParent","_iterator17","_isArray17","_i17","_ref17","ref","_iterator18","_isArray18","_i18","_ref18","_path2","isBlockStatement","isProgram","isSwitchStatement","ensureBlock","unique","blockHoist","_blockHoist","dataKey","declarPath","variableDeclaration","_generated","_path$unshiftContaine","unshiftContainer","declarator","variableDeclarator","pop","Error","isFunctionParent","isBlockParent","getAllBindings","getAllBindingsOfKind","_iterator19","_isArray19","_i19","_ref19","bindingIdentifierEquals","getBindingIdentifier","warnOnFlowBinding","warn","info","getOwnBindingIdentifier","hasOwnBinding","noGlobals","parentHasBinding","contextVariables","moveBindingTo","removeOwnBinding","removeBinding","builtin","module"],"mappings":"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","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\n\nvar _keys = require(\"babel-runtime/core-js/object/keys\");\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _create = require(\"babel-runtime/core-js/object/create\");\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _map = require(\"babel-runtime/core-js/map\");\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _getIterator2 = require(\"babel-runtime/core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _includes = require(\"lodash/includes\");\n\nvar _includes2 = _interopRequireDefault(_includes);\n\nvar _repeat = require(\"lodash/repeat\");\n\nvar _repeat2 = _interopRequireDefault(_repeat);\n\nvar _renamer = require(\"./lib/renamer\");\n\nvar _renamer2 = _interopRequireDefault(_renamer);\n\nvar _index = require(\"../index\");\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _defaults = require(\"lodash/defaults\");\n\nvar _defaults2 = _interopRequireDefault(_defaults);\n\nvar _babelMessages = require(\"babel-messages\");\n\nvar messages = _interopRequireWildcard(_babelMessages);\n\nvar _binding2 = require(\"./binding\");\n\nvar _binding3 = _interopRequireDefault(_binding2);\n\nvar _globals = require(\"globals\");\n\nvar _globals2 = _interopRequireDefault(_globals);\n\nvar _babelTypes = require(\"babel-types\");\n\nvar t = _interopRequireWildcard(_babelTypes);\n\nvar _cache = require(\"../cache\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _crawlCallsCount = 0;\n\nfunction getCache(path, parentScope, self) {\n  var scopes = _cache.scope.get(path.node) || [];\n\n  for (var _iterator = scopes, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : (0, _getIterator3.default)(_iterator);;) {\n    var _ref;\n\n    if (_isArray) {\n      if (_i >= _iterator.length) break;\n      _ref = _iterator[_i++];\n    } else {\n      _i = _iterator.next();\n      if (_i.done) break;\n      _ref = _i.value;\n    }\n\n    var scope = _ref;\n\n    if (scope.parent === parentScope && scope.path === path) return scope;\n  }\n\n  scopes.push(self);\n\n  if (!_cache.scope.has(path.node)) {\n    _cache.scope.set(path.node, scopes);\n  }\n}\n\nfunction gatherNodeParts(node, parts) {\n  if (t.isModuleDeclaration(node)) {\n    if (node.source) {\n      gatherNodeParts(node.source, parts);\n    } else if (node.specifiers && node.specifiers.length) {\n      for (var _iterator2 = node.specifiers, _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : (0, _getIterator3.default)(_iterator2);;) {\n        var _ref2;\n\n        if (_isArray2) {\n          if (_i2 >= _iterator2.length) break;\n          _ref2 = _iterator2[_i2++];\n        } else {\n          _i2 = _iterator2.next();\n          if (_i2.done) break;\n          _ref2 = _i2.value;\n        }\n\n        var specifier = _ref2;\n\n        gatherNodeParts(specifier, parts);\n      }\n    } else if (node.declaration) {\n      gatherNodeParts(node.declaration, parts);\n    }\n  } else if (t.isModuleSpecifier(node)) {\n    gatherNodeParts(node.local, parts);\n  } else if (t.isMemberExpression(node)) {\n    gatherNodeParts(node.object, parts);\n    gatherNodeParts(node.property, parts);\n  } else if (t.isIdentifier(node)) {\n    parts.push(node.name);\n  } else if (t.isLiteral(node)) {\n    parts.push(node.value);\n  } else if (t.isCallExpression(node)) {\n    gatherNodeParts(node.callee, parts);\n  } else if (t.isObjectExpression(node) || t.isObjectPattern(node)) {\n    for (var _iterator3 = node.properties, _isArray3 = Array.isArray(_iterator3), _i3 = 0, _iterator3 = _isArray3 ? _iterator3 : (0, _getIterator3.default)(_iterator3);;) {\n      var _ref3;\n\n      if (_isArray3) {\n        if (_i3 >= _iterator3.length) break;\n        _ref3 = _iterator3[_i3++];\n      } else {\n        _i3 = _iterator3.next();\n        if (_i3.done) break;\n        _ref3 = _i3.value;\n      }\n\n      var prop = _ref3;\n\n      gatherNodeParts(prop.key || prop.argument, parts);\n    }\n  }\n}\n\nvar collectorVisitor = {\n  For: function For(path) {\n    for (var _iterator4 = t.FOR_INIT_KEYS, _isArray4 = Array.isArray(_iterator4), _i4 = 0, _iterator4 = _isArray4 ? _iterator4 : (0, _getIterator3.default)(_iterator4);;) {\n      var _ref4;\n\n      if (_isArray4) {\n        if (_i4 >= _iterator4.length) break;\n        _ref4 = _iterator4[_i4++];\n      } else {\n        _i4 = _iterator4.next();\n        if (_i4.done) break;\n        _ref4 = _i4.value;\n      }\n\n      var key = _ref4;\n\n      var declar = path.get(key);\n      if (declar.isVar()) path.scope.getFunctionParent().registerBinding(\"var\", declar);\n    }\n  },\n  Declaration: function Declaration(path) {\n    if (path.isBlockScoped()) return;\n\n    if (path.isExportDeclaration() && path.get(\"declaration\").isDeclaration()) return;\n\n    path.scope.getFunctionParent().registerDeclaration(path);\n  },\n  ReferencedIdentifier: function ReferencedIdentifier(path, state) {\n    state.references.push(path);\n  },\n  ForXStatement: function ForXStatement(path, state) {\n    var left = path.get(\"left\");\n    if (left.isPattern() || left.isIdentifier()) {\n      state.constantViolations.push(left);\n    }\n  },\n\n\n  ExportDeclaration: {\n    exit: function exit(path) {\n      var node = path.node,\n          scope = path.scope;\n\n      var declar = node.declaration;\n      if (t.isClassDeclaration(declar) || t.isFunctionDeclaration(declar)) {\n        var _id = declar.id;\n        if (!_id) return;\n\n        var binding = scope.getBinding(_id.name);\n        if (binding) binding.reference(path);\n      } else if (t.isVariableDeclaration(declar)) {\n        for (var _iterator5 = declar.declarations, _isArray5 = Array.isArray(_iterator5), _i5 = 0, _iterator5 = _isArray5 ? _iterator5 : (0, _getIterator3.default)(_iterator5);;) {\n          var _ref5;\n\n          if (_isArray5) {\n            if (_i5 >= _iterator5.length) break;\n            _ref5 = _iterator5[_i5++];\n          } else {\n            _i5 = _iterator5.next();\n            if (_i5.done) break;\n            _ref5 = _i5.value;\n          }\n\n          var decl = _ref5;\n\n          var ids = t.getBindingIdentifiers(decl);\n          for (var name in ids) {\n            var _binding = scope.getBinding(name);\n            if (_binding) _binding.reference(path);\n          }\n        }\n      }\n    }\n  },\n\n  LabeledStatement: function LabeledStatement(path) {\n    path.scope.getProgramParent().addGlobal(path.node);\n    path.scope.getBlockParent().registerDeclaration(path);\n  },\n  AssignmentExpression: function AssignmentExpression(path, state) {\n    state.assignments.push(path);\n  },\n  UpdateExpression: function UpdateExpression(path, state) {\n    state.constantViolations.push(path.get(\"argument\"));\n  },\n  UnaryExpression: function UnaryExpression(path, state) {\n    if (path.node.operator === \"delete\") {\n      state.constantViolations.push(path.get(\"argument\"));\n    }\n  },\n  BlockScoped: function BlockScoped(path) {\n    var scope = path.scope;\n    if (scope.path === path) scope = scope.parent;\n    scope.getBlockParent().registerDeclaration(path);\n  },\n  ClassDeclaration: function ClassDeclaration(path) {\n    var id = path.node.id;\n    if (!id) return;\n\n    var name = id.name;\n    path.scope.bindings[name] = path.scope.getBinding(name);\n  },\n  Block: function Block(path) {\n    var paths = path.get(\"body\");\n    for (var _iterator6 = paths, _isArray6 = Array.isArray(_iterator6), _i6 = 0, _iterator6 = _isArray6 ? _iterator6 : (0, _getIterator3.default)(_iterator6);;) {\n      var _ref6;\n\n      if (_isArray6) {\n        if (_i6 >= _iterator6.length) break;\n        _ref6 = _iterator6[_i6++];\n      } else {\n        _i6 = _iterator6.next();\n        if (_i6.done) break;\n        _ref6 = _i6.value;\n      }\n\n      var bodyPath = _ref6;\n\n      if (bodyPath.isFunctionDeclaration()) {\n        path.scope.getBlockParent().registerDeclaration(bodyPath);\n      }\n    }\n  }\n};\n\nvar uid = 0;\n\nvar Scope = function () {\n  function Scope(path, parentScope) {\n    (0, _classCallCheck3.default)(this, Scope);\n\n    if (parentScope && parentScope.block === path.node) {\n      return parentScope;\n    }\n\n    var cached = getCache(path, parentScope, this);\n    if (cached) return cached;\n\n    this.uid = uid++;\n    this.parent = parentScope;\n    this.hub = path.hub;\n\n    this.parentBlock = path.parent;\n    this.block = path.node;\n    this.path = path;\n\n    this.labels = new _map2.default();\n  }\n\n  Scope.prototype.traverse = function traverse(node, opts, state) {\n    (0, _index2.default)(node, opts, this, state, this.path);\n  };\n\n  Scope.prototype.generateDeclaredUidIdentifier = function generateDeclaredUidIdentifier() {\n    var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"temp\";\n\n    var id = this.generateUidIdentifier(name);\n    this.push({ id: id });\n    return id;\n  };\n\n  Scope.prototype.generateUidIdentifier = function generateUidIdentifier() {\n    var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"temp\";\n\n    return t.identifier(this.generateUid(name));\n  };\n\n  Scope.prototype.generateUid = function generateUid() {\n    var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"temp\";\n\n    name = t.toIdentifier(name).replace(/^_+/, \"\").replace(/[0-9]+$/g, \"\");\n\n    var uid = void 0;\n    var i = 0;\n    do {\n      uid = this._generateUid(name, i);\n      i++;\n    } while (this.hasLabel(uid) || this.hasBinding(uid) || this.hasGlobal(uid) || this.hasReference(uid));\n\n    var program = this.getProgramParent();\n    program.references[uid] = true;\n    program.uids[uid] = true;\n\n    return uid;\n  };\n\n  Scope.prototype._generateUid = function _generateUid(name, i) {\n    var id = name;\n    if (i > 1) id += i;\n    return \"_\" + id;\n  };\n\n  Scope.prototype.generateUidIdentifierBasedOnNode = function generateUidIdentifierBasedOnNode(parent, defaultName) {\n    var node = parent;\n\n    if (t.isAssignmentExpression(parent)) {\n      node = parent.left;\n    } else if (t.isVariableDeclarator(parent)) {\n      node = parent.id;\n    } else if (t.isObjectProperty(node) || t.isObjectMethod(node)) {\n      node = node.key;\n    }\n\n    var parts = [];\n    gatherNodeParts(node, parts);\n\n    var id = parts.join(\"$\");\n    id = id.replace(/^_/, \"\") || defaultName || \"ref\";\n\n    return this.generateUidIdentifier(id.slice(0, 20));\n  };\n\n  Scope.prototype.isStatic = function isStatic(node) {\n    if (t.isThisExpression(node) || t.isSuper(node)) {\n      return true;\n    }\n\n    if (t.isIdentifier(node)) {\n      var binding = this.getBinding(node.name);\n      if (binding) {\n        return binding.constant;\n      } else {\n        return this.hasBinding(node.name);\n      }\n    }\n\n    return false;\n  };\n\n  Scope.prototype.maybeGenerateMemoised = function maybeGenerateMemoised(node, dontPush) {\n    if (this.isStatic(node)) {\n      return null;\n    } else {\n      var _id2 = this.generateUidIdentifierBasedOnNode(node);\n      if (!dontPush) this.push({ id: _id2 });\n      return _id2;\n    }\n  };\n\n  Scope.prototype.checkBlockScopedCollisions = function checkBlockScopedCollisions(local, kind, name, id) {\n    if (kind === \"param\") return;\n\n    if (kind === \"hoisted\" && local.kind === \"let\") return;\n\n    var duplicate = kind === \"let\" || local.kind === \"let\" || local.kind === \"const\" || local.kind === \"module\" || local.kind === \"param\" && (kind === \"let\" || kind === \"const\");\n\n    if (duplicate) {\n      throw this.hub.file.buildCodeFrameError(id, messages.get(\"scopeDuplicateDeclaration\", name), TypeError);\n    }\n  };\n\n  Scope.prototype.rename = function rename(oldName, newName, block) {\n    var binding = this.getBinding(oldName);\n    if (binding) {\n      newName = newName || this.generateUidIdentifier(oldName).name;\n      return new _renamer2.default(binding, oldName, newName).rename(block);\n    }\n  };\n\n  Scope.prototype._renameFromMap = function _renameFromMap(map, oldName, newName, value) {\n    if (map[oldName]) {\n      map[newName] = value;\n      map[oldName] = null;\n    }\n  };\n\n  Scope.prototype.dump = function dump() {\n    var sep = (0, _repeat2.default)(\"-\", 60);\n    console.log(sep);\n    var scope = this;\n    do {\n      console.log(\"#\", scope.block.type);\n      for (var name in scope.bindings) {\n        var binding = scope.bindings[name];\n        console.log(\" -\", name, {\n          constant: binding.constant,\n          references: binding.references,\n          violations: binding.constantViolations.length,\n          kind: binding.kind\n        });\n      }\n    } while (scope = scope.parent);\n    console.log(sep);\n  };\n\n  Scope.prototype.toArray = function toArray(node, i) {\n    var file = this.hub.file;\n\n    if (t.isIdentifier(node)) {\n      var binding = this.getBinding(node.name);\n      if (binding && binding.constant && binding.path.isGenericType(\"Array\")) return node;\n    }\n\n    if (t.isArrayExpression(node)) {\n      return node;\n    }\n\n    if (t.isIdentifier(node, { name: \"arguments\" })) {\n      return t.callExpression(t.memberExpression(t.memberExpression(t.memberExpression(t.identifier(\"Array\"), t.identifier(\"prototype\")), t.identifier(\"slice\")), t.identifier(\"call\")), [node]);\n    }\n\n    var helperName = \"toArray\";\n    var args = [node];\n    if (i === true) {\n      helperName = \"toConsumableArray\";\n    } else if (i) {\n      args.push(t.numericLiteral(i));\n      helperName = \"slicedToArray\";\n    }\n    return t.callExpression(file.addHelper(helperName), args);\n  };\n\n  Scope.prototype.hasLabel = function hasLabel(name) {\n    return !!this.getLabel(name);\n  };\n\n  Scope.prototype.getLabel = function getLabel(name) {\n    return this.labels.get(name);\n  };\n\n  Scope.prototype.registerLabel = function registerLabel(path) {\n    this.labels.set(path.node.label.name, path);\n  };\n\n  Scope.prototype.registerDeclaration = function registerDeclaration(path) {\n    if (path.isLabeledStatement()) {\n      this.registerLabel(path);\n    } else if (path.isFunctionDeclaration()) {\n      this.registerBinding(\"hoisted\", path.get(\"id\"), path);\n    } else if (path.isVariableDeclaration()) {\n      var declarations = path.get(\"declarations\");\n      for (var _iterator7 = declarations, _isArray7 = Array.isArray(_iterator7), _i7 = 0, _iterator7 = _isArray7 ? _iterator7 : (0, _getIterator3.default)(_iterator7);;) {\n        var _ref7;\n\n        if (_isArray7) {\n          if (_i7 >= _iterator7.length) break;\n          _ref7 = _iterator7[_i7++];\n        } else {\n          _i7 = _iterator7.next();\n          if (_i7.done) break;\n          _ref7 = _i7.value;\n        }\n\n        var declar = _ref7;\n\n        this.registerBinding(path.node.kind, declar);\n      }\n    } else if (path.isClassDeclaration()) {\n      this.registerBinding(\"let\", path);\n    } else if (path.isImportDeclaration()) {\n      var specifiers = path.get(\"specifiers\");\n      for (var _iterator8 = specifiers, _isArray8 = Array.isArray(_iterator8), _i8 = 0, _iterator8 = _isArray8 ? _iterator8 : (0, _getIterator3.default)(_iterator8);;) {\n        var _ref8;\n\n        if (_isArray8) {\n          if (_i8 >= _iterator8.length) break;\n          _ref8 = _iterator8[_i8++];\n        } else {\n          _i8 = _iterator8.next();\n          if (_i8.done) break;\n          _ref8 = _i8.value;\n        }\n\n        var specifier = _ref8;\n\n        this.registerBinding(\"module\", specifier);\n      }\n    } else if (path.isExportDeclaration()) {\n      var _declar = path.get(\"declaration\");\n      if (_declar.isClassDeclaration() || _declar.isFunctionDeclaration() || _declar.isVariableDeclaration()) {\n        this.registerDeclaration(_declar);\n      }\n    } else {\n      this.registerBinding(\"unknown\", path);\n    }\n  };\n\n  Scope.prototype.buildUndefinedNode = function buildUndefinedNode() {\n    if (this.hasBinding(\"undefined\")) {\n      return t.unaryExpression(\"void\", t.numericLiteral(0), true);\n    } else {\n      return t.identifier(\"undefined\");\n    }\n  };\n\n  Scope.prototype.registerConstantViolation = function registerConstantViolation(path) {\n    var ids = path.getBindingIdentifiers();\n    for (var name in ids) {\n      var binding = this.getBinding(name);\n      if (binding) binding.reassign(path);\n    }\n  };\n\n  Scope.prototype.registerBinding = function registerBinding(kind, path) {\n    var bindingPath = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : path;\n\n    if (!kind) throw new ReferenceError(\"no `kind`\");\n\n    if (path.isVariableDeclaration()) {\n      var declarators = path.get(\"declarations\");\n      for (var _iterator9 = declarators, _isArray9 = Array.isArray(_iterator9), _i9 = 0, _iterator9 = _isArray9 ? _iterator9 : (0, _getIterator3.default)(_iterator9);;) {\n        var _ref9;\n\n        if (_isArray9) {\n          if (_i9 >= _iterator9.length) break;\n          _ref9 = _iterator9[_i9++];\n        } else {\n          _i9 = _iterator9.next();\n          if (_i9.done) break;\n          _ref9 = _i9.value;\n        }\n\n        var declar = _ref9;\n\n        this.registerBinding(kind, declar);\n      }\n      return;\n    }\n\n    var parent = this.getProgramParent();\n    var ids = path.getBindingIdentifiers(true);\n\n    for (var name in ids) {\n      for (var _iterator10 = ids[name], _isArray10 = Array.isArray(_iterator10), _i10 = 0, _iterator10 = _isArray10 ? _iterator10 : (0, _getIterator3.default)(_iterator10);;) {\n        var _ref10;\n\n        if (_isArray10) {\n          if (_i10 >= _iterator10.length) break;\n          _ref10 = _iterator10[_i10++];\n        } else {\n          _i10 = _iterator10.next();\n          if (_i10.done) break;\n          _ref10 = _i10.value;\n        }\n\n        var _id3 = _ref10;\n\n        var local = this.getOwnBinding(name);\n        if (local) {\n          if (local.identifier === _id3) continue;\n\n          this.checkBlockScopedCollisions(local, kind, name, _id3);\n        }\n\n        if (local && local.path.isFlow()) local = null;\n\n        parent.references[name] = true;\n\n        this.bindings[name] = new _binding3.default({\n          identifier: _id3,\n          existing: local,\n          scope: this,\n          path: bindingPath,\n          kind: kind\n        });\n      }\n    }\n  };\n\n  Scope.prototype.addGlobal = function addGlobal(node) {\n    this.globals[node.name] = node;\n  };\n\n  Scope.prototype.hasUid = function hasUid(name) {\n    var scope = this;\n\n    do {\n      if (scope.uids[name]) return true;\n    } while (scope = scope.parent);\n\n    return false;\n  };\n\n  Scope.prototype.hasGlobal = function hasGlobal(name) {\n    var scope = this;\n\n    do {\n      if (scope.globals[name]) return true;\n    } while (scope = scope.parent);\n\n    return false;\n  };\n\n  Scope.prototype.hasReference = function hasReference(name) {\n    var scope = this;\n\n    do {\n      if (scope.references[name]) return true;\n    } while (scope = scope.parent);\n\n    return false;\n  };\n\n  Scope.prototype.isPure = function isPure(node, constantsOnly) {\n    if (t.isIdentifier(node)) {\n      var binding = this.getBinding(node.name);\n      if (!binding) return false;\n      if (constantsOnly) return binding.constant;\n      return true;\n    } else if (t.isClass(node)) {\n      if (node.superClass && !this.isPure(node.superClass, constantsOnly)) return false;\n      return this.isPure(node.body, constantsOnly);\n    } else if (t.isClassBody(node)) {\n      for (var _iterator11 = node.body, _isArray11 = Array.isArray(_iterator11), _i11 = 0, _iterator11 = _isArray11 ? _iterator11 : (0, _getIterator3.default)(_iterator11);;) {\n        var _ref11;\n\n        if (_isArray11) {\n          if (_i11 >= _iterator11.length) break;\n          _ref11 = _iterator11[_i11++];\n        } else {\n          _i11 = _iterator11.next();\n          if (_i11.done) break;\n          _ref11 = _i11.value;\n        }\n\n        var method = _ref11;\n\n        if (!this.isPure(method, constantsOnly)) return false;\n      }\n      return true;\n    } else if (t.isBinary(node)) {\n      return this.isPure(node.left, constantsOnly) && this.isPure(node.right, constantsOnly);\n    } else if (t.isArrayExpression(node)) {\n      for (var _iterator12 = node.elements, _isArray12 = Array.isArray(_iterator12), _i12 = 0, _iterator12 = _isArray12 ? _iterator12 : (0, _getIterator3.default)(_iterator12);;) {\n        var _ref12;\n\n        if (_isArray12) {\n          if (_i12 >= _iterator12.length) break;\n          _ref12 = _iterator12[_i12++];\n        } else {\n          _i12 = _iterator12.next();\n          if (_i12.done) break;\n          _ref12 = _i12.value;\n        }\n\n        var elem = _ref12;\n\n        if (!this.isPure(elem, constantsOnly)) return false;\n      }\n      return true;\n    } else if (t.isObjectExpression(node)) {\n      for (var _iterator13 = node.properties, _isArray13 = Array.isArray(_iterator13), _i13 = 0, _iterator13 = _isArray13 ? _iterator13 : (0, _getIterator3.default)(_iterator13);;) {\n        var _ref13;\n\n        if (_isArray13) {\n          if (_i13 >= _iterator13.length) break;\n          _ref13 = _iterator13[_i13++];\n        } else {\n          _i13 = _iterator13.next();\n          if (_i13.done) break;\n          _ref13 = _i13.value;\n        }\n\n        var prop = _ref13;\n\n        if (!this.isPure(prop, constantsOnly)) return false;\n      }\n      return true;\n    } else if (t.isClassMethod(node)) {\n      if (node.computed && !this.isPure(node.key, constantsOnly)) return false;\n      if (node.kind === \"get\" || node.kind === \"set\") return false;\n      return true;\n    } else if (t.isClassProperty(node) || t.isObjectProperty(node)) {\n      if (node.computed && !this.isPure(node.key, constantsOnly)) return false;\n      return this.isPure(node.value, constantsOnly);\n    } else if (t.isUnaryExpression(node)) {\n      return this.isPure(node.argument, constantsOnly);\n    } else {\n      return t.isPureish(node);\n    }\n  };\n\n  Scope.prototype.setData = function setData(key, val) {\n    return this.data[key] = val;\n  };\n\n  Scope.prototype.getData = function getData(key) {\n    var scope = this;\n    do {\n      var data = scope.data[key];\n      if (data != null) return data;\n    } while (scope = scope.parent);\n  };\n\n  Scope.prototype.removeData = function removeData(key) {\n    var scope = this;\n    do {\n      var data = scope.data[key];\n      if (data != null) scope.data[key] = null;\n    } while (scope = scope.parent);\n  };\n\n  Scope.prototype.init = function init() {\n    if (!this.references) this.crawl();\n  };\n\n  Scope.prototype.crawl = function crawl() {\n    _crawlCallsCount++;\n    this._crawl();\n    _crawlCallsCount--;\n  };\n\n  Scope.prototype._crawl = function _crawl() {\n    var path = this.path;\n\n    this.references = (0, _create2.default)(null);\n    this.bindings = (0, _create2.default)(null);\n    this.globals = (0, _create2.default)(null);\n    this.uids = (0, _create2.default)(null);\n    this.data = (0, _create2.default)(null);\n\n    if (path.isLoop()) {\n      for (var _iterator14 = t.FOR_INIT_KEYS, _isArray14 = Array.isArray(_iterator14), _i14 = 0, _iterator14 = _isArray14 ? _iterator14 : (0, _getIterator3.default)(_iterator14);;) {\n        var _ref14;\n\n        if (_isArray14) {\n          if (_i14 >= _iterator14.length) break;\n          _ref14 = _iterator14[_i14++];\n        } else {\n          _i14 = _iterator14.next();\n          if (_i14.done) break;\n          _ref14 = _i14.value;\n        }\n\n        var key = _ref14;\n\n        var node = path.get(key);\n        if (node.isBlockScoped()) this.registerBinding(node.node.kind, node);\n      }\n    }\n\n    if (path.isFunctionExpression() && path.has(\"id\")) {\n      if (!path.get(\"id\").node[t.NOT_LOCAL_BINDING]) {\n        this.registerBinding(\"local\", path.get(\"id\"), path);\n      }\n    }\n\n    if (path.isClassExpression() && path.has(\"id\")) {\n      if (!path.get(\"id\").node[t.NOT_LOCAL_BINDING]) {\n        this.registerBinding(\"local\", path);\n      }\n    }\n\n    if (path.isFunction()) {\n      var params = path.get(\"params\");\n      for (var _iterator15 = params, _isArray15 = Array.isArray(_iterator15), _i15 = 0, _iterator15 = _isArray15 ? _iterator15 : (0, _getIterator3.default)(_iterator15);;) {\n        var _ref15;\n\n        if (_isArray15) {\n          if (_i15 >= _iterator15.length) break;\n          _ref15 = _iterator15[_i15++];\n        } else {\n          _i15 = _iterator15.next();\n          if (_i15.done) break;\n          _ref15 = _i15.value;\n        }\n\n        var param = _ref15;\n\n        this.registerBinding(\"param\", param);\n      }\n    }\n\n    if (path.isCatchClause()) {\n      this.registerBinding(\"let\", path);\n    }\n\n    var parent = this.getProgramParent();\n    if (parent.crawling) return;\n\n    var state = {\n      references: [],\n      constantViolations: [],\n      assignments: []\n    };\n\n    this.crawling = true;\n    path.traverse(collectorVisitor, state);\n    this.crawling = false;\n\n    for (var _iterator16 = state.assignments, _isArray16 = Array.isArray(_iterator16), _i16 = 0, _iterator16 = _isArray16 ? _iterator16 : (0, _getIterator3.default)(_iterator16);;) {\n      var _ref16;\n\n      if (_isArray16) {\n        if (_i16 >= _iterator16.length) break;\n        _ref16 = _iterator16[_i16++];\n      } else {\n        _i16 = _iterator16.next();\n        if (_i16.done) break;\n        _ref16 = _i16.value;\n      }\n\n      var _path = _ref16;\n\n      var ids = _path.getBindingIdentifiers();\n      var programParent = void 0;\n      for (var name in ids) {\n        if (_path.scope.getBinding(name)) continue;\n\n        programParent = programParent || _path.scope.getProgramParent();\n        programParent.addGlobal(ids[name]);\n      }\n\n      _path.scope.registerConstantViolation(_path);\n    }\n\n    for (var _iterator17 = state.references, _isArray17 = Array.isArray(_iterator17), _i17 = 0, _iterator17 = _isArray17 ? _iterator17 : (0, _getIterator3.default)(_iterator17);;) {\n      var _ref17;\n\n      if (_isArray17) {\n        if (_i17 >= _iterator17.length) break;\n        _ref17 = _iterator17[_i17++];\n      } else {\n        _i17 = _iterator17.next();\n        if (_i17.done) break;\n        _ref17 = _i17.value;\n      }\n\n      var ref = _ref17;\n\n      var binding = ref.scope.getBinding(ref.node.name);\n      if (binding) {\n        binding.reference(ref);\n      } else {\n        ref.scope.getProgramParent().addGlobal(ref.node);\n      }\n    }\n\n    for (var _iterator18 = state.constantViolations, _isArray18 = Array.isArray(_iterator18), _i18 = 0, _iterator18 = _isArray18 ? _iterator18 : (0, _getIterator3.default)(_iterator18);;) {\n      var _ref18;\n\n      if (_isArray18) {\n        if (_i18 >= _iterator18.length) break;\n        _ref18 = _iterator18[_i18++];\n      } else {\n        _i18 = _iterator18.next();\n        if (_i18.done) break;\n        _ref18 = _i18.value;\n      }\n\n      var _path2 = _ref18;\n\n      _path2.scope.registerConstantViolation(_path2);\n    }\n  };\n\n  Scope.prototype.push = function push(opts) {\n    var path = this.path;\n\n    if (!path.isBlockStatement() && !path.isProgram()) {\n      path = this.getBlockParent().path;\n    }\n\n    if (path.isSwitchStatement()) {\n      path = this.getFunctionParent().path;\n    }\n\n    if (path.isLoop() || path.isCatchClause() || path.isFunction()) {\n      t.ensureBlock(path.node);\n      path = path.get(\"body\");\n    }\n\n    var unique = opts.unique;\n    var kind = opts.kind || \"var\";\n    var blockHoist = opts._blockHoist == null ? 2 : opts._blockHoist;\n\n    var dataKey = \"declaration:\" + kind + \":\" + blockHoist;\n    var declarPath = !unique && path.getData(dataKey);\n\n    if (!declarPath) {\n      var declar = t.variableDeclaration(kind, []);\n      declar._generated = true;\n      declar._blockHoist = blockHoist;\n\n      var _path$unshiftContaine = path.unshiftContainer(\"body\", [declar]);\n\n      declarPath = _path$unshiftContaine[0];\n\n      if (!unique) path.setData(dataKey, declarPath);\n    }\n\n    var declarator = t.variableDeclarator(opts.id, opts.init);\n    declarPath.node.declarations.push(declarator);\n    this.registerBinding(kind, declarPath.get(\"declarations\").pop());\n  };\n\n  Scope.prototype.getProgramParent = function getProgramParent() {\n    var scope = this;\n    do {\n      if (scope.path.isProgram()) {\n        return scope;\n      }\n    } while (scope = scope.parent);\n    throw new Error(\"We couldn't find a Function or Program...\");\n  };\n\n  Scope.prototype.getFunctionParent = function getFunctionParent() {\n    var scope = this;\n    do {\n      if (scope.path.isFunctionParent()) {\n        return scope;\n      }\n    } while (scope = scope.parent);\n    throw new Error(\"We couldn't find a Function or Program...\");\n  };\n\n  Scope.prototype.getBlockParent = function getBlockParent() {\n    var scope = this;\n    do {\n      if (scope.path.isBlockParent()) {\n        return scope;\n      }\n    } while (scope = scope.parent);\n    throw new Error(\"We couldn't find a BlockStatement, For, Switch, Function, Loop or Program...\");\n  };\n\n  Scope.prototype.getAllBindings = function getAllBindings() {\n    var ids = (0, _create2.default)(null);\n\n    var scope = this;\n    do {\n      (0, _defaults2.default)(ids, scope.bindings);\n      scope = scope.parent;\n    } while (scope);\n\n    return ids;\n  };\n\n  Scope.prototype.getAllBindingsOfKind = function getAllBindingsOfKind() {\n    var ids = (0, _create2.default)(null);\n\n    for (var _iterator19 = arguments, _isArray19 = Array.isArray(_iterator19), _i19 = 0, _iterator19 = _isArray19 ? _iterator19 : (0, _getIterator3.default)(_iterator19);;) {\n      var _ref19;\n\n      if (_isArray19) {\n        if (_i19 >= _iterator19.length) break;\n        _ref19 = _iterator19[_i19++];\n      } else {\n        _i19 = _iterator19.next();\n        if (_i19.done) break;\n        _ref19 = _i19.value;\n      }\n\n      var kind = _ref19;\n\n      var scope = this;\n      do {\n        for (var name in scope.bindings) {\n          var binding = scope.bindings[name];\n          if (binding.kind === kind) ids[name] = binding;\n        }\n        scope = scope.parent;\n      } while (scope);\n    }\n\n    return ids;\n  };\n\n  Scope.prototype.bindingIdentifierEquals = function bindingIdentifierEquals(name, node) {\n    return this.getBindingIdentifier(name) === node;\n  };\n\n  Scope.prototype.warnOnFlowBinding = function warnOnFlowBinding(binding) {\n    if (_crawlCallsCount === 0 && binding && binding.path.isFlow()) {\n      console.warn(\"\\n        You or one of the Babel plugins you are using are using Flow declarations as bindings.\\n        Support for this will be removed in version 7. To find out the caller, grep for this\\n        message and change it to a `console.trace()`.\\n      \");\n    }\n    return binding;\n  };\n\n  Scope.prototype.getBinding = function getBinding(name) {\n    var scope = this;\n\n    do {\n      var binding = scope.getOwnBinding(name);\n      if (binding) return this.warnOnFlowBinding(binding);\n    } while (scope = scope.parent);\n  };\n\n  Scope.prototype.getOwnBinding = function getOwnBinding(name) {\n    return this.warnOnFlowBinding(this.bindings[name]);\n  };\n\n  Scope.prototype.getBindingIdentifier = function getBindingIdentifier(name) {\n    var info = this.getBinding(name);\n    return info && info.identifier;\n  };\n\n  Scope.prototype.getOwnBindingIdentifier = function getOwnBindingIdentifier(name) {\n    var binding = this.bindings[name];\n    return binding && binding.identifier;\n  };\n\n  Scope.prototype.hasOwnBinding = function hasOwnBinding(name) {\n    return !!this.getOwnBinding(name);\n  };\n\n  Scope.prototype.hasBinding = function hasBinding(name, noGlobals) {\n    if (!name) return false;\n    if (this.hasOwnBinding(name)) return true;\n    if (this.parentHasBinding(name, noGlobals)) return true;\n    if (this.hasUid(name)) return true;\n    if (!noGlobals && (0, _includes2.default)(Scope.globals, name)) return true;\n    if (!noGlobals && (0, _includes2.default)(Scope.contextVariables, name)) return true;\n    return false;\n  };\n\n  Scope.prototype.parentHasBinding = function parentHasBinding(name, noGlobals) {\n    return this.parent && this.parent.hasBinding(name, noGlobals);\n  };\n\n  Scope.prototype.moveBindingTo = function moveBindingTo(name, scope) {\n    var info = this.getBinding(name);\n    if (info) {\n      info.scope.removeOwnBinding(name);\n      info.scope = scope;\n      scope.bindings[name] = info;\n    }\n  };\n\n  Scope.prototype.removeOwnBinding = function removeOwnBinding(name) {\n    delete this.bindings[name];\n  };\n\n  Scope.prototype.removeBinding = function removeBinding(name) {\n    var info = this.getBinding(name);\n    if (info) {\n      info.scope.removeOwnBinding(name);\n    }\n\n    var scope = this;\n    do {\n      if (scope.uids[name]) {\n        scope.uids[name] = false;\n      }\n    } while (scope = scope.parent);\n  };\n\n  return Scope;\n}();\n\nScope.globals = (0, _keys2.default)(_globals2.default.builtin);\nScope.contextVariables = [\"arguments\", \"undefined\", \"Infinity\", \"NaN\"];\nexports.default = Scope;\nmodule.exports = exports[\"default\"];"]},"metadata":{},"sourceType":"script"}