{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.File = undefined;\n\nvar _getIterator2 = require(\"babel-runtime/core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _create = require(\"babel-runtime/core-js/object/create\");\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _assign = require(\"babel-runtime/core-js/object/assign\");\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _babelHelpers = require(\"babel-helpers\");\n\nvar _babelHelpers2 = _interopRequireDefault(_babelHelpers);\n\nvar _metadata = require(\"./metadata\");\n\nvar metadataVisitor = _interopRequireWildcard(_metadata);\n\nvar _convertSourceMap = require(\"convert-source-map\");\n\nvar _convertSourceMap2 = _interopRequireDefault(_convertSourceMap);\n\nvar _optionManager = require(\"./options/option-manager\");\n\nvar _optionManager2 = _interopRequireDefault(_optionManager);\n\nvar _pluginPass = require(\"../plugin-pass\");\n\nvar _pluginPass2 = _interopRequireDefault(_pluginPass);\n\nvar _babelTraverse = require(\"babel-traverse\");\n\nvar _babelTraverse2 = _interopRequireDefault(_babelTraverse);\n\nvar _babelGenerator = require(\"babel-generator\");\n\nvar _babelGenerator2 = _interopRequireDefault(_babelGenerator);\n\nvar _babelCodeFrame = require(\"babel-code-frame\");\n\nvar _babelCodeFrame2 = _interopRequireDefault(_babelCodeFrame);\n\nvar _defaults = require(\"lodash/defaults\");\n\nvar _defaults2 = _interopRequireDefault(_defaults);\n\nvar _logger = require(\"./logger\");\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _store = require(\"../../store\");\n\nvar _store2 = _interopRequireDefault(_store);\n\nvar _babylon = require(\"babylon\");\n\nvar _util = require(\"../../util\");\n\nvar util = _interopRequireWildcard(_util);\n\nvar _path = require(\"path\");\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _babelTypes = require(\"babel-types\");\n\nvar t = _interopRequireWildcard(_babelTypes);\n\nvar _mergeMap = require(\"./merge-map\");\n\nvar _mergeMap2 = _interopRequireDefault(_mergeMap);\n\nvar _resolve = require(\"../../helpers/resolve\");\n\nvar _resolve2 = _interopRequireDefault(_resolve);\n\nvar _blockHoist = require(\"../internal-plugins/block-hoist\");\n\nvar _blockHoist2 = _interopRequireDefault(_blockHoist);\n\nvar _shadowFunctions = require(\"../internal-plugins/shadow-functions\");\n\nvar _shadowFunctions2 = _interopRequireDefault(_shadowFunctions);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar shebangRegex = /^#!.*/;\nvar INTERNAL_PLUGINS = [[_blockHoist2.default], [_shadowFunctions2.default]];\nvar errorVisitor = {\n  enter: function enter(path, state) {\n    var loc = path.node.loc;\n\n    if (loc) {\n      state.loc = loc;\n      path.stop();\n    }\n  }\n};\n\nvar File = function (_Store) {\n  (0, _inherits3.default)(File, _Store);\n\n  function File() {\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var pipeline = arguments[1];\n    (0, _classCallCheck3.default)(this, File);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _Store.call(this));\n\n    _this.pipeline = pipeline;\n    _this.log = new _logger2.default(_this, opts.filename || \"unknown\");\n    _this.opts = _this.initOptions(opts);\n    _this.parserOpts = {\n      sourceType: _this.opts.sourceType,\n      sourceFileName: _this.opts.filename,\n      plugins: []\n    };\n    _this.pluginVisitors = [];\n    _this.pluginPasses = [];\n\n    _this.buildPluginsForOptions(_this.opts);\n\n    if (_this.opts.passPerPreset) {\n      _this.perPresetOpts = [];\n\n      _this.opts.presets.forEach(function (presetOpts) {\n        var perPresetOpts = (0, _assign2.default)((0, _create2.default)(_this.opts), presetOpts);\n\n        _this.perPresetOpts.push(perPresetOpts);\n\n        _this.buildPluginsForOptions(perPresetOpts);\n      });\n    }\n\n    _this.metadata = {\n      usedHelpers: [],\n      marked: [],\n      modules: {\n        imports: [],\n        exports: {\n          exported: [],\n          specifiers: []\n        }\n      }\n    };\n    _this.dynamicImportTypes = {};\n    _this.dynamicImportIds = {};\n    _this.dynamicImports = [];\n    _this.declarations = {};\n    _this.usedHelpers = {};\n    _this.path = null;\n    _this.ast = {};\n    _this.code = \"\";\n    _this.shebang = \"\";\n    _this.hub = new _babelTraverse.Hub(_this);\n    return _this;\n  }\n\n  File.prototype.getMetadata = function getMetadata() {\n    var has = false;\n\n    for (var _iterator = this.ast.program.body, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : (0, _getIterator3.default)(_iterator);;) {\n      var _ref;\n\n      if (_isArray) {\n        if (_i >= _iterator.length) break;\n        _ref = _iterator[_i++];\n      } else {\n        _i = _iterator.next();\n        if (_i.done) break;\n        _ref = _i.value;\n      }\n\n      var node = _ref;\n\n      if (t.isModuleDeclaration(node)) {\n        has = true;\n        break;\n      }\n    }\n\n    if (has) {\n      this.path.traverse(metadataVisitor, this);\n    }\n  };\n\n  File.prototype.initOptions = function initOptions(opts) {\n    opts = new _optionManager2.default(this.log, this.pipeline).init(opts);\n\n    if (opts.inputSourceMap) {\n      opts.sourceMaps = true;\n    }\n\n    if (opts.moduleId) {\n      opts.moduleIds = true;\n    }\n\n    opts.basename = _path2.default.basename(opts.filename, _path2.default.extname(opts.filename));\n    opts.ignore = util.arrayify(opts.ignore, util.regexify);\n    if (opts.only) opts.only = util.arrayify(opts.only, util.regexify);\n    (0, _defaults2.default)(opts, {\n      moduleRoot: opts.sourceRoot\n    });\n    (0, _defaults2.default)(opts, {\n      sourceRoot: opts.moduleRoot\n    });\n    (0, _defaults2.default)(opts, {\n      filenameRelative: opts.filename\n    });\n\n    var basenameRelative = _path2.default.basename(opts.filenameRelative);\n\n    (0, _defaults2.default)(opts, {\n      sourceFileName: basenameRelative,\n      sourceMapTarget: basenameRelative\n    });\n    return opts;\n  };\n\n  File.prototype.buildPluginsForOptions = function buildPluginsForOptions(opts) {\n    if (!Array.isArray(opts.plugins)) {\n      return;\n    }\n\n    var plugins = opts.plugins.concat(INTERNAL_PLUGINS);\n    var currentPluginVisitors = [];\n    var currentPluginPasses = [];\n\n    for (var _iterator2 = plugins, _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : (0, _getIterator3.default)(_iterator2);;) {\n      var _ref2;\n\n      if (_isArray2) {\n        if (_i2 >= _iterator2.length) break;\n        _ref2 = _iterator2[_i2++];\n      } else {\n        _i2 = _iterator2.next();\n        if (_i2.done) break;\n        _ref2 = _i2.value;\n      }\n\n      var ref = _ref2;\n      var plugin = ref[0],\n          pluginOpts = ref[1];\n      currentPluginVisitors.push(plugin.visitor);\n      currentPluginPasses.push(new _pluginPass2.default(this, plugin, pluginOpts));\n\n      if (plugin.manipulateOptions) {\n        plugin.manipulateOptions(opts, this.parserOpts, this);\n      }\n    }\n\n    this.pluginVisitors.push(currentPluginVisitors);\n    this.pluginPasses.push(currentPluginPasses);\n  };\n\n  File.prototype.getModuleName = function getModuleName() {\n    var opts = this.opts;\n\n    if (!opts.moduleIds) {\n      return null;\n    }\n\n    if (opts.moduleId != null && !opts.getModuleId) {\n      return opts.moduleId;\n    }\n\n    var filenameRelative = opts.filenameRelative;\n    var moduleName = \"\";\n\n    if (opts.moduleRoot != null) {\n      moduleName = opts.moduleRoot + \"/\";\n    }\n\n    if (!opts.filenameRelative) {\n      return moduleName + opts.filename.replace(/^\\//, \"\");\n    }\n\n    if (opts.sourceRoot != null) {\n      var sourceRootRegEx = new RegExp(\"^\" + opts.sourceRoot + \"\\/?\");\n      filenameRelative = filenameRelative.replace(sourceRootRegEx, \"\");\n    }\n\n    filenameRelative = filenameRelative.replace(/\\.(\\w*?)$/, \"\");\n    moduleName += filenameRelative;\n    moduleName = moduleName.replace(/\\\\/g, \"/\");\n\n    if (opts.getModuleId) {\n      return opts.getModuleId(moduleName) || moduleName;\n    } else {\n      return moduleName;\n    }\n  };\n\n  File.prototype.resolveModuleSource = function resolveModuleSource(source) {\n    var resolveModuleSource = this.opts.resolveModuleSource;\n    if (resolveModuleSource) source = resolveModuleSource(source, this.opts.filename);\n    return source;\n  };\n\n  File.prototype.addImport = function addImport(source, imported) {\n    var name = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : imported;\n    var alias = source + \":\" + imported;\n    var id = this.dynamicImportIds[alias];\n\n    if (!id) {\n      source = this.resolveModuleSource(source);\n      id = this.dynamicImportIds[alias] = this.scope.generateUidIdentifier(name);\n      var specifiers = [];\n\n      if (imported === \"*\") {\n        specifiers.push(t.importNamespaceSpecifier(id));\n      } else if (imported === \"default\") {\n        specifiers.push(t.importDefaultSpecifier(id));\n      } else {\n        specifiers.push(t.importSpecifier(id, t.identifier(imported)));\n      }\n\n      var declar = t.importDeclaration(specifiers, t.stringLiteral(source));\n      declar._blockHoist = 3;\n      this.path.unshiftContainer(\"body\", declar);\n    }\n\n    return id;\n  };\n\n  File.prototype.addHelper = function addHelper(name) {\n    var declar = this.declarations[name];\n    if (declar) return declar;\n\n    if (!this.usedHelpers[name]) {\n      this.metadata.usedHelpers.push(name);\n      this.usedHelpers[name] = true;\n    }\n\n    var generator = this.get(\"helperGenerator\");\n    var runtime = this.get(\"helpersNamespace\");\n\n    if (generator) {\n      var res = generator(name);\n      if (res) return res;\n    } else if (runtime) {\n      return t.memberExpression(runtime, t.identifier(name));\n    }\n\n    var ref = (0, _babelHelpers2.default)(name);\n    var uid = this.declarations[name] = this.scope.generateUidIdentifier(name);\n\n    if (t.isFunctionExpression(ref) && !ref.id) {\n      ref.body._compact = true;\n      ref._generated = true;\n      ref.id = uid;\n      ref.type = \"FunctionDeclaration\";\n      this.path.unshiftContainer(\"body\", ref);\n    } else {\n      ref._compact = true;\n      this.scope.push({\n        id: uid,\n        init: ref,\n        unique: true\n      });\n    }\n\n    return uid;\n  };\n\n  File.prototype.addTemplateObject = function addTemplateObject(helperName, strings, raw) {\n    var stringIds = raw.elements.map(function (string) {\n      return string.value;\n    });\n    var name = helperName + \"_\" + raw.elements.length + \"_\" + stringIds.join(\",\");\n    var declar = this.declarations[name];\n    if (declar) return declar;\n    var uid = this.declarations[name] = this.scope.generateUidIdentifier(\"templateObject\");\n    var helperId = this.addHelper(helperName);\n    var init = t.callExpression(helperId, [strings, raw]);\n    init._compact = true;\n    this.scope.push({\n      id: uid,\n      init: init,\n      _blockHoist: 1.9\n    });\n    return uid;\n  };\n\n  File.prototype.buildCodeFrameError = function buildCodeFrameError(node, msg) {\n    var Error = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : SyntaxError;\n    var loc = node && (node.loc || node._loc);\n    var err = new Error(msg);\n\n    if (loc) {\n      err.loc = loc.start;\n    } else {\n      (0, _babelTraverse2.default)(node, errorVisitor, this.scope, err);\n      err.message += \" (This is an error on an internal node. Probably an internal error\";\n\n      if (err.loc) {\n        err.message += \". Location has been estimated.\";\n      }\n\n      err.message += \")\";\n    }\n\n    return err;\n  };\n\n  File.prototype.mergeSourceMap = function mergeSourceMap(map) {\n    var inputMap = this.opts.inputSourceMap;\n\n    if (inputMap && map) {\n      return (0, _mergeMap2.default)(inputMap, map);\n    } else {\n      return map;\n    }\n  };\n\n  File.prototype.parse = function parse(code) {\n    var parseCode = _babylon.parse;\n    var parserOpts = this.opts.parserOpts;\n\n    if (parserOpts) {\n      parserOpts = (0, _assign2.default)({}, this.parserOpts, parserOpts);\n\n      if (parserOpts.parser) {\n        if (typeof parserOpts.parser === \"string\") {\n          var dirname = _path2.default.dirname(this.opts.filename) || process.cwd();\n          var parser = (0, _resolve2.default)(parserOpts.parser, dirname);\n\n          if (parser) {\n            parseCode = require(parser).parse;\n          } else {\n            throw new Error(\"Couldn't find parser \" + parserOpts.parser + \" with \\\"parse\\\" method \" + (\"relative to directory \" + dirname));\n          }\n        } else {\n          parseCode = parserOpts.parser;\n        }\n\n        parserOpts.parser = {\n          parse: function parse(source) {\n            return (0, _babylon.parse)(source, parserOpts);\n          }\n        };\n      }\n    }\n\n    this.log.debug(\"Parse start\");\n    var ast = parseCode(code, parserOpts || this.parserOpts);\n    this.log.debug(\"Parse stop\");\n    return ast;\n  };\n\n  File.prototype._addAst = function _addAst(ast) {\n    this.path = _babelTraverse.NodePath.get({\n      hub: this.hub,\n      parentPath: null,\n      parent: ast,\n      container: ast,\n      key: \"program\"\n    }).setContext();\n    this.scope = this.path.scope;\n    this.ast = ast;\n    this.getMetadata();\n  };\n\n  File.prototype.addAst = function addAst(ast) {\n    this.log.debug(\"Start set AST\");\n\n    this._addAst(ast);\n\n    this.log.debug(\"End set AST\");\n  };\n\n  File.prototype.transform = function transform() {\n    for (var i = 0; i < this.pluginPasses.length; i++) {\n      var pluginPasses = this.pluginPasses[i];\n      this.call(\"pre\", pluginPasses);\n      this.log.debug(\"Start transform traverse\");\n\n      var visitor = _babelTraverse2.default.visitors.merge(this.pluginVisitors[i], pluginPasses, this.opts.wrapPluginVisitorMethod);\n\n      (0, _babelTraverse2.default)(this.ast, visitor, this.scope);\n      this.log.debug(\"End transform traverse\");\n      this.call(\"post\", pluginPasses);\n    }\n\n    return this.generate();\n  };\n\n  File.prototype.wrap = function wrap(code, callback) {\n    code = code + \"\";\n\n    try {\n      if (this.shouldIgnore()) {\n        return this.makeResult({\n          code: code,\n          ignored: true\n        });\n      } else {\n        return callback();\n      }\n    } catch (err) {\n      if (err._babel) {\n        throw err;\n      } else {\n        err._babel = true;\n      }\n\n      var message = err.message = this.opts.filename + \": \" + err.message;\n      var loc = err.loc;\n\n      if (loc) {\n        err.codeFrame = (0, _babelCodeFrame2.default)(code, loc.line, loc.column + 1, this.opts);\n        message += \"\\n\" + err.codeFrame;\n      }\n\n      if (process.browser) {\n        err.message = message;\n      }\n\n      if (err.stack) {\n        var newStack = err.stack.replace(err.message, message);\n        err.stack = newStack;\n      }\n\n      throw err;\n    }\n  };\n\n  File.prototype.addCode = function addCode(code) {\n    code = (code || \"\") + \"\";\n    code = this.parseInputSourceMap(code);\n    this.code = code;\n  };\n\n  File.prototype.parseCode = function parseCode() {\n    this.parseShebang();\n    var ast = this.parse(this.code);\n    this.addAst(ast);\n  };\n\n  File.prototype.shouldIgnore = function shouldIgnore() {\n    var opts = this.opts;\n    return util.shouldIgnore(opts.filename, opts.ignore, opts.only);\n  };\n\n  File.prototype.call = function call(key, pluginPasses) {\n    for (var _iterator3 = pluginPasses, _isArray3 = Array.isArray(_iterator3), _i3 = 0, _iterator3 = _isArray3 ? _iterator3 : (0, _getIterator3.default)(_iterator3);;) {\n      var _ref3;\n\n      if (_isArray3) {\n        if (_i3 >= _iterator3.length) break;\n        _ref3 = _iterator3[_i3++];\n      } else {\n        _i3 = _iterator3.next();\n        if (_i3.done) break;\n        _ref3 = _i3.value;\n      }\n\n      var pass = _ref3;\n      var plugin = pass.plugin;\n      var fn = plugin[key];\n      if (fn) fn.call(pass, this);\n    }\n  };\n\n  File.prototype.parseInputSourceMap = function parseInputSourceMap(code) {\n    var opts = this.opts;\n\n    if (opts.inputSourceMap !== false) {\n      var inputMap = _convertSourceMap2.default.fromSource(code);\n\n      if (inputMap) {\n        opts.inputSourceMap = inputMap.toObject();\n        code = _convertSourceMap2.default.removeComments(code);\n      }\n    }\n\n    return code;\n  };\n\n  File.prototype.parseShebang = function parseShebang() {\n    var shebangMatch = shebangRegex.exec(this.code);\n\n    if (shebangMatch) {\n      this.shebang = shebangMatch[0];\n      this.code = this.code.replace(shebangRegex, \"\");\n    }\n  };\n\n  File.prototype.makeResult = function makeResult(_ref4) {\n    var code = _ref4.code,\n        map = _ref4.map,\n        ast = _ref4.ast,\n        ignored = _ref4.ignored;\n    var result = {\n      metadata: null,\n      options: this.opts,\n      ignored: !!ignored,\n      code: null,\n      ast: null,\n      map: map || null\n    };\n\n    if (this.opts.code) {\n      result.code = code;\n    }\n\n    if (this.opts.ast) {\n      result.ast = ast;\n    }\n\n    if (this.opts.metadata) {\n      result.metadata = this.metadata;\n    }\n\n    return result;\n  };\n\n  File.prototype.generate = function generate() {\n    var opts = this.opts;\n    var ast = this.ast;\n    var result = {\n      ast: ast\n    };\n    if (!opts.code) return this.makeResult(result);\n    var gen = _babelGenerator2.default;\n\n    if (opts.generatorOpts.generator) {\n      gen = opts.generatorOpts.generator;\n\n      if (typeof gen === \"string\") {\n        var dirname = _path2.default.dirname(this.opts.filename) || process.cwd();\n        var generator = (0, _resolve2.default)(gen, dirname);\n\n        if (generator) {\n          gen = require(generator).print;\n        } else {\n          throw new Error(\"Couldn't find generator \" + gen + \" with \\\"print\\\" method relative \" + (\"to directory \" + dirname));\n        }\n      }\n    }\n\n    this.log.debug(\"Generation start\");\n\n    var _result = gen(ast, opts.generatorOpts ? (0, _assign2.default)(opts, opts.generatorOpts) : opts, this.code);\n\n    result.code = _result.code;\n    result.map = _result.map;\n    this.log.debug(\"Generation end\");\n\n    if (this.shebang) {\n      result.code = this.shebang + \"\\n\" + result.code;\n    }\n\n    if (result.map) {\n      result.map = this.mergeSourceMap(result.map);\n    }\n\n    if (opts.sourceMaps === \"inline\" || opts.sourceMaps === \"both\") {\n      result.code += \"\\n\" + _convertSourceMap2.default.fromObject(result.map).toComment();\n    }\n\n    if (opts.sourceMaps === \"inline\") {\n      result.map = null;\n    }\n\n    return this.makeResult(result);\n  };\n\n  return File;\n}(_store2.default);\n\nexports.default = File;\nexports.File = File;","map":{"version":3,"sources":["D:/Python files/Start Django/blog_tube/frontend/blog_tube/node_modules/babel-core/lib/transformation/file/index.js"],"names":["exports","__esModule","File","undefined","_getIterator2","require","_getIterator3","_interopRequireDefault","_create","_create2","_assign","_assign2","_classCallCheck2","_classCallCheck3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_babelHelpers","_babelHelpers2","_metadata","metadataVisitor","_interopRequireWildcard","_convertSourceMap","_convertSourceMap2","_optionManager","_optionManager2","_pluginPass","_pluginPass2","_babelTraverse","_babelTraverse2","_babelGenerator","_babelGenerator2","_babelCodeFrame","_babelCodeFrame2","_defaults","_defaults2","_logger","_logger2","_store","_store2","_babylon","_util","util","_path","_path2","_babelTypes","t","_mergeMap","_mergeMap2","_resolve","_resolve2","_blockHoist","_blockHoist2","_shadowFunctions","_shadowFunctions2","obj","newObj","key","Object","prototype","hasOwnProperty","call","default","shebangRegex","INTERNAL_PLUGINS","errorVisitor","enter","path","state","loc","node","stop","_Store","opts","arguments","length","pipeline","_this","log","filename","initOptions","parserOpts","sourceType","sourceFileName","plugins","pluginVisitors","pluginPasses","buildPluginsForOptions","passPerPreset","perPresetOpts","presets","forEach","presetOpts","push","metadata","usedHelpers","marked","modules","imports","exported","specifiers","dynamicImportTypes","dynamicImportIds","dynamicImports","declarations","ast","code","shebang","hub","Hub","getMetadata","has","_iterator","program","body","_isArray","Array","isArray","_i","_ref","next","done","value","isModuleDeclaration","traverse","init","inputSourceMap","sourceMaps","moduleId","moduleIds","basename","extname","ignore","arrayify","regexify","only","moduleRoot","sourceRoot","filenameRelative","basenameRelative","sourceMapTarget","concat","currentPluginVisitors","currentPluginPasses","_iterator2","_isArray2","_i2","_ref2","ref","plugin","pluginOpts","visitor","manipulateOptions","getModuleName","getModuleId","moduleName","replace","sourceRootRegEx","RegExp","resolveModuleSource","source","addImport","imported","name","alias","id","scope","generateUidIdentifier","importNamespaceSpecifier","importDefaultSpecifier","importSpecifier","identifier","declar","importDeclaration","stringLiteral","unshiftContainer","addHelper","generator","get","runtime","res","memberExpression","uid","isFunctionExpression","_compact","_generated","type","unique","addTemplateObject","helperName","strings","raw","stringIds","elements","map","string","join","helperId","callExpression","buildCodeFrameError","msg","Error","SyntaxError","_loc","err","start","message","mergeSourceMap","inputMap","parse","parseCode","parser","dirname","process","cwd","debug","_addAst","NodePath","parentPath","parent","container","setContext","addAst","transform","i","visitors","merge","wrapPluginVisitorMethod","generate","wrap","callback","shouldIgnore","makeResult","ignored","_babel","codeFrame","line","column","browser","stack","newStack","addCode","parseInputSourceMap","parseShebang","_iterator3","_isArray3","_i3","_ref3","pass","fn","fromSource","toObject","removeComments","shebangMatch","exec","_ref4","result","options","gen","generatorOpts","print","_result","fromObject","toComment"],"mappings":"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","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.File = undefined;\n\nvar _getIterator2 = require(\"babel-runtime/core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _create = require(\"babel-runtime/core-js/object/create\");\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _assign = require(\"babel-runtime/core-js/object/assign\");\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _babelHelpers = require(\"babel-helpers\");\n\nvar _babelHelpers2 = _interopRequireDefault(_babelHelpers);\n\nvar _metadata = require(\"./metadata\");\n\nvar metadataVisitor = _interopRequireWildcard(_metadata);\n\nvar _convertSourceMap = require(\"convert-source-map\");\n\nvar _convertSourceMap2 = _interopRequireDefault(_convertSourceMap);\n\nvar _optionManager = require(\"./options/option-manager\");\n\nvar _optionManager2 = _interopRequireDefault(_optionManager);\n\nvar _pluginPass = require(\"../plugin-pass\");\n\nvar _pluginPass2 = _interopRequireDefault(_pluginPass);\n\nvar _babelTraverse = require(\"babel-traverse\");\n\nvar _babelTraverse2 = _interopRequireDefault(_babelTraverse);\n\nvar _babelGenerator = require(\"babel-generator\");\n\nvar _babelGenerator2 = _interopRequireDefault(_babelGenerator);\n\nvar _babelCodeFrame = require(\"babel-code-frame\");\n\nvar _babelCodeFrame2 = _interopRequireDefault(_babelCodeFrame);\n\nvar _defaults = require(\"lodash/defaults\");\n\nvar _defaults2 = _interopRequireDefault(_defaults);\n\nvar _logger = require(\"./logger\");\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _store = require(\"../../store\");\n\nvar _store2 = _interopRequireDefault(_store);\n\nvar _babylon = require(\"babylon\");\n\nvar _util = require(\"../../util\");\n\nvar util = _interopRequireWildcard(_util);\n\nvar _path = require(\"path\");\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _babelTypes = require(\"babel-types\");\n\nvar t = _interopRequireWildcard(_babelTypes);\n\nvar _mergeMap = require(\"./merge-map\");\n\nvar _mergeMap2 = _interopRequireDefault(_mergeMap);\n\nvar _resolve = require(\"../../helpers/resolve\");\n\nvar _resolve2 = _interopRequireDefault(_resolve);\n\nvar _blockHoist = require(\"../internal-plugins/block-hoist\");\n\nvar _blockHoist2 = _interopRequireDefault(_blockHoist);\n\nvar _shadowFunctions = require(\"../internal-plugins/shadow-functions\");\n\nvar _shadowFunctions2 = _interopRequireDefault(_shadowFunctions);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar shebangRegex = /^#!.*/;\n\nvar INTERNAL_PLUGINS = [[_blockHoist2.default], [_shadowFunctions2.default]];\n\nvar errorVisitor = {\n  enter: function enter(path, state) {\n    var loc = path.node.loc;\n    if (loc) {\n      state.loc = loc;\n      path.stop();\n    }\n  }\n};\n\nvar File = function (_Store) {\n  (0, _inherits3.default)(File, _Store);\n\n  function File() {\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var pipeline = arguments[1];\n    (0, _classCallCheck3.default)(this, File);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _Store.call(this));\n\n    _this.pipeline = pipeline;\n\n    _this.log = new _logger2.default(_this, opts.filename || \"unknown\");\n    _this.opts = _this.initOptions(opts);\n\n    _this.parserOpts = {\n      sourceType: _this.opts.sourceType,\n      sourceFileName: _this.opts.filename,\n      plugins: []\n    };\n\n    _this.pluginVisitors = [];\n    _this.pluginPasses = [];\n\n    _this.buildPluginsForOptions(_this.opts);\n\n    if (_this.opts.passPerPreset) {\n      _this.perPresetOpts = [];\n      _this.opts.presets.forEach(function (presetOpts) {\n        var perPresetOpts = (0, _assign2.default)((0, _create2.default)(_this.opts), presetOpts);\n        _this.perPresetOpts.push(perPresetOpts);\n        _this.buildPluginsForOptions(perPresetOpts);\n      });\n    }\n\n    _this.metadata = {\n      usedHelpers: [],\n      marked: [],\n      modules: {\n        imports: [],\n        exports: {\n          exported: [],\n          specifiers: []\n        }\n      }\n    };\n\n    _this.dynamicImportTypes = {};\n    _this.dynamicImportIds = {};\n    _this.dynamicImports = [];\n    _this.declarations = {};\n    _this.usedHelpers = {};\n\n    _this.path = null;\n    _this.ast = {};\n\n    _this.code = \"\";\n    _this.shebang = \"\";\n\n    _this.hub = new _babelTraverse.Hub(_this);\n    return _this;\n  }\n\n  File.prototype.getMetadata = function getMetadata() {\n    var has = false;\n    for (var _iterator = this.ast.program.body, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : (0, _getIterator3.default)(_iterator);;) {\n      var _ref;\n\n      if (_isArray) {\n        if (_i >= _iterator.length) break;\n        _ref = _iterator[_i++];\n      } else {\n        _i = _iterator.next();\n        if (_i.done) break;\n        _ref = _i.value;\n      }\n\n      var node = _ref;\n\n      if (t.isModuleDeclaration(node)) {\n        has = true;\n        break;\n      }\n    }\n    if (has) {\n      this.path.traverse(metadataVisitor, this);\n    }\n  };\n\n  File.prototype.initOptions = function initOptions(opts) {\n    opts = new _optionManager2.default(this.log, this.pipeline).init(opts);\n\n    if (opts.inputSourceMap) {\n      opts.sourceMaps = true;\n    }\n\n    if (opts.moduleId) {\n      opts.moduleIds = true;\n    }\n\n    opts.basename = _path2.default.basename(opts.filename, _path2.default.extname(opts.filename));\n\n    opts.ignore = util.arrayify(opts.ignore, util.regexify);\n\n    if (opts.only) opts.only = util.arrayify(opts.only, util.regexify);\n\n    (0, _defaults2.default)(opts, {\n      moduleRoot: opts.sourceRoot\n    });\n\n    (0, _defaults2.default)(opts, {\n      sourceRoot: opts.moduleRoot\n    });\n\n    (0, _defaults2.default)(opts, {\n      filenameRelative: opts.filename\n    });\n\n    var basenameRelative = _path2.default.basename(opts.filenameRelative);\n\n    (0, _defaults2.default)(opts, {\n      sourceFileName: basenameRelative,\n      sourceMapTarget: basenameRelative\n    });\n\n    return opts;\n  };\n\n  File.prototype.buildPluginsForOptions = function buildPluginsForOptions(opts) {\n    if (!Array.isArray(opts.plugins)) {\n      return;\n    }\n\n    var plugins = opts.plugins.concat(INTERNAL_PLUGINS);\n    var currentPluginVisitors = [];\n    var currentPluginPasses = [];\n\n    for (var _iterator2 = plugins, _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : (0, _getIterator3.default)(_iterator2);;) {\n      var _ref2;\n\n      if (_isArray2) {\n        if (_i2 >= _iterator2.length) break;\n        _ref2 = _iterator2[_i2++];\n      } else {\n        _i2 = _iterator2.next();\n        if (_i2.done) break;\n        _ref2 = _i2.value;\n      }\n\n      var ref = _ref2;\n      var plugin = ref[0],\n          pluginOpts = ref[1];\n\n\n      currentPluginVisitors.push(plugin.visitor);\n      currentPluginPasses.push(new _pluginPass2.default(this, plugin, pluginOpts));\n\n      if (plugin.manipulateOptions) {\n        plugin.manipulateOptions(opts, this.parserOpts, this);\n      }\n    }\n\n    this.pluginVisitors.push(currentPluginVisitors);\n    this.pluginPasses.push(currentPluginPasses);\n  };\n\n  File.prototype.getModuleName = function getModuleName() {\n    var opts = this.opts;\n    if (!opts.moduleIds) {\n      return null;\n    }\n\n    if (opts.moduleId != null && !opts.getModuleId) {\n      return opts.moduleId;\n    }\n\n    var filenameRelative = opts.filenameRelative;\n    var moduleName = \"\";\n\n    if (opts.moduleRoot != null) {\n      moduleName = opts.moduleRoot + \"/\";\n    }\n\n    if (!opts.filenameRelative) {\n      return moduleName + opts.filename.replace(/^\\//, \"\");\n    }\n\n    if (opts.sourceRoot != null) {\n      var sourceRootRegEx = new RegExp(\"^\" + opts.sourceRoot + \"\\/?\");\n      filenameRelative = filenameRelative.replace(sourceRootRegEx, \"\");\n    }\n\n    filenameRelative = filenameRelative.replace(/\\.(\\w*?)$/, \"\");\n\n    moduleName += filenameRelative;\n\n    moduleName = moduleName.replace(/\\\\/g, \"/\");\n\n    if (opts.getModuleId) {\n      return opts.getModuleId(moduleName) || moduleName;\n    } else {\n      return moduleName;\n    }\n  };\n\n  File.prototype.resolveModuleSource = function resolveModuleSource(source) {\n    var resolveModuleSource = this.opts.resolveModuleSource;\n    if (resolveModuleSource) source = resolveModuleSource(source, this.opts.filename);\n    return source;\n  };\n\n  File.prototype.addImport = function addImport(source, imported) {\n    var name = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : imported;\n\n    var alias = source + \":\" + imported;\n    var id = this.dynamicImportIds[alias];\n\n    if (!id) {\n      source = this.resolveModuleSource(source);\n      id = this.dynamicImportIds[alias] = this.scope.generateUidIdentifier(name);\n\n      var specifiers = [];\n\n      if (imported === \"*\") {\n        specifiers.push(t.importNamespaceSpecifier(id));\n      } else if (imported === \"default\") {\n        specifiers.push(t.importDefaultSpecifier(id));\n      } else {\n        specifiers.push(t.importSpecifier(id, t.identifier(imported)));\n      }\n\n      var declar = t.importDeclaration(specifiers, t.stringLiteral(source));\n      declar._blockHoist = 3;\n\n      this.path.unshiftContainer(\"body\", declar);\n    }\n\n    return id;\n  };\n\n  File.prototype.addHelper = function addHelper(name) {\n    var declar = this.declarations[name];\n    if (declar) return declar;\n\n    if (!this.usedHelpers[name]) {\n      this.metadata.usedHelpers.push(name);\n      this.usedHelpers[name] = true;\n    }\n\n    var generator = this.get(\"helperGenerator\");\n    var runtime = this.get(\"helpersNamespace\");\n    if (generator) {\n      var res = generator(name);\n      if (res) return res;\n    } else if (runtime) {\n      return t.memberExpression(runtime, t.identifier(name));\n    }\n\n    var ref = (0, _babelHelpers2.default)(name);\n    var uid = this.declarations[name] = this.scope.generateUidIdentifier(name);\n\n    if (t.isFunctionExpression(ref) && !ref.id) {\n      ref.body._compact = true;\n      ref._generated = true;\n      ref.id = uid;\n      ref.type = \"FunctionDeclaration\";\n      this.path.unshiftContainer(\"body\", ref);\n    } else {\n      ref._compact = true;\n      this.scope.push({\n        id: uid,\n        init: ref,\n        unique: true\n      });\n    }\n\n    return uid;\n  };\n\n  File.prototype.addTemplateObject = function addTemplateObject(helperName, strings, raw) {\n    var stringIds = raw.elements.map(function (string) {\n      return string.value;\n    });\n    var name = helperName + \"_\" + raw.elements.length + \"_\" + stringIds.join(\",\");\n\n    var declar = this.declarations[name];\n    if (declar) return declar;\n\n    var uid = this.declarations[name] = this.scope.generateUidIdentifier(\"templateObject\");\n\n    var helperId = this.addHelper(helperName);\n    var init = t.callExpression(helperId, [strings, raw]);\n    init._compact = true;\n    this.scope.push({\n      id: uid,\n      init: init,\n      _blockHoist: 1.9 });\n    return uid;\n  };\n\n  File.prototype.buildCodeFrameError = function buildCodeFrameError(node, msg) {\n    var Error = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : SyntaxError;\n\n    var loc = node && (node.loc || node._loc);\n\n    var err = new Error(msg);\n\n    if (loc) {\n      err.loc = loc.start;\n    } else {\n      (0, _babelTraverse2.default)(node, errorVisitor, this.scope, err);\n\n      err.message += \" (This is an error on an internal node. Probably an internal error\";\n\n      if (err.loc) {\n        err.message += \". Location has been estimated.\";\n      }\n\n      err.message += \")\";\n    }\n\n    return err;\n  };\n\n  File.prototype.mergeSourceMap = function mergeSourceMap(map) {\n    var inputMap = this.opts.inputSourceMap;\n\n    if (inputMap && map) {\n      return (0, _mergeMap2.default)(inputMap, map);\n    } else {\n      return map;\n    }\n  };\n\n  File.prototype.parse = function parse(code) {\n    var parseCode = _babylon.parse;\n    var parserOpts = this.opts.parserOpts;\n\n    if (parserOpts) {\n      parserOpts = (0, _assign2.default)({}, this.parserOpts, parserOpts);\n\n      if (parserOpts.parser) {\n        if (typeof parserOpts.parser === \"string\") {\n          var dirname = _path2.default.dirname(this.opts.filename) || process.cwd();\n          var parser = (0, _resolve2.default)(parserOpts.parser, dirname);\n          if (parser) {\n            parseCode = require(parser).parse;\n          } else {\n            throw new Error(\"Couldn't find parser \" + parserOpts.parser + \" with \\\"parse\\\" method \" + (\"relative to directory \" + dirname));\n          }\n        } else {\n          parseCode = parserOpts.parser;\n        }\n\n        parserOpts.parser = {\n          parse: function parse(source) {\n            return (0, _babylon.parse)(source, parserOpts);\n          }\n        };\n      }\n    }\n\n    this.log.debug(\"Parse start\");\n    var ast = parseCode(code, parserOpts || this.parserOpts);\n    this.log.debug(\"Parse stop\");\n    return ast;\n  };\n\n  File.prototype._addAst = function _addAst(ast) {\n    this.path = _babelTraverse.NodePath.get({\n      hub: this.hub,\n      parentPath: null,\n      parent: ast,\n      container: ast,\n      key: \"program\"\n    }).setContext();\n    this.scope = this.path.scope;\n    this.ast = ast;\n    this.getMetadata();\n  };\n\n  File.prototype.addAst = function addAst(ast) {\n    this.log.debug(\"Start set AST\");\n    this._addAst(ast);\n    this.log.debug(\"End set AST\");\n  };\n\n  File.prototype.transform = function transform() {\n    for (var i = 0; i < this.pluginPasses.length; i++) {\n      var pluginPasses = this.pluginPasses[i];\n      this.call(\"pre\", pluginPasses);\n      this.log.debug(\"Start transform traverse\");\n\n      var visitor = _babelTraverse2.default.visitors.merge(this.pluginVisitors[i], pluginPasses, this.opts.wrapPluginVisitorMethod);\n      (0, _babelTraverse2.default)(this.ast, visitor, this.scope);\n\n      this.log.debug(\"End transform traverse\");\n      this.call(\"post\", pluginPasses);\n    }\n\n    return this.generate();\n  };\n\n  File.prototype.wrap = function wrap(code, callback) {\n    code = code + \"\";\n\n    try {\n      if (this.shouldIgnore()) {\n        return this.makeResult({ code: code, ignored: true });\n      } else {\n        return callback();\n      }\n    } catch (err) {\n      if (err._babel) {\n        throw err;\n      } else {\n        err._babel = true;\n      }\n\n      var message = err.message = this.opts.filename + \": \" + err.message;\n\n      var loc = err.loc;\n      if (loc) {\n        err.codeFrame = (0, _babelCodeFrame2.default)(code, loc.line, loc.column + 1, this.opts);\n        message += \"\\n\" + err.codeFrame;\n      }\n\n      if (process.browser) {\n        err.message = message;\n      }\n\n      if (err.stack) {\n        var newStack = err.stack.replace(err.message, message);\n        err.stack = newStack;\n      }\n\n      throw err;\n    }\n  };\n\n  File.prototype.addCode = function addCode(code) {\n    code = (code || \"\") + \"\";\n    code = this.parseInputSourceMap(code);\n    this.code = code;\n  };\n\n  File.prototype.parseCode = function parseCode() {\n    this.parseShebang();\n    var ast = this.parse(this.code);\n    this.addAst(ast);\n  };\n\n  File.prototype.shouldIgnore = function shouldIgnore() {\n    var opts = this.opts;\n    return util.shouldIgnore(opts.filename, opts.ignore, opts.only);\n  };\n\n  File.prototype.call = function call(key, pluginPasses) {\n    for (var _iterator3 = pluginPasses, _isArray3 = Array.isArray(_iterator3), _i3 = 0, _iterator3 = _isArray3 ? _iterator3 : (0, _getIterator3.default)(_iterator3);;) {\n      var _ref3;\n\n      if (_isArray3) {\n        if (_i3 >= _iterator3.length) break;\n        _ref3 = _iterator3[_i3++];\n      } else {\n        _i3 = _iterator3.next();\n        if (_i3.done) break;\n        _ref3 = _i3.value;\n      }\n\n      var pass = _ref3;\n\n      var plugin = pass.plugin;\n      var fn = plugin[key];\n      if (fn) fn.call(pass, this);\n    }\n  };\n\n  File.prototype.parseInputSourceMap = function parseInputSourceMap(code) {\n    var opts = this.opts;\n\n    if (opts.inputSourceMap !== false) {\n      var inputMap = _convertSourceMap2.default.fromSource(code);\n      if (inputMap) {\n        opts.inputSourceMap = inputMap.toObject();\n        code = _convertSourceMap2.default.removeComments(code);\n      }\n    }\n\n    return code;\n  };\n\n  File.prototype.parseShebang = function parseShebang() {\n    var shebangMatch = shebangRegex.exec(this.code);\n    if (shebangMatch) {\n      this.shebang = shebangMatch[0];\n      this.code = this.code.replace(shebangRegex, \"\");\n    }\n  };\n\n  File.prototype.makeResult = function makeResult(_ref4) {\n    var code = _ref4.code,\n        map = _ref4.map,\n        ast = _ref4.ast,\n        ignored = _ref4.ignored;\n\n    var result = {\n      metadata: null,\n      options: this.opts,\n      ignored: !!ignored,\n      code: null,\n      ast: null,\n      map: map || null\n    };\n\n    if (this.opts.code) {\n      result.code = code;\n    }\n\n    if (this.opts.ast) {\n      result.ast = ast;\n    }\n\n    if (this.opts.metadata) {\n      result.metadata = this.metadata;\n    }\n\n    return result;\n  };\n\n  File.prototype.generate = function generate() {\n    var opts = this.opts;\n    var ast = this.ast;\n\n    var result = { ast: ast };\n    if (!opts.code) return this.makeResult(result);\n\n    var gen = _babelGenerator2.default;\n    if (opts.generatorOpts.generator) {\n      gen = opts.generatorOpts.generator;\n\n      if (typeof gen === \"string\") {\n        var dirname = _path2.default.dirname(this.opts.filename) || process.cwd();\n        var generator = (0, _resolve2.default)(gen, dirname);\n        if (generator) {\n          gen = require(generator).print;\n        } else {\n          throw new Error(\"Couldn't find generator \" + gen + \" with \\\"print\\\" method relative \" + (\"to directory \" + dirname));\n        }\n      }\n    }\n\n    this.log.debug(\"Generation start\");\n\n    var _result = gen(ast, opts.generatorOpts ? (0, _assign2.default)(opts, opts.generatorOpts) : opts, this.code);\n    result.code = _result.code;\n    result.map = _result.map;\n\n    this.log.debug(\"Generation end\");\n\n    if (this.shebang) {\n      result.code = this.shebang + \"\\n\" + result.code;\n    }\n\n    if (result.map) {\n      result.map = this.mergeSourceMap(result.map);\n    }\n\n    if (opts.sourceMaps === \"inline\" || opts.sourceMaps === \"both\") {\n      result.code += \"\\n\" + _convertSourceMap2.default.fromObject(result.map).toComment();\n    }\n\n    if (opts.sourceMaps === \"inline\") {\n      result.map = null;\n    }\n\n    return this.makeResult(result);\n  };\n\n  return File;\n}(_store2.default);\n\nexports.default = File;\nexports.File = File;"]},"metadata":{},"sourceType":"script"}