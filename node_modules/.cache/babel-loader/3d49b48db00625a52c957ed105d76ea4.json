{"ast":null,"code":"import _createForOfIteratorHelper from\"D:/Python files/Start Django/blog_tube/frontend/blog_tube/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _slicedToArray from\"D:/Python files/Start Django/blog_tube/frontend/blog_tube/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'./statics/css/appUserProfile.css';import{Link,useParams}from'react-router-dom';import{useCallback,useContext,useEffect,useMemo,useRef,useState}from'react';import{useHistory,useRouteMatch}from'react-router';import appConfig from'./statics/appConfig.json';import{Login_context}from'../App';import UserImage from'./userImage';import followers_icon from\"./statics/images/blogians.svg\";import followings_icon from\"./statics/images/unkownUser.svg\";import blogs_icon from\"./statics/images/uploadblogIcon.svg\";import views_icon from\"./statics/images/preview.svg\";import email_icon from\"./statics/images/email.svg\";import datetime_icon from\"./statics/images/join_datetime.svg\";import comments_icon from\"./statics/images/comments.svg\";import{BlogComponent}from'./appHome';import{BlogiansMiniProfile}from'./appBlogians';import{Comment}from'./appBlog';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AppUserProfile=function AppUserProfile(props){var _useParams=useParams(),user_id=_useParams.user_id;var history=useHistory();var _useState=useState({userName:'',joinDatetime:'',email:'',blogs:[],comments:[],followings:[],followers:[]}),_useState2=_slicedToArray(_useState,2),profile_data=_useState2[0],set_profile_data=_useState2[1];useEffect(function(){if(user_id===\"null\")history.goBack();var xhr=new XMLHttpRequest();xhr.open('POST',appConfig.origin+\"backend_api/getUserDetails\");xhr.onreadystatechange=function(){if(xhr.readyState===4&&xhr.status===200){var response=JSON.parse(xhr.response);switch(response.status){case\"success\":console.log(response.userData);set_profile_data(response.userData);break;case\"fail\":history.push('/Error');break;default:break;}}};xhr.setRequestHeader('userId',user_id);xhr.send();},[user_id]);var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),views=_useState4[0],set_views=_useState4[1];useEffect(function(){var views=0;var _iterator=_createForOfIteratorHelper(profile_data.blogs),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var i=_step.value;views+=i.blog_details.views;}}catch(err){_iterator.e(err);}finally{_iterator.f();}set_views(views);},[profile_data]);var usingColor=Math.floor(Math.random()*360);useEffect(function(){var ele=document.getElementsByClassName(\"appbody\")[0];ele.scrollTo(0,0);});return/*#__PURE__*/_jsxs(\"div\",{className:\"profile_div\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pic_bg\",style:{filter:\"hue-rotate(\".concat(usingColor,\"deg)\")}}),/*#__PURE__*/_jsxs(\"div\",{className:\"user_head\",children:[/*#__PURE__*/_jsx(UserImage,{user_id:user_id,to:\"#\",width:\"100px\",height:\"100px\",onClick:function onClick(){return null;},style:{borderWidth:\"2px\",borderRadius:\"5px\",margin:\"auto 10px\"}}),/*#__PURE__*/_jsx(\"h3\",{style:{color:\"#00aed5\",filter:\"hue-rotate(\".concat(usingColor,\"deg) brightness(0.5)\")},id:\"profile_username\",children:profile_data.userName}),/*#__PURE__*/_jsx(FollowButton,{user_id:user_id,style:{marginLeft:'auto',marginRight:'20px',color:\"#00aed5\",filter:\"hue-rotate(\".concat(usingColor,\"deg) brightness(0.5)\"),borderColor:\"#00aed5\"}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data\",children:[/*#__PURE__*/_jsx(UserDataItem,{filter:\"hue-rotate(\".concat(usingColor-33,\"deg)  brightness(0.7)\"),data_icon:followers_icon,data:\"\".concat(profile_data.followers.length?profile_data.followers.length:'No',\" Followers\")}),/*#__PURE__*/_jsx(UserDataItem,{filter:\"hue-rotate(\".concat(usingColor-33,\"deg)  brightness(0.7)\"),data_icon:followings_icon,data:\"\".concat(profile_data.followings.length?profile_data.followings.length:'No',\" Followings\")}),/*#__PURE__*/_jsx(UserDataItem,{filter:\"hue-rotate(\".concat(usingColor-33,\"deg)  brightness(0.7)\"),data_icon:blogs_icon,data:\"\".concat(profile_data.blogs.length?profile_data.blogs.length:'No',\" Blogs\")}),/*#__PURE__*/_jsx(UserDataItem,{filter:\"hue-rotate(\".concat(usingColor-33,\"deg)  brightness(0.7)\"),data_icon:views_icon,data:\"\".concat(views?views:'No',\" Views\")}),/*#__PURE__*/_jsx(UserDataItem,{filter:\"hue-rotate(\".concat(usingColor-33,\"deg)  brightness(0.7)\"),data_icon:datetime_icon,data:profile_data.joinDatetime}),/*#__PURE__*/_jsx(UserDataItem,{filter:\"hue-rotate(\".concat(usingColor-33,\"deg)  brightness(0.7)\"),data_icon:comments_icon,data:\"\".concat(profile_data.comments.length?profile_data.comments.length:'No',\" Comments\")}),/*#__PURE__*/_jsx(UserDataItem,{filter:\"hue-rotate(\".concat(usingColor-33,\"deg)  brightness(0.5)\"),style:{flexBasis:'100%',overflow:'auto',userSelect:'text',placeContent:\"center\"},data_icon:email_icon,data:profile_data.email})]}),/*#__PURE__*/_jsx(ProfileTabs,{followers:profile_data.followers,blogs:profile_data.blogs,comments:profile_data.comments,followings:profile_data.followings,filter:\"hue-rotate(\".concat(usingColor-33,\"deg)\")})]});};export default AppUserProfile;var ProfileTabs=function ProfileTabs(props){var _ref=useRef({});var change_tab=useCallback(function(event){var value=event.target.value;var width=_ref.current.all_comments.getBoundingClientRect().width;switch(value){case\"blogs\":_ref.current.profile_tabs.scrollTo(0,0);break;case\"followers\":_ref.current.profile_tabs.scrollTo(width,0);break;case\"comments\":_ref.current.profile_tabs.scrollTo(width*2,0);break;case\"followings\":_ref.current.profile_tabs.scrollTo(width*3,0);break;default:_ref.current.profile_tabs.scrollTo(0,0);break;}},[_ref]);return/*#__PURE__*/_jsxs(\"div\",{className:\"profile_tabs_container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tab_options\",children:[/*#__PURE__*/_jsx(\"input\",{value:\"blogs\",type:\"radio\",onInput:function onInput(e){return change_tab(e);},name:\"options\",id:\"blogs_option\",hidden:true,defaultChecked:true}),/*#__PURE__*/_jsx(\"label\",{style:{filter:props.filter,'--bg-image':\"url(\".concat(blogs_icon,\")\")},htmlFor:\"blogs_option\",className:\"optionlabel\",children:\"Blogs\"}),/*#__PURE__*/_jsx(\"input\",{value:\"followers\",type:\"radio\",onInput:function onInput(e){return change_tab(e);},name:\"options\",id:\"followers_option\",hidden:true}),/*#__PURE__*/_jsx(\"label\",{style:{filter:props.filter,'--bg-image':\"url(\".concat(followers_icon,\")\")},htmlFor:\"followers_option\",className:\"optionlabel\",children:\"Followers\"}),/*#__PURE__*/_jsx(\"input\",{value:\"comments\",type:\"radio\",onInput:function onInput(e){return change_tab(e);},name:\"options\",id:\"comments_option\",hidden:true}),/*#__PURE__*/_jsx(\"label\",{style:{filter:props.filter,'--bg-image':\"url(\".concat(comments_icon,\")\")},htmlFor:\"comments_option\",className:\"optionlabel\",children:\"Comments\"}),/*#__PURE__*/_jsx(\"input\",{value:\"followings\",type:\"radio\",onInput:function onInput(e){return change_tab(e);},name:\"options\",id:\"followings_option\",hidden:true}),/*#__PURE__*/_jsx(\"label\",{style:{filter:props.filter,'--bg-image':\"url(\".concat(followings_icon,\")\")},htmlFor:\"followings_option\",className:\"optionlabel\",children:\"Followings\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile_tabs\",ref:function ref(el){return _ref.current.profile_tabs=el;},children:[/*#__PURE__*/_jsx(\"span\",{id:\"all_blogs\",ref:function ref(el){return _ref.current.all_blogs=el;},children:props.blogs!==[]?props.blogs.map(function(item){return/*#__PURE__*/_jsx(BlogComponent,{mini:true,user_details:item.user_details,views:item.blog_details.views,likes:item.blog_details.likes,dislikes:item.blog_details.dislikes,date:item.blog_details.datetime,title:item.blog_details.title,discription:item.blog_details.discription,image_url:item.blog_details.blog_title_image,blog_id:item.blog_details.blog_id},item.blog_details.blog_id);}):\"No Blogs\"}),/*#__PURE__*/_jsx(\"span\",{id:\"all_followers\",ref:function ref(el){return _ref.current.all_followers=el;},children:props.followers!==[]?props.followers.map(function(item){return/*#__PURE__*/_jsx(BlogiansMiniProfile,{follow:'block',user_details:item,onClick:function onClick(){return null;},to:\"/Profile/\".concat(item.user_id)},item.user_id);}):\"No Followers\"}),/*#__PURE__*/_jsx(\"span\",{id:\"all_comments\",ref:function ref(el){return _ref.current.all_comments=el;},children:props.comments!==[]?props.comments.map(function(item){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{className:\"comment_title\",to:\"/Blog/\".concat(item.blog_title,\"?id=\").concat(item.blog_id),children:/*#__PURE__*/_jsx(\"span\",{children:item.blog_title})}),/*#__PURE__*/_jsx(Comment,{c_detials:item},item.cid)]});}):\"No Comments\"}),/*#__PURE__*/_jsx(\"span\",{id:\"all_followings\",ref:function ref(el){return _ref.current.all_followings=el;},children:props.followings!==[]?props.followings.map(function(item){return/*#__PURE__*/_jsx(BlogiansMiniProfile,{follow:'block',user_details:item,onClick:function onClick(){return null;},to:\"/Profile/\".concat(item.user_id)},item.user_id);}):\"No Followings\"})]})]});};var UserDataItem=function UserDataItem(props){return/*#__PURE__*/_jsxs(\"span\",{className:\"data_item\",title:props.data,style:props.style,children:[/*#__PURE__*/_jsx(\"img\",{src:props.data_icon,className:\"data_icon\",style:{filter:props.filter},width:\"30\",height:\"30\"}),props.data]});};var FollowButton=function FollowButton(props){var _useState5=useState('Follow'),_useState6=_slicedToArray(_useState5,2),follow_state=_useState6[0],set_follow_state=_useState6[1];var context=useContext(Login_context);var _ref2=useRef();var history=useHistory();var check_follower=useCallback(function(){if(context===sessionStorage.session&&Boolean(sessionStorage.session)&&Boolean(context)){var xhr=new XMLHttpRequest();xhr.open('POST',appConfig.origin+'backend_api/getFollowingList');xhr.onreadystatechange=function(){if(xhr.status===200&&xhr.readyState===4){var response=JSON.parse(xhr.response);switch(response.status){case\"success\":response.followings.indexOf(props.user_id)!==-1?set_follow_state('Following'):set_follow_state('Follow');break;case\"loginRequired\":console.log('backend_api/getFollowingList LoginRequired');break;case\"fail\":break;default:break;}}};xhr.setRequestHeader('session',context);xhr.send();}},[context]);useEffect(function(){var observer=new IntersectionObserver(function(entries){if(entries[0].intersectionRatio>0){check_follower();}});observer.observe(_ref2);},[_ref2,props.user_id,context]);var follow_unfollow=useCallback(function(event){event.stopPropagation();event.preventDefault();if(context===sessionStorage.session&&(Boolean(sessionStorage.session)||Boolean(context))){var xhr=new XMLHttpRequest();xhr.open('POST',appConfig.origin+'backend_api/followUnfollow');xhr.onreadystatechange=function(){if(xhr.status===200&&xhr.readyState===4){var response=JSON.parse(xhr.response);switch(response.status){case\"success\":if(response.followings.indexOf(props.user_id)!==-1){set_follow_state('Following');props.change_followers(true);}else{set_follow_state('Follow');props.change_followers(false);}break;case\"loginRequired\":console.log('backend_api/followUnfollow');history.push('/Login');break;case\"fail\":break;default:break;}}};xhr.setRequestHeader('session',context);xhr.setRequestHeader('toFollow',props.user_id);xhr.setRequestHeader('state',follow_state);xhr.send();}},[context,props.user_id,follow_state]);return/*#__PURE__*/_jsx(\"button\",{id:\"follow_button\",style:props.style,ref:function ref(el){return _ref2=el;},onClick:follow_unfollow,disabled:context===sessionStorage.session&&(Boolean(sessionStorage.session)||Boolean(context))?false:true,children:follow_state});};export{FollowButton};","map":{"version":3,"sources":["D:/Python files/Start Django/blog_tube/frontend/blog_tube/src/componenets/appUserProfile.js"],"names":["Link","useParams","useCallback","useContext","useEffect","useMemo","useRef","useState","useHistory","useRouteMatch","appConfig","Login_context","UserImage","BlogComponent","BlogiansMiniProfile","Comment","AppUserProfile","props","user_id","history","userName","joinDatetime","email","blogs","comments","followings","followers","profile_data","set_profile_data","goBack","xhr","XMLHttpRequest","open","origin","onreadystatechange","readyState","status","response","JSON","parse","console","log","userData","push","setRequestHeader","send","views","set_views","i","blog_details","usingColor","Math","floor","random","ele","document","getElementsByClassName","scrollTo","filter","borderWidth","borderRadius","margin","color","marginLeft","marginRight","borderColor","followers_icon","length","followings_icon","blogs_icon","views_icon","datetime_icon","comments_icon","flexBasis","overflow","userSelect","placeContent","email_icon","ProfileTabs","ref","change_tab","event","value","target","width","current","all_comments","getBoundingClientRect","profile_tabs","e","el","all_blogs","map","item","user_details","likes","dislikes","datetime","title","discription","blog_title_image","blog_id","all_followers","blog_title","cid","all_followings","UserDataItem","data","style","data_icon","FollowButton","follow_state","set_follow_state","context","check_follower","sessionStorage","session","Boolean","indexOf","observer","IntersectionObserver","entries","intersectionRatio","observe","follow_unfollow","stopPropagation","preventDefault","change_followers"],"mappings":"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","sourcesContent":["import './statics/css/appUserProfile.css'\r\nimport {Link, useParams} from 'react-router-dom'\r\nimport { useCallback, useContext , useEffect ,useMemo,useRef,useState} from 'react'\r\nimport { useHistory, useRouteMatch } from 'react-router'\r\nimport appConfig from './statics/appConfig.json'\r\nimport PropTypes from 'prop-types'\r\nimport { Login_context } from '../App'\r\nimport UserImage from './userImage'\r\nimport followers_icon from './statics/images/blogians.svg'\r\nimport followings_icon from './statics/images/unkownUser.svg'\r\nimport blogs_icon from './statics/images/uploadblogIcon.svg'\r\nimport views_icon from './statics/images/preview.svg'\r\nimport email_icon from './statics/images/email.svg'\r\nimport datetime_icon from './statics/images/join_datetime.svg'\r\nimport comments_icon from './statics/images/comments.svg'\r\nimport { BlogComponent } from './appHome'\r\nimport { BlogiansMiniProfile } from './appBlogians'\r\nimport { Comment } from './appBlog'\r\n\r\nconst AppUserProfile = props =>{\r\n    let {user_id} = useParams()\r\n    const history = useHistory()\r\n\r\n    const [profile_data , set_profile_data] = useState({\r\n        userName:'',joinDatetime:'',email:'',\r\n        blogs:[],comments:[],followings:[],\r\n        followers:[]\r\n    })\r\n    useEffect(()=>{\r\n        if(user_id === \"null\")history.goBack()\r\n\r\n        let xhr = new XMLHttpRequest()\r\n        xhr.open('POST' , appConfig.origin+`backend_api/getUserDetails`)\r\n        xhr.onreadystatechange=()=>{\r\n            if(xhr.readyState === 4 && xhr.status === 200){\r\n                let response = JSON.parse(xhr.response)\r\n                switch (response.status) {\r\n                    case \"success\":\r\n                        console.log(response.userData)\r\n                        set_profile_data(response.userData)\r\n                        break;\r\n                    case \"fail\":\r\n                        history.push('/Error')\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n        xhr.setRequestHeader('userId' , user_id)\r\n        xhr.send()\r\n        \r\n    }, [user_id])\r\n    \r\n\r\n    const[ views, set_views]= useState(0) ;\r\n\r\n    useEffect(()=>{\r\n        let views = 0\r\n        for (let i of profile_data.blogs){\r\n            views+= i.blog_details.views\r\n        }\r\n        set_views(views)\r\n    },[profile_data])\r\n\r\n    const usingColor = Math.floor(Math.random()*360)\r\n\r\n    useEffect(()=>{\r\n        let ele  = document.getElementsByClassName(\"appbody\")[0]\r\n        ele.scrollTo(0,0)\r\n    })\r\n    \r\n    return (<div className = \"profile_div\">\r\n        <div className = \"pic_bg\" style = {{filter:`hue-rotate(${usingColor}deg)`}}></div>\r\n        <div className=\"user_head\">\r\n            <UserImage  user_id= {user_id} to=\"#\"  \r\n            width= '100px' height = '100px'  onClick={()=>null}\r\n            style = {{borderWidth:\"2px\",borderRadius:\"5px\" ,margin:\"auto 10px\"}}\r\n            \r\n            />\r\n            <h3 style={{color:\"#00aed5\",filter:`hue-rotate(${usingColor}deg) brightness(0.5)`}}\r\n             id=\"profile_username\" >{profile_data.userName}</h3>\r\n            <FollowButton user_id = {user_id}\r\n            style={{marginLeft:'auto' ,marginRight:'20px',color:\"#00aed5\",filter:`hue-rotate(${usingColor}deg) brightness(0.5)`,\r\n            borderColor:\"#00aed5\"\r\n        }} />\r\n        </div>\r\n        <div className=\"data\">\r\n            <UserDataItem filter = {`hue-rotate(${usingColor-33}deg)  brightness(0.7)`} data_icon = {followers_icon} data={`${profile_data.followers.length?profile_data.followers.length:'No'} Followers`} />\r\n            <UserDataItem filter = {`hue-rotate(${usingColor-33}deg)  brightness(0.7)`} data_icon = {followings_icon} data={`${profile_data.followings.length?profile_data.followings.length:'No'} Followings`} />\r\n            <UserDataItem filter = {`hue-rotate(${usingColor-33}deg)  brightness(0.7)`} data_icon = {blogs_icon} data={`${profile_data.blogs.length?profile_data.blogs.length:'No'} Blogs`} />\r\n            <UserDataItem filter = {`hue-rotate(${usingColor-33}deg)  brightness(0.7)`} data_icon = {views_icon} data={`${views?views:'No'} Views`} />\r\n            <UserDataItem filter = {`hue-rotate(${usingColor-33}deg)  brightness(0.7)`} data_icon = {datetime_icon} data={profile_data.joinDatetime} />\r\n            <UserDataItem filter = {`hue-rotate(${usingColor-33}deg)  brightness(0.7)`} data_icon = {comments_icon} data={`${profile_data.comments.length?profile_data.comments.length:'No'} Comments`} />\r\n            <UserDataItem filter = {`hue-rotate(${usingColor-33}deg)  brightness(0.5)`} \r\n            style = {{flexBasis:'100%', overflow:'auto',userSelect:'text',placeContent:\"center\"}}\r\n            data_icon = {email_icon} data={profile_data.email} />\r\n        </div>\r\n        <ProfileTabs \r\n        followers = {profile_data.followers}\r\n        blogs = {profile_data.blogs} \r\n        comments = {profile_data.comments}\r\n        followings = {profile_data.followings}\r\n        filter = {`hue-rotate(${usingColor-33}deg)`} />\r\n    </div>)\r\n}\r\nexport default AppUserProfile;\r\n\r\nconst ProfileTabs=props=>{\r\n    var ref = useRef({})\r\n    const change_tab  = useCallback(event=>{\r\n        let value = event.target.value\r\n        let width = ref.current.all_comments.getBoundingClientRect().width\r\n        switch (value){\r\n            case \"blogs\":\r\n                ref.current.profile_tabs.scrollTo(0,0)\r\n                break;\r\n            case \"followers\":\r\n                ref.current.profile_tabs.scrollTo(width,0)\r\n                break;\r\n            case \"comments\":\r\n                ref.current.profile_tabs.scrollTo(width*2,0)\r\n                break;\r\n            case \"followings\":\r\n                ref.current.profile_tabs.scrollTo(width*3,0)\r\n                break;\r\n            default :\r\n                ref.current.profile_tabs.scrollTo(0,0)\r\n                break;\r\n        }\r\n    },[ref])\r\n    \r\n    return(\r\n        <div className=\"profile_tabs_container\">\r\n        <div className=\"tab_options\">\r\n            <input value = \"blogs\" type=\"radio\" onInput={e=>change_tab(e)} name=\"options\" id=\"blogs_option\" hidden defaultChecked />\r\n            <label style = {{filter:props.filter,'--bg-image':`url(${blogs_icon})`}} htmlFor=\"blogs_option\" className=\"optionlabel\">Blogs</label>\r\n            <input value = \"followers\" type=\"radio\" onInput={e=>change_tab(e)} name=\"options\" id=\"followers_option\" hidden />\r\n            <label style = {{filter:props.filter,'--bg-image':`url(${followers_icon})`}} htmlFor=\"followers_option\" className=\"optionlabel\">Followers</label>\r\n            <input value = \"comments\" type=\"radio\" onInput={e=>change_tab(e)} name=\"options\" id=\"comments_option\" hidden />\r\n            <label style = {{filter:props.filter,'--bg-image':`url(${comments_icon})`}} htmlFor=\"comments_option\" className=\"optionlabel\">Comments</label>\r\n            <input value = \"followings\" type=\"radio\" onInput={e=>change_tab(e)} name=\"options\" id=\"followings_option\" hidden />\r\n            <label style = {{filter:props.filter,'--bg-image':`url(${followings_icon})`}} htmlFor=\"followings_option\" className=\"optionlabel\">Followings</label>\r\n        </div>\r\n        <div className=\"profile_tabs\" ref = {el => ref.current.profile_tabs = el} >\r\n            <span id=\"all_blogs\" ref={el=>ref.current.all_blogs=el} >\r\n                {props.blogs!==[]?props.blogs.map(item=>(<BlogComponent mini={true} user_details={item.user_details}\r\n\r\n            views= {item.blog_details.views} likes={item.blog_details.likes} dislikes={item.blog_details.dislikes}\r\n            date = {item.blog_details.datetime}\r\n            title = {item.blog_details.title} \r\n            discription = {item.blog_details.discription}\r\n            image_url = {item.blog_details.blog_title_image} blog_id = {item.blog_details.blog_id}\r\n            key = {item.blog_details.blog_id} />))\r\n            :\"No Blogs\"}\r\n            </span>\r\n            <span id=\"all_followers\"  ref={el=>ref.current.all_followers=el} >\r\n                    {props.followers !==[]?\r\n                    props.followers.map(item=>(<BlogiansMiniProfile follow={'block'} key = {item.user_id} user_details = {item}  onClick = {()=>null} to={`/Profile/${item.user_id}`} />))\r\n                    :\"No Followers\"}\r\n            </span>\r\n            <span id=\"all_comments\" ref={el=>ref.current.all_comments=el} >\r\n                {props.comments!==[]?\r\n                (props.comments.map(item=>(<><Link className=\"comment_title\" to={`/Blog/${item.blog_title}?id=${item.blog_id}`} ><span>{item.blog_title}</span></Link><Comment c_detials = {item} key ={item.cid} /></>)))\r\n                :\"No Comments\"}\r\n            </span>\r\n            <span id=\"all_followings\" ref={el=>ref.current.all_followings=el} >\r\n            {props.followings !==[]?\r\n                    props.followings.map(item=>(<BlogiansMiniProfile follow={'block'} key = {item.user_id} user_details = {item}  onClick = {()=>null} to={`/Profile/${item.user_id}`} />))\r\n                    :\"No Followings\"}\r\n            </span>\r\n        </div>\r\n        \r\n        </div>\r\n    )\r\n}\r\n\r\nconst UserDataItem = props=>{\r\n    return (\r\n        <span className=\"data_item\" title = {props.data} style = {props.style}>\r\n            <img src = {props.data_icon} className = \"data_icon\" style = {{filter:props.filter}} width= \"30\" height=\"30\"  />\r\n            {props.data}\r\n            </span>\r\n    )\r\n}\r\n\r\nconst FollowButton=props=>{\r\n    const [follow_state, set_follow_state] = useState('Follow')\r\n    var context = useContext(Login_context)\r\n    var ref = useRef()\r\n    const history = useHistory()\r\n\r\n    const check_follower  = useCallback(()=>{\r\n        if (context === sessionStorage.session && (Boolean(sessionStorage.session) && Boolean(context))){\r\n            let xhr = new XMLHttpRequest()\r\n            xhr.open('POST' , appConfig.origin+'backend_api/getFollowingList')\r\n            xhr.onreadystatechange=()=>{if(xhr.status === 200 && xhr.readyState ===4){\r\n                let response = JSON.parse(xhr.response)\r\n                \r\n                switch (response.status) {\r\n                    case \"success\":\r\n                        response.followings.indexOf(props.user_id)!== -1?\r\n                        set_follow_state('Following'):set_follow_state('Follow')\r\n                        break;\r\n                    case \"loginRequired\":\r\n                        console.log('backend_api/getFollowingList LoginRequired')\r\n                        break;\r\n                    case \"fail\":\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            }}\r\n            xhr.setRequestHeader('session'  , context)\r\n            xhr.send()\r\n        }\r\n    },[context])\r\n\r\n    \r\n    useEffect(()=>{\r\n        const observer = new IntersectionObserver(entries=>{\r\n            if (entries[0].intersectionRatio > 0){\r\n                check_follower()\r\n            }\r\n        })\r\n        observer.observe(ref)\r\n\r\n    },[ref,props.user_id,context])\r\n\r\n    const follow_unfollow = useCallback((event)=>{\r\n        event.stopPropagation()\r\n        event.preventDefault()\r\n        if (context === sessionStorage.session && (Boolean(sessionStorage.session) || Boolean(context))){\r\n            let xhr = new XMLHttpRequest()\r\n            xhr.open('POST' , appConfig.origin+'backend_api/followUnfollow')\r\n            xhr.onreadystatechange=()=>{if(xhr.status === 200 && xhr.readyState ===4){\r\n                let response = JSON.parse(xhr.response)\r\n                switch (response.status) {\r\n                    case \"success\":\r\n                        if(response.followings.indexOf(props.user_id)!== -1){\r\n                        set_follow_state('Following')\r\n                        props.change_followers(true)\r\n                    }\r\n                        else{\r\n                            set_follow_state('Follow')\r\n                            props.change_followers(false)\r\n                    }\r\n                        \r\n                        break;\r\n                    case \"loginRequired\":\r\n                        console.log('backend_api/followUnfollow')\r\n                        history.push('/Login')\r\n                        break;\r\n                    case \"fail\":\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            }}\r\n            xhr.setRequestHeader('session'  , context)\r\n            xhr.setRequestHeader('toFollow'  , props.user_id)\r\n            xhr.setRequestHeader('state' , follow_state)\r\n            xhr.send()\r\n        }\r\n    },[context ,props.user_id,follow_state ])\r\n    return(\r\n        <button id=\"follow_button\" style = {props.style} ref = {el=>ref = el} onClick={follow_unfollow} disabled ={context === sessionStorage.session && (Boolean(sessionStorage.session) || Boolean(context))?false:true} >{follow_state}</button>\r\n    )\r\n}\r\n\r\nexport {FollowButton}\r\n\r\nFollowButton.propTypes = {\r\n    user_id : PropTypes.string.isRequired,\r\n    style : PropTypes.object\r\n}"]},"metadata":{},"sourceType":"module"}