{"ast":null,"code":"var _jsxFileName = \"D:\\\\Python files\\\\Start Django\\\\blog_tube\\\\frontend\\\\blog_tube\\\\src\\\\componenets\\\\appUploadBlog.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useEffect, useContext, useState, useCallback, useMemo, useRef } from 'react';\nimport { Redirect, useHistory } from 'react-router';\nimport { Login_context } from '../App';\nimport './statics/css/appUploadBlog.css';\nimport $, { event } from \"jquery\";\nimport domtoimage from 'dom-to-image';\nimport preview_image from \"./statics/images/preview.svg\";\nimport editor_image from \"./statics/images/editor.svg\";\nimport youtubeLogo from \"./statics/images/youtubeLogo.svg\";\nimport popComp from \"./statics/images/popComp.svg\";\nimport appConfig from './statics/appConfig.json';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar new_image_file;\nvar final_data = {};\n\nvar AppUploadBlog = props => {\n  _s();\n\n  var login_context = useContext(Login_context);\n  const history = useHistory();\n  const ref = useRef({});\n  useEffect(() => {\n    if (login_context !== sessionStorage.session) {\n      history.push('/Login');\n      return null;\n    }\n  }, []);\n  const [upload_blog_state, set_upload_blog_state] = useState('blog');\n  const change_image = useCallback(event => {\n    let image_file = event.target.files[0];\n    let image_url = URL.createObjectURL(image_file);\n    let image_span = $('#image_span');\n    image_span.css({\n      'backgroundImage': `url(${image_url})`,\n      backgroundSize: 'contain',\n      backgroundPosition: 'center',\n      backdropFilter: 'blur(3px)',\n      'borderRadius': '20px'\n    });\n    let target = $('#label_image');\n    target.css({\n      'backgroundImage': `url(${image_url})`,\n      'borderRadius': '20px',\n      'backgroundSize': 'cover',\n      \"boxShadow\": \"0px 1px 7px 3px #1976d2\"\n    });\n    image_span = document.getElementById(\"label_image\");\n    domtoimage.toBlob(image_span, {\n      quality: 1\n    }).then(data => {\n      final_data['blog_title_image'] = data;\n    });\n  }, []);\n  const forward_to_editor = useCallback(event => {\n    event.preventDefault();\n    final_data.title = ref.current['blog_title'].value;\n    final_data.discription = ref.current['blog_discription'].value;\n    set_upload_blog_state('blog_editor');\n  });\n  const blog_info = useMemo(() => /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"blog_info\",\n    action: \"javascript:void(0);\",\n    onSubmit: event => forward_to_editor(event),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"blog_info_child\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        align: \"center\",\n        children: \"Blog Information \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"blog_title\",\n        id: \"label_title\",\n        children: \"Title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        autoFocus: true,\n        placeholder: \"Title\",\n        autoComplete: \"off\",\n        spellCheck: \"true\",\n        autoCapitalize: \"words\",\n        id: \"blog_title\",\n        maxLength: 100,\n        ref: el => ref.current['blog_title'] = el,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"blog_discription\",\n        id: \"label_discription\",\n        children: \"Discription\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        type: \"text\",\n        autoComplete: \"off\",\n        spellCheck: \"true\",\n        autoCapitalize: \"sentences\",\n        id: \"blog_discription\",\n        placeholder: \"Discription\",\n        maxLength: 200,\n        ref: el => ref.current['blog_discription'] = el\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"blog_image\",\n        id: \"label_image\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          id: \"image_span\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 61\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        id: \"blog_image\",\n        accept: \"image/*\",\n        onChange: change_image,\n        hidden: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"Next\",\n        id: \"submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 9\n  }, this), [upload_blog_state, change_image, forward_to_editor]);\n  const [editor_state, set_editor_state] = useState('editor');\n\n  let set_to_editor = e => {\n    set_editor_state(e.target.value);\n  };\n\n  const blog_editor = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"editor\",\n    children: [/*#__PURE__*/_jsxDEV(Editor_tabs, {\n      change_state: set_to_editor\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this), editor_state === \"editor\" ? /*#__PURE__*/_jsxDEV(Editing_pane, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 39\n    }, this) : null, editor_state === \"preview\" ? null : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 9\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"blog_upload_page\",\n    children: [upload_blog_state == 'blog' ? blog_info : null, upload_blog_state == 'blog_editor' ? blog_editor : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AppUploadBlog, \"ZzilYhTjUc5FJxMJ+hmT5/YPKBU=\", false, function () {\n  return [useHistory];\n});\n\n_c = AppUploadBlog;\nexport default AppUploadBlog;\n\nvar Editor_tabs = props => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"tabs\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"radio\",\n      name: \"tabs\",\n      id: \"editer_radio\",\n      value: \"editor\",\n      onInput: e => props.change_state(e),\n      hidden: true,\n      defaultChecked: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"editer_radio\",\n      id: \"label_editor\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: editor_image,\n        className: \"label_ico\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 64\n      }, this), \"Editor\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"radio\",\n      name: \"tabs\",\n      id: \"preview_radio\",\n      value: \"preview\",\n      onInput: e => props.change_state(e),\n      hidden: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"preview_radio\",\n      id: \"label_preview\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: preview_image,\n        className: \"label_ico\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 67\n      }, this), \"Preview\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 9\n  }, this);\n};\n\n_c2 = Editor_tabs;\n\nvar Editing_pane = props => {\n  _s2();\n\n  const ref = useRef({});\n  const [edit_state, set_edit_state] = useState(true);\n  const mq = window.matchMedia(\"(max-width : 767px)\");\n  const switch_comp = useCallback(() => {\n    let display = ref.current['components'].style.display;\n\n    if (mq.matches) {\n      if (display === \"none\" || display === \"\") {\n        ref.current['components'].style.display = \"flex\";\n      } else {\n        ref.current['components'].style.display = \"\";\n      }\n    } else {\n      ref.current['components'].style.display = \"flex\";\n    }\n  }, [mq]);\n  const [input_state, set_input_state] = useState(\"Heading\");\n\n  function change_input_state(event) {\n    set_input_state(event.target.value);\n    ref.current['maintext'].focus();\n  }\n\n  useEffect(() => {\n    ref.current['maintext'].innerHTML = \"\";\n\n    if (input_state === \"Photo\" || input_state === \"Video\" || input_state === \"Youtube Video\") {\n      set_edit_state(false);\n      ref.current['maintext'].classList.remove(\"bullet_list\");\n    } else if (input_state === \"List\") {\n      set_edit_state(true);\n      ref.current['maintext'].classList.add(\"bullet_list\");\n    } else {\n      set_edit_state(true);\n      ref.current['maintext'].classList.remove(\"bullet_list\");\n    }\n\n    let widget;\n\n    switch (input_state) {\n      case \"Video\":\n        widget = `<input type= \"file\" accept =\"video/*\" id = \"videofile\" hidden  />\n                           <label  for = \"videofile\">Video</label> `;\n        set_edit_state(false);\n        break;\n\n      case \"Photo\":\n        widget = `<input type= \"file\" accept =\"image/*\" id = \"photofile\" hidden  />\n                           <label  for = \"photofile\">Photo</label> `;\n        set_edit_state(false);\n        break;\n\n      case \"Youtube Video\":\n        widget = ` <label  for = \"videolink\" style = \"border:none;padding:0;\">video Link</label> \n                            <input style = \"height:20px;max-width: calc(100% - 10px);                        margin: 0;\n                            place-self: center;\n                            padding: 0;\"  type= \"url\" id = \"videolink\"  />`;\n        set_edit_state(false);\n        break;\n\n      default:\n        widget = \"\";\n        set_edit_state(true);\n        break;\n    }\n\n    ref.current['maintext'].innerHTML = widget;\n  }, [input_state]);\n  const [blog, set_blog] = useState([]);\n\n  const delblog = ind => {\n    let tempblog = blog;\n    delete tempblog[ind];\n    set_blog(tempblog);\n    console.log(tempblog);\n  };\n\n  const data_submit = e => {\n    e.preventDefault();\n    e.nativeEvent.stopImmediatePropagation();\n\n    if (input_state === \"Heading\") {\n      let heading = ref.current['maintext'].innerText;\n      set_blog([...blog, {\n        \"Heading\": heading\n      }]);\n      ref.current['maintext'].innerText = \"\";\n    } else if (input_state === \"Paragraph\") {\n      let para = ref.current['maintext'].innerText;\n      set_blog([...blog, {\n        \"Paragraph\": para\n      }]);\n      ref.current['maintext'].innerText = \"\";\n    } else if (input_state === \"List\") {\n      let list = ref.current['maintext'].innerText;\n      list = list.split(\"\\n\");\n      set_blog([...blog, {\n        \"List\": list\n      }]);\n      ref.current['maintext'].innerText = \"\";\n    } else if (input_state === \"Photo\") {\n      if (e.target[0].files.length !== 0) {\n        e.target[0].setCustomValidity('');\n        let photofile = e.target[0].files[0];\n        set_blog([...blog, {\n          \"Photo\": photofile,\n          \"name\": photofile.name\n        }]);\n      } else {\n        e.target[0].setCustomValidity(\"Empty!!\");\n      }\n    } else if (input_state === \"Video\") {\n      if (e.target[0].files.length !== 0) {\n        e.target[0].setCustomValidity('');\n        let videofile = e.target[0].files[0];\n        set_blog([...blog, {\n          \"Video\": videofile,\n          \"name\": videofile.name\n        }]);\n      } else {\n        e.target[0].setCustomValidity(\"Empty!!\");\n      }\n    } else if (input_state === \"Youtube Video\") {\n      let pathList = e.target[0].value.split('/');\n      let temp_id = pathList[pathList.length - 1].split(\"=\");\n      let id = temp_id[temp_id.length - 1];\n      set_blog([...blog, {\n        \"Youtube Video\": id\n      }]);\n      e.target[0].value = \"\";\n    }\n  };\n\n  const login_context = useContext(Login_context);\n  const history = useHistory();\n  const submit_data = useCallback(() => {\n    final_data.blog = blog;\n    console.log(final_data);\n\n    if (login_context === sessionStorage.session) {\n      let login_data = JSON.parse(localStorage.login_data);\n      let xhr = new XMLHttpRequest();\n      let blog_details = JSON.stringify(final_data);\n      xhr.open(\"POST\", `${appConfig.origin}backend_api/uploadBlog`);\n\n      xhr.onreadystatechange = () => {\n        if (xhr.readyState === 4 && xhr.status === 200) {\n          let response = JSON.parse(xhr.response);\n\n          switch (response) {\n            case \"loginRequired\":\n              history.push('/Login');\n              break;\n\n            default:\n              console.log(response);\n          }\n        }\n      };\n\n      let formdata = new FormData();\n\n      for (var i = 0; i < final_data.blog.length; i++) {\n        let el = final_data.blog[i];\n\n        if (el.Photo) {\n          formdata.append(el.name, el.Photo);\n        } else if (el.Video) {\n          formdata.append(el.name, el.Video);\n        }\n      }\n\n      if (final_data.blog_title_image) {\n        formdata.append('blog_title_image', final_data.blog_title_image);\n      }\n\n      xhr.setRequestHeader(\"session\", login_context);\n      xhr.setRequestHeader(\"logindata\", login_data);\n      xhr.setRequestHeader(\"blogDetails\", blog_details);\n      xhr.send(formdata);\n    }\n  }, [blog]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"editing_pane\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"editing\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"upload\",\n        onClick: submit_data,\n        children: \"Upload\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"addComponents\",\n        onClick: switch_comp\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 17\n      }, this), blog.map((value, index, arr) => {\n        return /*#__PURE__*/_jsxDEV(Blog_part, {\n          pop: ind => delblog(ind),\n          data: value,\n          index: index,\n          arr: arr\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 58\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"components\",\n      ref: el => ref.current['components'] = el,\n      children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n        align: \"center\",\n        className: \"heading\",\n        children: \"Components\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onClickCapture: e => change_input_state(e),\n        name: \"comp\",\n        hidden: true,\n        checked: input_state === \"Heading\",\n        type: \"radio\",\n        value: \"Heading\",\n        id: \"Heading\",\n        defaultChecked: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"complist\",\n        htmlFor: \"Heading\",\n        children: \"Heading\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onClickCapture: e => change_input_state(e),\n        name: \"comp\",\n        hidden: true,\n        checked: input_state === \"Paragraph\",\n        type: \"radio\",\n        value: \"Paragraph\",\n        id: \"Paragraph\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"complist\",\n        htmlFor: \"Paragraph\",\n        children: \"Paragraph\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onClickCapture: e => change_input_state(e),\n        name: \"comp\",\n        hidden: true,\n        checked: input_state === \"List\",\n        type: \"radio\",\n        value: \"List\",\n        id: \"List\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"complist\",\n        htmlFor: \"List\",\n        children: \"List\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onClickCapture: e => change_input_state(e),\n        name: \"comp\",\n        hidden: true,\n        checked: input_state === \"Photo\",\n        type: \"radio\",\n        value: \"Photo\",\n        id: \"Photo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"complist\",\n        htmlFor: \"Photo\",\n        children: \"Photo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onClickCapture: e => change_input_state(e),\n        name: \"comp\",\n        hidden: true,\n        checked: input_state === \"Video\",\n        type: \"radio\",\n        value: \"Video\",\n        id: \"Video\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"complist\",\n        htmlFor: \"Video\",\n        children: \"Video\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onClickCapture: e => change_input_state(e),\n        name: \"comp\",\n        hidden: true,\n        checked: input_state === \"Youtube Video\",\n        type: \"radio\",\n        value: \"Youtube Video\",\n        id: \"Youtube Video\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"complist\",\n        htmlFor: \"Youtube Video\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: youtubeLogo,\n          width: 30,\n          height: 30,\n          style: {\n            verticalAlign: \"middle\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 69\n        }, this), \" Video Link\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      action: \"javascript:void(0);\",\n      id: \"text_input\",\n      ref: el => ref.current[\"text_input\"] = el,\n      cols: \"30\",\n      rows: \"10\",\n      onSubmit: e => data_submit(e),\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        ref: el => ref.current['comp_tag'] = el,\n        contentEditable: \"false\",\n        className: \"comp_tag\",\n        children: input_state\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: el => ref.current['maintext'] = el,\n        className: \"maintext\",\n        contentEditable: edit_state\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        className: \"insert_comp\",\n        ref: el => ref.current['insert_comp'] = el,\n        value: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 284,\n    columnNumber: 9\n  }, this);\n};\n\n_s2(Editing_pane, \"cvpuVQ5OiuBqP0C5IeRoj9L9LZE=\", false, function () {\n  return [useHistory];\n});\n\n_c3 = Editing_pane;\n\nconst Blog_part = props => {\n  let heading = String(Object.keys(props.data)[0]);\n  let data;\n\n  if (heading === \"Heading\") {\n    data = props.data[heading];\n  } else if (heading === \"Paragraph\") {\n    data = /*#__PURE__*/_jsxDEV(\"p\", {\n      children: `${props.data[heading]}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 17\n    }, this);\n  } else if (heading === \"List\") {\n    data = /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: props.data[heading].map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: item\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 45\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 17\n    }, this);\n  } else if (heading === \"Photo\") {\n    let url = URL.createObjectURL(props.data[heading]);\n    data = /*#__PURE__*/_jsxDEV(\"img\", {\n      src: url,\n      height: 200,\n      width: 400,\n      style: {\n        boxShadow: \"rgb(0 0 0 / 20%) 0px 0px 5px 3px\",\n        borderRadius: \"5px\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 16\n    }, this);\n  } else if (heading === \"Video\") {\n    let url = URL.createObjectURL(props.data[heading]);\n    data = /*#__PURE__*/_jsxDEV(\"video\", {\n      src: url,\n      height: 200,\n      width: 400,\n      controls: true,\n      style: {\n        boxShadow: \"rgb(0 0 0 / 20%) 0px 0px 5px 3px\",\n        borderRadius: \"5px\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 16\n    }, this);\n  } else if (heading === \"Youtube Video\") {\n    data = /*#__PURE__*/_jsxDEV(\"iframe\", {\n      width: \"400\",\n      height: \"200\",\n      src: `https://www.youtube.com/embed/${props.data[heading]}`,\n      title: \"YouTube video player\",\n      frameborder: \"0\",\n      style: {\n        boxShadow: \"rgb(0 0 0 / 20%) 0px 0px 5px 3px\",\n        borderRadius: \"5px\"\n      },\n      allow: \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",\n      allowfullscreen: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 17\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container_part\",\n    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n      children: `${heading}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      onClick: () => props.pop(props.index),\n      style: {\n        gridArea: \"img\",\n        alignSelf: 'center',\n        justifySelf: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: popComp,\n        width: 20,\n        height: 20\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 123\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"container_data\",\n      children: data\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 347,\n    columnNumber: 9\n  }, this);\n};\n\n_c4 = Blog_part;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"AppUploadBlog\");\n$RefreshReg$(_c2, \"Editor_tabs\");\n$RefreshReg$(_c3, \"Editing_pane\");\n$RefreshReg$(_c4, \"Blog_part\");","map":{"version":3,"sources":["D:/Python files/Start Django/blog_tube/frontend/blog_tube/src/componenets/appUploadBlog.js"],"names":["React","useEffect","useContext","useState","useCallback","useMemo","useRef","Redirect","useHistory","Login_context","$","event","domtoimage","appConfig","new_image_file","final_data","AppUploadBlog","props","login_context","history","ref","sessionStorage","session","push","upload_blog_state","set_upload_blog_state","change_image","image_file","target","files","image_url","URL","createObjectURL","image_span","css","backgroundSize","backgroundPosition","backdropFilter","document","getElementById","toBlob","quality","then","data","forward_to_editor","preventDefault","title","current","value","discription","blog_info","el","editor_state","set_editor_state","set_to_editor","e","blog_editor","Editor_tabs","change_state","editor_image","preview_image","Editing_pane","edit_state","set_edit_state","mq","window","matchMedia","switch_comp","display","style","matches","input_state","set_input_state","change_input_state","focus","innerHTML","classList","remove","add","widget","blog","set_blog","delblog","ind","tempblog","console","log","data_submit","nativeEvent","stopImmediatePropagation","heading","innerText","para","list","split","length","setCustomValidity","photofile","name","videofile","pathList","temp_id","id","submit_data","login_data","JSON","parse","localStorage","xhr","XMLHttpRequest","blog_details","stringify","open","origin","onreadystatechange","readyState","status","response","formdata","FormData","i","Photo","append","Video","blog_title_image","setRequestHeader","send","map","index","arr","youtubeLogo","verticalAlign","Blog_part","String","Object","keys","item","url","boxShadow","borderRadius","pop","gridArea","alignSelf","justifySelf","popComp"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,UAA1B,EAAuCC,QAAvC,EAAiDC,WAAjD,EAA8DC,OAA9D,EAAuEC,MAAvE,QAAoF,OAApF;AACA,SAASC,QAAT,EAAmBC,UAAnB,QAAqC,cAArC;AACA,SAASC,aAAT,QAA8B,QAA9B;AACA,OAAO,iCAAP;AACA,OAAOC,CAAP,IAAYC,KAAZ,QAAyB,QAAzB;AACA,OAAOC,UAAP,MAAuB,cAAvB;;;;;AAKA,OAAOC,SAAP,MAAsB,0BAAtB;;AAEA,IAAIC,cAAJ;AACA,IAAIC,UAAU,GAAG,EAAjB;;AAEA,IAAIC,aAAa,GAAGC,KAAK,IAAE;AAAA;;AACvB,MAAIC,aAAa,GAAIhB,UAAU,CAACO,aAAD,CAA/B;AACA,QAAMU,OAAO,GAAIX,UAAU,EAA3B;AACA,QAAMY,GAAG,GAAGd,MAAM,CAAC,EAAD,CAAlB;AACAL,EAAAA,SAAS,CAAC,MAAI;AACV,QAAIiB,aAAa,KAAKG,cAAc,CAACC,OAArC,EAA6C;AACzCH,MAAAA,OAAO,CAACI,IAAR,CAAa,QAAb;AACA,aAAO,IAAP;AACH;AACJ,GALQ,EAKP,EALO,CAAT;AAOA,QAAM,CAACC,iBAAD,EAAqBC,qBAArB,IAA8CtB,QAAQ,CAAC,MAAD,CAA5D;AAGA,QAAMuB,YAAY,GAAGtB,WAAW,CAACO,KAAK,IAAE;AACpC,QAAIgB,UAAU,GAAGhB,KAAK,CAACiB,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAjB;AAEA,QAAIC,SAAS,GAAGC,GAAG,CAACC,eAAJ,CAAoBL,UAApB,CAAhB;AACA,QAAIM,UAAU,GAAGvB,CAAC,CAAC,aAAD,CAAlB;AACAuB,IAAAA,UAAU,CAACC,GAAX,CAAe;AACX,yBAAmB,OAAMJ,SAAU,GADxB;AAEXK,MAAAA,cAAc,EAAC,SAFJ;AAGXC,MAAAA,kBAAkB,EAAG,QAHV;AAIXC,MAAAA,cAAc,EAAC,WAJJ;AAKX,sBAAe;AALJ,KAAf;AAQA,QAAIT,MAAM,GAAGlB,CAAC,CAAC,cAAD,CAAd;AACAkB,IAAAA,MAAM,CAACM,GAAP,CAAW;AAAC,yBAAoB,OAAMJ,SAAU,GAArC;AACR,sBAAe,MADP;AAER,wBAAkB,OAFV;AAGR,mBAAa;AAHL,KAAX;AAMAG,IAAAA,UAAU,GAAGK,QAAQ,CAACC,cAAT,CAAwB,aAAxB,CAAb;AAEA3B,IAAAA,UAAU,CAAC4B,MAAX,CAAkBP,UAAlB,EAA8B;AAACQ,MAAAA,OAAO,EAAC;AAAT,KAA9B,EAA2CC,IAA3C,CAAgDC,IAAI,IAAE;AAClD5B,MAAAA,UAAU,CAAC,kBAAD,CAAV,GAAiC4B,IAAjC;AACH,KAFD;AAIH,GA1B+B,EA0B9B,EA1B8B,CAAhC;AA6BA,QAAMC,iBAAiB,GAAGxC,WAAW,CAAEO,KAAD,IAAS;AAC3CA,IAAAA,KAAK,CAACkC,cAAN;AACA9B,IAAAA,UAAU,CAAC+B,KAAX,GAAmB1B,GAAG,CAAC2B,OAAJ,CAAY,YAAZ,EAA0BC,KAA7C;AACAjC,IAAAA,UAAU,CAACkC,WAAX,GAAyB7B,GAAG,CAAC2B,OAAJ,CAAY,kBAAZ,EAAgCC,KAAzD;AACAvB,IAAAA,qBAAqB,CAAC,aAAD,CAArB;AACH,GALoC,CAArC;AAOA,QAAMyB,SAAS,GAAG7C,OAAO,CAAC,mBACtB;AAAM,IAAA,SAAS,EAAC,WAAhB;AAA4B,IAAA,MAAM,EAAC,qBAAnC;AAAyD,IAAA,QAAQ,EAAIM,KAAK,IAAEiC,iBAAiB,CAACjC,KAAD,CAA7F;AAAA,2BACI;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA,8BACA;AAAI,QAAA,KAAK,EAAG,QAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADA,eAEA;AAAO,QAAA,OAAO,EAAC,YAAf;AAA4B,QAAA,EAAE,EAAG,aAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFA,eAGA;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,SAAS,MAA5B;AAA6B,QAAA,WAAW,EAAG,OAA3C;AAAmD,QAAA,YAAY,EAAC,KAAhE;AAAsE,QAAA,UAAU,EAAC,MAAjF;AAAwF,QAAA,cAAc,EAAC,OAAvG;AAAgH,QAAA,EAAE,EAAG,YAArH;AAAkI,QAAA,SAAS,EAAE,GAA7I;AAAkJ,QAAA,GAAG,EAAGwC,EAAE,IAAG/B,GAAG,CAAC2B,OAAJ,CAAY,YAAZ,IAA0BI,EAAvL;AAA2L,QAAA,QAAQ;AAAnM;AAAA;AAAA;AAAA;AAAA,cAHA,eAKA;AAAO,QAAA,OAAO,EAAC,kBAAf;AAAkC,QAAA,EAAE,EAAG,mBAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALA,eAMA;AAAU,QAAA,IAAI,EAAC,MAAf;AAAsB,QAAA,YAAY,EAAC,KAAnC;AAAyC,QAAA,UAAU,EAAC,MAApD;AAA2D,QAAA,cAAc,EAAC,WAA1E;AAAsF,QAAA,EAAE,EAAC,kBAAzF;AAA4G,QAAA,WAAW,EAAC,aAAxH;AAAsI,QAAA,SAAS,EAAE,GAAjJ;AAAsJ,QAAA,GAAG,EAAGA,EAAE,IAAG/B,GAAG,CAAC2B,OAAJ,CAAY,kBAAZ,IAAgCI;AAAjM;AAAA;AAAA;AAAA;AAAA,cANA,eAQA;AAAO,QAAA,OAAO,EAAC,YAAf;AAA4B,QAAA,EAAE,EAAG,aAAjC;AAAA,+BAAgD;AAAM,UAAA,EAAE,EAAG;AAAX;AAAA;AAAA;AAAA;AAAA;AAAhD;AAAA;AAAA;AAAA;AAAA,cARA,eASA;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,EAAE,EAAG,YAAxB;AAAqC,QAAA,MAAM,EAAC,SAA5C;AAAsD,QAAA,QAAQ,EAAEzB,YAAhE;AAA8E,QAAA,MAAM;AAApF;AAAA;AAAA;AAAA;AAAA,cATA,eAWA;AAAO,QAAA,IAAI,EAAC,QAAZ;AAAsB,QAAA,KAAK,EAAC,MAA5B;AAAmC,QAAA,EAAE,EAAG;AAAxC;AAAA;AAAA;AAAA;AAAA,cAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADqB,EAiBvB,CAACF,iBAAD,EAAoBE,YAApB,EAAiCkB,iBAAjC,CAjBuB,CAAzB;AAmBA,QAAM,CAACQ,YAAD,EAAcC,gBAAd,IAAkClD,QAAQ,CAAC,QAAD,CAAhD;;AAEA,MAAImD,aAAa,GAAEC,CAAC,IAAE;AAClBF,IAAAA,gBAAgB,CAACE,CAAC,CAAC3B,MAAF,CAASoB,KAAV,CAAhB;AACH,GAFD;;AAIA,QAAMQ,WAAW,gBACb;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA,4BACI,QAAC,WAAD;AAAa,MAAA,YAAY,EAAIF;AAA7B;AAAA;AAAA;AAAA;AAAA,YADJ,EAEKF,YAAY,KAAI,QAAhB,gBAAyB,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA,YAAzB,GAA0C,IAF/C,EAGKA,YAAY,KAAK,SAAjB,GAA2B,IAA3B,GAAgC,IAHrC;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;;AAOA,sBACI;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA,eACK5B,iBAAiB,IAAI,MAArB,GAA6B0B,SAA7B,GAAyC,IAD9C,EAEK1B,iBAAiB,IAAI,aAArB,GAAmCgC,WAAnC,GAA+C,IAFpD;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAOH,CAzFD;;GAAIxC,a;UAEiBR,U;;;KAFjBQ,a;AA2FJ,eAAgBA,aAAhB;;AAGA,IAAIyC,WAAW,GAAExC,KAAK,IAAG;AACrB,sBACI;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA,4BACI;AAAO,MAAA,IAAI,EAAC,OAAZ;AAAoB,MAAA,IAAI,EAAC,MAAzB;AAAgC,MAAA,EAAE,EAAC,cAAnC;AAAkD,MAAA,KAAK,EAAE,QAAzD;AAAmE,MAAA,OAAO,EAAIsC,CAAD,IAAKtC,KAAK,CAACyC,YAAN,CAAmBH,CAAnB,CAAlF;AAAyG,MAAA,MAAM,MAA/G;AAAiH,MAAA,cAAc;AAA/H;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAO,MAAA,OAAO,EAAC,cAAf;AAA8B,MAAA,EAAE,EAAG,cAAnC;AAAA,8BAAmD;AAAK,QAAA,GAAG,EAAII,YAAZ;AAA2B,QAAA,SAAS,EAAG;AAAvC;AAAA;AAAA;AAAA;AAAA,cAAnD;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,eAGI;AAAO,MAAA,IAAI,EAAC,OAAZ;AAAoB,MAAA,IAAI,EAAC,MAAzB;AAAgC,MAAA,EAAE,EAAC,eAAnC;AAAmD,MAAA,KAAK,EAAE,SAA1D;AAAoE,MAAA,OAAO,EAAIJ,CAAD,IAAKtC,KAAK,CAACyC,YAAN,CAAmBH,CAAnB,CAAnF;AAA0G,MAAA,MAAM;AAAhH;AAAA;AAAA;AAAA;AAAA,YAHJ,eAII;AAAO,MAAA,OAAO,EAAE,eAAhB;AAAgC,MAAA,EAAE,EAAG,eAArC;AAAA,8BAAsD;AAAK,QAAA,GAAG,EAAIK,aAAZ;AAA4B,QAAA,SAAS,EAAG;AAAxC;AAAA;AAAA;AAAA;AAAA,cAAtD;AAAA;AAAA;AAAA;AAAA;AAAA,YAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAQH,CATD;;MAAIH,W;;AAWJ,IAAII,YAAY,GAAG5C,KAAK,IAAG;AAAA;;AACvB,QAAMG,GAAG,GAAGd,MAAM,CAAC,EAAD,CAAlB;AACA,QAAM,CAACwD,UAAD,EAAcC,cAAd,IAAiC5D,QAAQ,CAAC,IAAD,CAA/C;AAEA,QAAM6D,EAAE,GAAGC,MAAM,CAACC,UAAP,CAAkB,qBAAlB,CAAX;AAEA,QAAMC,WAAW,GAAG/D,WAAW,CAAC,MAAI;AAChC,QAAIgE,OAAO,GAAGhD,GAAG,CAAC2B,OAAJ,CAAY,YAAZ,EAA0BsB,KAA1B,CAAgCD,OAA9C;;AACA,QAAIJ,EAAE,CAACM,OAAP,EAAe;AACX,UAAIF,OAAO,KAAK,MAAZ,IAAsBA,OAAO,KAAK,EAAtC,EAAyC;AACrChD,QAAAA,GAAG,CAAC2B,OAAJ,CAAY,YAAZ,EAA0BsB,KAA1B,CAAgCD,OAAhC,GAA0C,MAA1C;AACH,OAFD,MAEK;AACDhD,QAAAA,GAAG,CAAC2B,OAAJ,CAAY,YAAZ,EAA0BsB,KAA1B,CAAgCD,OAAhC,GAA0C,EAA1C;AACH;AACJ,KAND,MAMK;AACDhD,MAAAA,GAAG,CAAC2B,OAAJ,CAAY,YAAZ,EAA0BsB,KAA1B,CAAgCD,OAAhC,GAA0C,MAA1C;AACH;AAEJ,GAZ8B,EAY7B,CAACJ,EAAD,CAZ6B,CAA/B;AAcA,QAAM,CAACO,WAAD,EAAeC,eAAf,IAAkCrE,QAAQ,CAAC,SAAD,CAAhD;;AAEA,WAASsE,kBAAT,CAA4B9D,KAA5B,EAAkC;AAC9B6D,IAAAA,eAAe,CAAC7D,KAAK,CAACiB,MAAN,CAAaoB,KAAd,CAAf;AACA5B,IAAAA,GAAG,CAAC2B,OAAJ,CAAY,UAAZ,EAAwB2B,KAAxB;AACH;;AAEDzE,EAAAA,SAAS,CAAC,MAAI;AACVmB,IAAAA,GAAG,CAAC2B,OAAJ,CAAY,UAAZ,EAAwB4B,SAAxB,GAAoC,EAApC;;AACA,QAAIJ,WAAW,KAAK,OAAhB,IAA2BA,WAAW,KAAK,OAA3C,IAAoDA,WAAW,KAAK,eAAxE,EAAyF;AACrFR,MAAAA,cAAc,CAAC,KAAD,CAAd;AACA3C,MAAAA,GAAG,CAAC2B,OAAJ,CAAY,UAAZ,EAAwB6B,SAAxB,CAAkCC,MAAlC,CAAyC,aAAzC;AAEH,KAJD,MAIM,IAAGN,WAAW,KAAK,MAAnB,EAA0B;AAC5BR,MAAAA,cAAc,CAAC,IAAD,CAAd;AACA3C,MAAAA,GAAG,CAAC2B,OAAJ,CAAY,UAAZ,EAAwB6B,SAAxB,CAAkCE,GAAlC,CAAsC,aAAtC;AACH,KAHK,MAIF;AACAf,MAAAA,cAAc,CAAC,IAAD,CAAd;AACJ3C,MAAAA,GAAG,CAAC2B,OAAJ,CAAY,UAAZ,EAAwB6B,SAAxB,CAAkCC,MAAlC,CAAyC,aAAzC;AACC;;AAED,QAAIE,MAAJ;;AAGA,YAAQR,WAAR;AACI,WAAK,OAAL;AACIQ,QAAAA,MAAM,GAAK;AAC3B,oEADgB;AAEAhB,QAAAA,cAAc,CAAC,KAAD,CAAd;AACA;;AACJ,WAAK,OAAL;AACIgB,QAAAA,MAAM,GAAK;AAC3B,oEADgB;AAEAhB,QAAAA,cAAc,CAAC,KAAD,CAAd;AACA;;AACJ,WAAK,eAAL;AACIgB,QAAAA,MAAM,GAAK;AAC3B;AACA;AACA,2EAHgB;AAIAhB,QAAAA,cAAc,CAAC,KAAD,CAAd;AACA;;AACJ;AACIgB,QAAAA,MAAM,GAAC,EAAP;AACIhB,QAAAA,cAAc,CAAC,IAAD,CAAd;AACA;AArBZ;;AAuBA3C,IAAAA,GAAG,CAAC2B,OAAJ,CAAY,UAAZ,EAAwB4B,SAAxB,GAAoCI,MAApC;AAEH,GA3CQ,EA2CN,CAACR,WAAD,CA3CM,CAAT;AA6CA,QAAM,CAACS,IAAD,EAAQC,QAAR,IAAoB9E,QAAQ,CAAC,EAAD,CAAlC;;AAEA,QAAM+E,OAAO,GAAEC,GAAD,IAAO;AACjB,QAAIC,QAAQ,GAAGJ,IAAf;AACA,WAAOI,QAAQ,CAACD,GAAD,CAAf;AACAF,IAAAA,QAAQ,CAACG,QAAD,CAAR;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACH,GALD;;AAOA,QAAMG,WAAW,GAAGhC,CAAC,IAAE;AACnBA,IAAAA,CAAC,CAACV,cAAF;AACAU,IAAAA,CAAC,CAACiC,WAAF,CAAcC,wBAAd;;AACA,QAAIlB,WAAW,KAAK,SAApB,EAA8B;AAC1B,UAAImB,OAAO,GAAGtE,GAAG,CAAC2B,OAAJ,CAAY,UAAZ,EAAwB4C,SAAtC;AACAV,MAAAA,QAAQ,CAAC,CAAC,GAAGD,IAAJ,EAAS;AAAC,mBAAYU;AAAb,OAAT,CAAD,CAAR;AACAtE,MAAAA,GAAG,CAAC2B,OAAJ,CAAY,UAAZ,EAAwB4C,SAAxB,GAAoC,EAApC;AACH,KAJD,MAIM,IAAIpB,WAAW,KAAK,WAApB,EAAgC;AAClC,UAAIqB,IAAI,GAAGxE,GAAG,CAAC2B,OAAJ,CAAY,UAAZ,EAAwB4C,SAAnC;AACAV,MAAAA,QAAQ,CAAC,CAAC,GAAGD,IAAJ,EAAS;AAAC,qBAAcY;AAAf,OAAT,CAAD,CAAR;AACAxE,MAAAA,GAAG,CAAC2B,OAAJ,CAAY,UAAZ,EAAwB4C,SAAxB,GAAoC,EAApC;AACH,KAJK,MAIA,IAAIpB,WAAW,KAAK,MAApB,EAA2B;AAC7B,UAAIsB,IAAI,GAAGzE,GAAG,CAAC2B,OAAJ,CAAY,UAAZ,EAAwB4C,SAAnC;AACAE,MAAAA,IAAI,GAAGA,IAAI,CAACC,KAAL,CAAW,IAAX,CAAP;AACAb,MAAAA,QAAQ,CAAC,CAAC,GAAGD,IAAJ,EAAS;AAAC,gBAAOa;AAAR,OAAT,CAAD,CAAR;AACAzE,MAAAA,GAAG,CAAC2B,OAAJ,CAAY,UAAZ,EAAwB4C,SAAxB,GAAoC,EAApC;AACH,KALK,MAKA,IAAIpB,WAAW,KAAK,OAApB,EAA4B;AAC9B,UAAIhB,CAAC,CAAC3B,MAAF,CAAS,CAAT,EAAYC,KAAZ,CAAkBkE,MAAlB,KAA4B,CAAhC,EAAkC;AAC9BxC,QAAAA,CAAC,CAAC3B,MAAF,CAAS,CAAT,EAAYoE,iBAAZ,CAA8B,EAA9B;AACJ,YAAIC,SAAS,GAAG1C,CAAC,CAAC3B,MAAF,CAAS,CAAT,EAAYC,KAAZ,CAAkB,CAAlB,CAAhB;AACAoD,QAAAA,QAAQ,CAAC,CAAC,GAAGD,IAAJ,EAAS;AAAE,mBAASiB,SAAX;AAAuB,kBAASA,SAAS,CAACC;AAA1C,SAAT,CAAD,CAAR;AACC,OAJD,MAIK;AAAC3C,QAAAA,CAAC,CAAC3B,MAAF,CAAS,CAAT,EAAYoE,iBAAZ,CAA8B,SAA9B;AAAyC;AAClD,KANK,MAMA,IAAKzB,WAAW,KAAK,OAArB,EAA8B;AAChC,UAAIhB,CAAC,CAAC3B,MAAF,CAAS,CAAT,EAAYC,KAAZ,CAAkBkE,MAAlB,KAA6B,CAAjC,EAAmC;AAC/BxC,QAAAA,CAAC,CAAC3B,MAAF,CAAS,CAAT,EAAYoE,iBAAZ,CAA8B,EAA9B;AACJ,YAAIG,SAAS,GAAG5C,CAAC,CAAC3B,MAAF,CAAS,CAAT,EAAYC,KAAZ,CAAkB,CAAlB,CAAhB;AACAoD,QAAAA,QAAQ,CAAC,CAAC,GAAGD,IAAJ,EAAS;AAAE,mBAASmB,SAAX;AAAsB,kBAASA,SAAS,CAACD;AAAzC,SAAT,CAAD,CAAR;AACC,OAJD,MAIK;AAAC3C,QAAAA,CAAC,CAAC3B,MAAF,CAAS,CAAT,EAAYoE,iBAAZ,CAA8B,SAA9B;AAAyC;AAClD,KANK,MAOD,IAAIzB,WAAW,KAAK,eAApB,EAAoC;AACrC,UAAI6B,QAAQ,GAAG7C,CAAC,CAAC3B,MAAF,CAAS,CAAT,EAAYoB,KAAZ,CAAkB8C,KAAlB,CAAwB,GAAxB,CAAf;AACA,UAAIO,OAAO,GAAGD,QAAQ,CAACA,QAAQ,CAACL,MAAT,GAAkB,CAAnB,CAAR,CAA8BD,KAA9B,CAAoC,GAApC,CAAd;AACA,UAAIQ,EAAE,GAAGD,OAAO,CAACA,OAAO,CAACN,MAAR,GAAiB,CAAlB,CAAhB;AACAd,MAAAA,QAAQ,CAAC,CAAC,GAAGD,IAAJ,EAAS;AAAC,yBAAiBsB;AAAlB,OAAT,CAAD,CAAR;AACA/C,MAAAA,CAAC,CAAC3B,MAAF,CAAS,CAAT,EAAYoB,KAAZ,GAAoB,EAApB;AACH;AACJ,GApCD;;AAqCA,QAAM9B,aAAa,GAAGhB,UAAU,CAACO,aAAD,CAAhC;AACA,QAAMU,OAAO,GAAGX,UAAU,EAA1B;AACA,QAAM+F,WAAW,GAAInG,WAAW,CAAC,MAAI;AACjCW,IAAAA,UAAU,CAACiE,IAAX,GAAkBA,IAAlB;AACAK,IAAAA,OAAO,CAACC,GAAR,CAAYvE,UAAZ;;AACA,QAAIG,aAAa,KAAKG,cAAc,CAACC,OAArC,EAA6C;AACzC,UAAIkF,UAAU,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACH,UAAxB,CAAjB;AACA,UAAII,GAAG,GAAG,IAAIC,cAAJ,EAAV;AACA,UAAIC,YAAY,GAAGL,IAAI,CAACM,SAAL,CAAehG,UAAf,CAAnB;AACA6F,MAAAA,GAAG,CAACI,IAAJ,CAAS,MAAT,EAAmB,GAAEnG,SAAS,CAACoG,MAAO,wBAAtC;;AACAL,MAAAA,GAAG,CAACM,kBAAJ,GAAyB,MAAI;AACzB,YAAIN,GAAG,CAACO,UAAJ,KAAmB,CAAnB,IAAwBP,GAAG,CAACQ,MAAJ,KAAe,GAA3C,EAA+C;AAC3C,cAAIC,QAAQ,GAAEZ,IAAI,CAACC,KAAL,CAAYE,GAAG,CAACS,QAAhB,CAAd;;AACA,kBAAQA,QAAR;AACI,iBAAK,eAAL;AACIlG,cAAAA,OAAO,CAACI,IAAR,CAAa,QAAb;AACA;;AAEJ;AACI8D,cAAAA,OAAO,CAACC,GAAR,CAAY+B,QAAZ;AANR;AAQH;AACJ,OAZD;;AAaA,UAAIC,QAAQ,GAAG,IAAIC,QAAJ,EAAf;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGzG,UAAU,CAACiE,IAAX,CAAgBe,MAApC,EAA2CyB,CAAC,EAA5C,EAAgD;AAC5C,YAAIrE,EAAE,GAAGpC,UAAU,CAACiE,IAAX,CAAgBwC,CAAhB,CAAT;;AACA,YAAIrE,EAAE,CAACsE,KAAP,EAAa;AACTH,UAAAA,QAAQ,CAACI,MAAT,CAAgBvE,EAAE,CAAC+C,IAAnB,EAA0B/C,EAAE,CAACsE,KAA7B;AACH,SAFD,MAEM,IAAGtE,EAAE,CAACwE,KAAN,EAAY;AACdL,UAAAA,QAAQ,CAACI,MAAT,CAAgBvE,EAAE,CAAC+C,IAAnB,EAA0B/C,EAAE,CAACwE,KAA7B;AACH;AACJ;;AACD,UAAI5G,UAAU,CAAC6G,gBAAf,EAAgC;AAC5BN,QAAAA,QAAQ,CAACI,MAAT,CAAgB,kBAAhB,EAAqC3G,UAAU,CAAC6G,gBAAhD;AACH;;AACDhB,MAAAA,GAAG,CAACiB,gBAAJ,CAAqB,SAArB,EAAiC3G,aAAjC;AACA0F,MAAAA,GAAG,CAACiB,gBAAJ,CAAqB,WAArB,EAAmCrB,UAAnC;AACAI,MAAAA,GAAG,CAACiB,gBAAJ,CAAqB,aAArB,EAAqCf,YAArC;AACAF,MAAAA,GAAG,CAACkB,IAAJ,CAASR,QAAT;AACH;AACJ,GAtC+B,EAsC9B,CAACtC,IAAD,CAtC8B,CAAhC;AA0CA,sBACI;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA,4BACI;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA,8BACI;AAAQ,QAAA,SAAS,EAAG,QAApB;AAA6B,QAAA,OAAO,EAAGuB,WAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAQ,QAAA,SAAS,EAAG,eAApB;AAAoC,QAAA,OAAO,EAAIpC;AAA/C;AAAA;AAAA;AAAA;AAAA,cAFJ,EAIKa,IAAI,CAAC+C,GAAL,CAAS,CAAC/E,KAAD,EAASgF,KAAT,EAAgBC,GAAhB,KAAsB;AAAC,4BAAQ,QAAC,SAAD;AAAW,UAAA,GAAG,EAAI9C,GAAG,IAAED,OAAO,CAACC,GAAD,CAA9B;AAAqC,UAAA,IAAI,EAAInC,KAA7C;AAAoD,UAAA,KAAK,EAAEgF,KAA3D;AAA+E,UAAA,GAAG,EAAGC;AAArF,WAAwED,KAAxE;AAAA;AAAA;AAAA;AAAA,gBAAR;AAAsG,OAAtI,CAJL;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAQI;AAAK,MAAA,SAAS,EAAC,YAAf;AAA4B,MAAA,GAAG,EAAI7E,EAAE,IAAE/B,GAAG,CAAC2B,OAAJ,CAAY,YAAZ,IAA0BI,EAAjE;AAAA,8BACI;AAAI,QAAA,KAAK,EAAG,QAAZ;AAAqB,QAAA,SAAS,EAAC,SAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAO,QAAA,cAAc,EAAEI,CAAC,IAAEkB,kBAAkB,CAAClB,CAAD,CAA5C;AAAiD,QAAA,IAAI,EAAC,MAAtD;AAA6D,QAAA,MAAM,MAAnE;AAAoE,QAAA,OAAO,EAAIgB,WAAW,KAAK,SAA/F;AAA2G,QAAA,IAAI,EAAC,OAAhH;AAAyH,QAAA,KAAK,EAAC,SAA/H;AAA6I,QAAA,EAAE,EAAC,SAAhJ;AAA6J,QAAA,cAAc;AAA3K;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI;AAAO,QAAA,SAAS,EAAC,UAAjB;AAA4B,QAAA,OAAO,EAAC,SAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ,eAII;AAAO,QAAA,cAAc,EAAEhB,CAAC,IAAEkB,kBAAkB,CAAClB,CAAD,CAA5C;AAAiD,QAAA,IAAI,EAAC,MAAtD;AAA6D,QAAA,MAAM,MAAnE;AAAoE,QAAA,OAAO,EAAIgB,WAAW,KAAK,WAA/F;AAA6G,QAAA,IAAI,EAAC,OAAlH;AAA2H,QAAA,KAAK,EAAC,WAAjI;AAAiJ,QAAA,EAAE,EAAC;AAApJ;AAAA;AAAA;AAAA;AAAA,cAJJ,eAKI;AAAO,QAAA,SAAS,EAAC,UAAjB;AAA4B,QAAA,OAAO,EAAC,WAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALJ,eAMI;AAAO,QAAA,cAAc,EAAEhB,CAAC,IAAEkB,kBAAkB,CAAClB,CAAD,CAA5C;AAAiD,QAAA,IAAI,EAAC,MAAtD;AAA6D,QAAA,MAAM,MAAnE;AAAoE,QAAA,OAAO,EAAIgB,WAAW,KAAK,MAA/F;AAAwG,QAAA,IAAI,EAAC,OAA7G;AAAsH,QAAA,KAAK,EAAC,MAA5H;AAAuI,QAAA,EAAE,EAAC;AAA1I;AAAA;AAAA;AAAA;AAAA,cANJ,eAOI;AAAO,QAAA,SAAS,EAAC,UAAjB;AAA4B,QAAA,OAAO,EAAC,MAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAPJ,eAQI;AAAO,QAAA,cAAc,EAAEhB,CAAC,IAAEkB,kBAAkB,CAAClB,CAAD,CAA5C;AAAiD,QAAA,IAAI,EAAC,MAAtD;AAA6D,QAAA,MAAM,MAAnE;AAAoE,QAAA,OAAO,EAAIgB,WAAW,KAAK,OAA/F;AAAyG,QAAA,IAAI,EAAC,OAA9G;AAAuH,QAAA,KAAK,EAAC,OAA7H;AAAyI,QAAA,EAAE,EAAC;AAA5I;AAAA;AAAA;AAAA;AAAA,cARJ,eASI;AAAO,QAAA,SAAS,EAAC,UAAjB;AAA4B,QAAA,OAAO,EAAC,OAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cATJ,eAUI;AAAO,QAAA,cAAc,EAAEhB,CAAC,IAAEkB,kBAAkB,CAAClB,CAAD,CAA5C;AAAiD,QAAA,IAAI,EAAC,MAAtD;AAA6D,QAAA,MAAM,MAAnE;AAAoE,QAAA,OAAO,EAAIgB,WAAW,KAAK,OAA/F;AAAyG,QAAA,IAAI,EAAC,OAA9G;AAAuH,QAAA,KAAK,EAAC,OAA7H;AAAyI,QAAA,EAAE,EAAC;AAA5I;AAAA;AAAA;AAAA;AAAA,cAVJ,eAWI;AAAO,QAAA,SAAS,EAAC,UAAjB;AAA4B,QAAA,OAAO,EAAC,OAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAXJ,eAYI;AAAO,QAAA,cAAc,EAAEhB,CAAC,IAAEkB,kBAAkB,CAAClB,CAAD,CAA5C;AAAiD,QAAA,IAAI,EAAC,MAAtD;AAA6D,QAAA,MAAM,MAAnE;AAAoE,QAAA,OAAO,EAAIgB,WAAW,KAAK,eAA/F;AAAgH,QAAA,IAAI,EAAC,OAArH;AAA8H,QAAA,KAAK,EAAC,eAApI;AAAwJ,QAAA,EAAE,EAAC;AAA3J;AAAA;AAAA;AAAA;AAAA,cAZJ,eAaI;AAAO,QAAA,SAAS,EAAC,UAAjB;AAA4B,QAAA,OAAO,EAAC,eAApC;AAAA,gCAAoD;AAAK,UAAA,GAAG,EAAE2D,WAAV;AAAuB,UAAA,KAAK,EAAI,EAAhC;AAAoC,UAAA,MAAM,EAAE,EAA5C;AAAgD,UAAA,KAAK,EAAE;AAACC,YAAAA,aAAa,EAAC;AAAf;AAAvD;AAAA;AAAA;AAAA;AAAA,gBAApD;AAAA;AAAA;AAAA;AAAA;AAAA,cAbJ;AAAA;AAAA;AAAA;AAAA;AAAA,YARJ,eA2BI;AAAM,MAAA,MAAM,EAAC,qBAAb;AAAmC,MAAA,EAAE,EAAC,YAAtC;AAAmD,MAAA,GAAG,EAAIhF,EAAE,IAAE/B,GAAG,CAAC2B,OAAJ,CAAY,YAAZ,IAA0BI,EAAxF;AAA4F,MAAA,IAAI,EAAC,IAAjG;AAAsG,MAAA,IAAI,EAAC,IAA3G;AAAiH,MAAA,QAAQ,EAAGI,CAAC,IAAEgC,WAAW,CAAChC,CAAD,CAA1I;AAAA,8BACI;AAAM,QAAA,GAAG,EAAIJ,EAAE,IAAI/B,GAAG,CAAC2B,OAAJ,CAAY,UAAZ,IAAwBI,EAA3C;AAA+C,QAAA,eAAe,EAAG,OAAjE;AAAyE,QAAA,SAAS,EAAC,UAAnF;AAAA,kBAA+FoB;AAA/F;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAK,QAAA,GAAG,EAAIpB,EAAE,IAAI/B,GAAG,CAAC2B,OAAJ,CAAY,UAAZ,IAAyBI,EAA3C;AAAgD,QAAA,SAAS,EAAC,UAA1D;AAAoE,QAAA,eAAe,EAAIW;AAAvF;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI;AAAO,QAAA,IAAI,EAAC,QAAZ;AAAqB,QAAA,SAAS,EAAC,aAA/B;AAA6C,QAAA,GAAG,EAAIX,EAAE,IAAI/B,GAAG,CAAC2B,OAAJ,CAAY,aAAZ,IAA2BI,EAArF;AAAyF,QAAA,KAAK,EAAC;AAA/F;AAAA;AAAA;AAAA;AAAA,cAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,YA3BJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAoCH,CAtMD;;IAAIU,Y;UAuHgBrD,U;;;MAvHhBqD,Y;;AAwMJ,MAAMuE,SAAS,GAAGnH,KAAK,IAAE;AACrB,MAAIyE,OAAO,GAAG2C,MAAM,CAACC,MAAM,CAACC,IAAP,CAAYtH,KAAK,CAAC0B,IAAlB,EAAwB,CAAxB,CAAD,CAApB;AACA,MAAIA,IAAJ;;AACA,MAAI+C,OAAO,KAAK,SAAhB,EAA0B;AACtB/C,IAAAA,IAAI,GAAG1B,KAAK,CAAC0B,IAAN,CAAW+C,OAAX,CAAP;AACH,GAFD,MAEM,IAAIA,OAAO,KAAK,WAAhB,EAA4B;AAC9B/C,IAAAA,IAAI,gBAAI;AAAA,gBAAK,GAAE1B,KAAK,CAAC0B,IAAN,CAAW+C,OAAX,CAAoB;AAA3B;AAAA;AAAA;AAAA;AAAA,YAAR;AACH,GAFK,MAGD,IAAIA,OAAO,KAAK,MAAhB,EAAuB;AACxB/C,IAAAA,IAAI,gBAAI;AAAA,gBACH1B,KAAK,CAAC0B,IAAN,CAAW+C,OAAX,EAAoBqC,GAApB,CAAwBS,IAAI,iBAAG;AAAA,kBAAKA;AAAL;AAAA;AAAA;AAAA;AAAA,cAA/B;AADG;AAAA;AAAA;AAAA;AAAA,YAAR;AAIH,GALI,MAKC,IAAG9C,OAAO,KAAI,OAAd,EAAsB;AACxB,QAAI+C,GAAG,GAAG1G,GAAG,CAACC,eAAJ,CAAoBf,KAAK,CAAC0B,IAAN,CAAW+C,OAAX,CAApB,CAAV;AACA/C,IAAAA,IAAI,gBAAG;AAAK,MAAA,GAAG,EAAI8F,GAAZ;AAAiB,MAAA,MAAM,EAAE,GAAzB;AAA8B,MAAA,KAAK,EAAE,GAArC;AAA2C,MAAA,KAAK,EAAE;AAACC,QAAAA,SAAS,EAAC,kCAAX;AAA+CC,QAAAA,YAAY,EAAG;AAA9D;AAAlD;AAAA;AAAA;AAAA;AAAA,YAAP;AACH,GAHK,MAGA,IAAGjD,OAAO,KAAI,OAAd,EAAsB;AACxB,QAAI+C,GAAG,GAAG1G,GAAG,CAACC,eAAJ,CAAoBf,KAAK,CAAC0B,IAAN,CAAW+C,OAAX,CAApB,CAAV;AACA/C,IAAAA,IAAI,gBAAG;AAAO,MAAA,GAAG,EAAI8F,GAAd;AAAmB,MAAA,MAAM,EAAE,GAA3B;AAAgC,MAAA,KAAK,EAAE,GAAvC;AAA4C,MAAA,QAAQ,MAApD;AAAqD,MAAA,KAAK,EAAE;AAACC,QAAAA,SAAS,EAAC,kCAAX;AAA+CC,QAAAA,YAAY,EAAG;AAA9D;AAA5D;AAAA;AAAA;AAAA;AAAA,YAAP;AACH,GAHK,MAGA,IAAGjD,OAAO,KAAK,eAAf,EAA+B;AACjC/C,IAAAA,IAAI,gBAAI;AAAQ,MAAA,KAAK,EAAC,KAAd;AAAoB,MAAA,MAAM,EAAC,KAA3B;AAAiC,MAAA,GAAG,EAAG,iCAAgC1B,KAAK,CAAC0B,IAAN,CAAW+C,OAAX,CAAoB,EAA3F;AACR,MAAA,KAAK,EAAC,sBADE;AACqB,MAAA,WAAW,EAAC,GADjC;AACqC,MAAA,KAAK,EAAE;AAACgD,QAAAA,SAAS,EAAC,kCAAX;AAA+CC,QAAAA,YAAY,EAAG;AAA9D,OAD5C;AAER,MAAA,KAAK,EAAC,0FAFE;AAGR,MAAA,eAAe;AAHP;AAAA;AAAA;AAAA;AAAA,YAAR;AAIH;;AACD,sBACI;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA,4BACI;AAAA,gBAAM,GAAEjD,OAAQ;AAAhB;AAAA;AAAA;AAAA;AAAA,YADJ,eAEA;AAAM,MAAA,OAAO,EAAE,MAAIzE,KAAK,CAAC2H,GAAN,CAAU3H,KAAK,CAAC+G,KAAhB,CAAnB;AAA2C,MAAA,KAAK,EAAI;AAACa,QAAAA,QAAQ,EAAC,KAAV;AAAiBC,QAAAA,SAAS,EAAC,QAA3B;AAAsCC,QAAAA,WAAW,EAAE;AAAnD,OAApD;AAAA,6BAAkH;AAAK,QAAA,GAAG,EAAEC,OAAV;AAAmB,QAAA,KAAK,EAAI,EAA5B;AAAgC,QAAA,MAAM,EAAG;AAAzC;AAAA;AAAA;AAAA;AAAA;AAAlH;AAAA;AAAA;AAAA;AAAA,YAFA,eAGI;AAAM,MAAA,SAAS,EAAC,gBAAhB;AAAA,gBAAkCrG;AAAlC;AAAA;AAAA;AAAA;AAAA,YAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAOH,CAhCD;;MAAMyF,S","sourcesContent":["import React ,{useEffect ,useContext , useState, useCallback, useMemo, useRef} from 'react'\r\nimport { Redirect ,useHistory } from 'react-router'\r\nimport { Login_context } from '../App'\r\nimport './statics/css/appUploadBlog.css'\r\nimport $, { event } from \"jquery\"\r\nimport domtoimage from 'dom-to-image'\r\nimport preview_image from './statics/images/preview.svg'\r\nimport editor_image from './statics/images/editor.svg'\r\nimport youtubeLogo from './statics/images/youtubeLogo.svg'\r\nimport popComp from './statics/images/popComp.svg'\r\nimport appConfig from './statics/appConfig.json'\r\n\r\nvar new_image_file\r\nvar final_data = {}\r\n\r\nvar AppUploadBlog = props=>{\r\n    var login_context  = useContext(Login_context)\r\n    const history  = useHistory()\r\n    const ref = useRef({})\r\n    useEffect(()=>{\r\n        if (login_context !== sessionStorage.session){\r\n            history.push('/Login')\r\n            return null\r\n        }        \r\n    },[])\r\n\r\n    const [upload_blog_state , set_upload_blog_state] = useState('blog')\r\n\r\n\r\n    const change_image = useCallback(event=>{\r\n        let image_file = event.target.files[0]\r\n        \r\n        let image_url = URL.createObjectURL(image_file)\r\n        let image_span = $('#image_span')\r\n        image_span.css({\r\n            'backgroundImage':`url(${image_url})`,\r\n            backgroundSize:'contain',\r\n            backgroundPosition : 'center',\r\n            backdropFilter:'blur(3px)',\r\n            'borderRadius':'20px',\r\n           \r\n        })\r\n        let target = $('#label_image')\r\n        target.css({'backgroundImage': `url(${image_url})`,\r\n           'borderRadius':'20px',\r\n           'backgroundSize' :'cover',\r\n           \"boxShadow\": \"0px 1px 7px 3px #1976d2\"\r\n        })\r\n\r\n        image_span = document.getElementById(\"label_image\")\r\n\r\n        domtoimage.toBlob(image_span ,{quality:1}).then(data=>{\r\n            final_data['blog_title_image'] = data\r\n        })\r\n    \r\n    },[])\r\n\r\n\r\n    const forward_to_editor = useCallback((event)=>{\r\n        event.preventDefault()\r\n        final_data.title = ref.current['blog_title'].value\r\n        final_data.discription = ref.current['blog_discription'].value\r\n        set_upload_blog_state('blog_editor')\r\n    })\r\n    \r\n    const blog_info = useMemo(()=>(\r\n        <form className=\"blog_info\" action='javascript:void(0);' onSubmit = {event=>forward_to_editor(event)}>\r\n            <div className=\"blog_info_child\">\r\n            <h1 align = \"center\">Blog Information </h1>\r\n            <label htmlFor=\"blog_title\" id = \"label_title\">Title</label>\r\n            <input type=\"text\" autoFocus placeholder = \"Title\" autoComplete=\"off\" spellCheck=\"true\" autoCapitalize=\"words\"  id = \"blog_title\" maxLength={100} ref= {el =>ref.current['blog_title']=el} required />\r\n\r\n            <label htmlFor=\"blog_discription\" id = \"label_discription\">Discription</label>\r\n            <textarea type=\"text\" autoComplete=\"off\" spellCheck=\"true\" autoCapitalize=\"sentences\" id=\"blog_discription\" placeholder=\"Discription\" maxLength={200} ref= {el =>ref.current['blog_discription']=el} />\r\n\r\n            <label htmlFor=\"blog_image\" id = \"label_image\" ><span id = \"image_span\"></span></label>\r\n            <input type=\"file\" id = \"blog_image\" accept=\"image/*\" onChange={change_image} hidden />\r\n\r\n            <input type=\"submit\"  value=\"Next\" id = \"submit\" />\r\n            </div>\r\n\r\n        </form>\r\n    ),[upload_blog_state, change_image,forward_to_editor])\r\n\r\n    const [editor_state,set_editor_state] = useState('editor')\r\n\r\n    let set_to_editor= e=>{\r\n        set_editor_state(e.target.value)\r\n    }\r\n\r\n    const blog_editor = (\r\n        <div className=\"editor\">\r\n            <Editor_tabs change_state = {set_to_editor} />\r\n            {editor_state ===\"editor\"?<Editing_pane />:null}\r\n            {editor_state === \"preview\"?null:null}\r\n        </div>\r\n    )\r\n    return(\r\n        <div className=\"blog_upload_page\">\r\n            {upload_blog_state == 'blog'? blog_info : null}\r\n            {upload_blog_state == 'blog_editor'?blog_editor:null}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default  AppUploadBlog;\r\n\r\n\r\nvar Editor_tabs= props =>{\r\n    return(\r\n        <div className=\"tabs\">\r\n            <input type=\"radio\" name=\"tabs\" id=\"editer_radio\" value={\"editor\"} onInput= {(e)=>props.change_state(e)} hidden  defaultChecked/>\r\n            <label htmlFor=\"editer_radio\" id = \"label_editor\" ><img src = {editor_image}  className = \"label_ico\" />Editor</label>\r\n            <input type=\"radio\" name=\"tabs\" id=\"preview_radio\" value= \"preview\" onInput= {(e)=>props.change_state(e)} hidden />\r\n            <label htmlFor= \"preview_radio\" id = \"label_preview\" ><img src = {preview_image}  className = \"label_ico\" />Preview</label>\r\n        </div>\r\n        )\r\n}\r\n\r\nvar Editing_pane = props =>{\r\n    const ref = useRef({})\r\n    const [edit_state , set_edit_state ] = useState(true)\r\n\r\n    const mq = window.matchMedia(\"(max-width : 767px)\") \r\n\r\n    const switch_comp = useCallback(()=>{\r\n        let display = ref.current['components'].style.display\r\n        if (mq.matches){\r\n            if (display === \"none\" || display === \"\"){\r\n                ref.current['components'].style.display = \"flex\"\r\n            }else{\r\n                ref.current['components'].style.display = \"\"\r\n            }\r\n        }else{\r\n            ref.current['components'].style.display = \"flex\"\r\n        }\r\n\r\n    },[mq])\r\n\r\n    const [input_state , set_input_state] = useState(\"Heading\")\r\n\r\n    function change_input_state(event){\r\n        set_input_state(event.target.value)\r\n        ref.current['maintext'].focus()\r\n    }\r\n\r\n    useEffect(()=>{\r\n        ref.current['maintext'].innerHTML = \"\"\r\n        if (input_state === \"Photo\" || input_state === \"Video\"||input_state === \"Youtube Video\" ){\r\n            set_edit_state(false)\r\n            ref.current['maintext'].classList.remove(\"bullet_list\")\r\n\r\n        }else if(input_state === \"List\"){\r\n            set_edit_state(true)\r\n            ref.current['maintext'].classList.add(\"bullet_list\")\r\n        }        \r\n        else{\r\n            set_edit_state(true)\r\n        ref.current['maintext'].classList.remove(\"bullet_list\")\r\n        }\r\n\r\n        let widget ;\r\n\r\n\r\n        switch (input_state) {\r\n            case \"Video\":\r\n                widget = (`<input type= \"file\" accept =\"video/*\" id = \"videofile\" hidden  />\r\n                           <label  for = \"videofile\">Video</label> `)\r\n                set_edit_state(false)\r\n                break;\r\n            case \"Photo\":\r\n                widget = (`<input type= \"file\" accept =\"image/*\" id = \"photofile\" hidden  />\r\n                           <label  for = \"photofile\">Photo</label> `)\r\n                set_edit_state(false)\r\n                break;\r\n            case \"Youtube Video\":\r\n                widget = (` <label  for = \"videolink\" style = \"border:none;padding:0;\">video Link</label> \r\n                            <input style = \"height:20px;max-width: calc(100% - 10px);                        margin: 0;\r\n                            place-self: center;\r\n                            padding: 0;\"  type= \"url\" id = \"videolink\"  />`)\r\n                set_edit_state(false)\r\n                break;        \r\n            default:\r\n                widget=\"\"\r\n                    set_edit_state(true)\r\n                    break;\r\n        }\r\n        ref.current['maintext'].innerHTML = widget\r\n\r\n    }, [input_state])\r\n\r\n    const [blog , set_blog] = useState([])\r\n\r\n    const delblog=(ind)=>{\r\n        let tempblog = blog\r\n        delete tempblog[ind]\r\n        set_blog(tempblog)\r\n        console.log(tempblog)\r\n    }\r\n\r\n    const data_submit = e=>{\r\n        e.preventDefault()\r\n        e.nativeEvent.stopImmediatePropagation();\r\n        if (input_state === \"Heading\"){\r\n            let heading = ref.current['maintext'].innerText\r\n            set_blog([...blog,{\"Heading\" : heading}])\r\n            ref.current['maintext'].innerText = \"\"\r\n        }else if (input_state === \"Paragraph\"){\r\n            let para = ref.current['maintext'].innerText\r\n            set_blog([...blog,{\"Paragraph\" : para}])\r\n            ref.current['maintext'].innerText = \"\"\r\n        }else if (input_state === \"List\"){\r\n            let list = ref.current['maintext'].innerText\r\n            list = list.split(\"\\n\")\r\n            set_blog([...blog,{\"List\":list}])\r\n            ref.current['maintext'].innerText = \"\"\r\n        }else if (input_state === \"Photo\"){\r\n            if (e.target[0].files.length !==0){\r\n                e.target[0].setCustomValidity('')\r\n            let photofile = e.target[0].files[0]\r\n            set_blog([...blog,{ \"Photo\": photofile , \"name\" : photofile.name}])\r\n            }else{e.target[0].setCustomValidity(\"Empty!!\")}\r\n        }else if  (input_state === \"Video\" ){\r\n            if (e.target[0].files.length !== 0){\r\n                e.target[0].setCustomValidity('')\r\n            let videofile = e.target[0].files[0]\r\n            set_blog([...blog,{ \"Video\": videofile, \"name\" : videofile.name}])\r\n            }else{e.target[0].setCustomValidity(\"Empty!!\")}\r\n        }\r\n        else if (input_state === \"Youtube Video\"){\r\n            let pathList = e.target[0].value.split('/')\r\n            let temp_id = pathList[pathList.length - 1].split(\"=\")\r\n            let id = temp_id[temp_id.length - 1]\r\n            set_blog([...blog,{\"Youtube Video\": id}])\r\n            e.target[0].value = \"\"\r\n        }\r\n    }\r\n    const login_context = useContext(Login_context)\r\n    const history = useHistory()\r\n    const submit_data  = useCallback(()=>{\r\n        final_data.blog = blog\r\n        console.log(final_data)\r\n        if (login_context === sessionStorage.session){\r\n            let login_data = JSON.parse(localStorage.login_data)\r\n            let xhr = new XMLHttpRequest()\r\n            let blog_details = JSON.stringify(final_data)\r\n            xhr.open(\"POST\" , `${appConfig.origin}backend_api/uploadBlog`)\r\n            xhr.onreadystatechange = ()=>{\r\n                if (xhr.readyState === 4 && xhr.status === 200){\r\n                    let response =JSON.parse( xhr.response)\r\n                    switch (response) {\r\n                        case \"loginRequired\":\r\n                            history.push('/Login')\r\n                            break;\r\n                    \r\n                        default:\r\n                            console.log(response);\r\n                    }\r\n                }\r\n            }\r\n            let formdata = new FormData()\r\n            for (var i = 0; i < final_data.blog.length;i++ ){\r\n                let el = final_data.blog[i]\r\n                if (el.Photo){\r\n                    formdata.append(el.name , el.Photo)\r\n                }else if(el.Video){\r\n                    formdata.append(el.name , el.Video)\r\n                }\r\n            }\r\n            if (final_data.blog_title_image){\r\n                formdata.append('blog_title_image' , final_data.blog_title_image)\r\n            }\r\n            xhr.setRequestHeader(\"session\" , login_context)\r\n            xhr.setRequestHeader(\"logindata\" , login_data)\r\n            xhr.setRequestHeader(\"blogDetails\" , blog_details)\r\n            xhr.send(formdata)\r\n        }\r\n    },[blog])\r\n    \r\n\r\n\r\n    return (\r\n        <div className=\"editing_pane\">\r\n            <div className=\"editing\">\r\n                <button className = \"upload\" onClick ={submit_data}  >Upload</button>\r\n                <button className = \"addComponents\" onClick = {switch_comp} ></button>\r\n\r\n                {blog.map((value , index, arr)=>{return (<Blog_part pop = {ind=>delblog(ind)} data = {value} index={index} key= {index} arr= {arr} />)})}\r\n\r\n            </div>\r\n            <div className=\"components\" ref = {el=>ref.current['components']=el}>\r\n                <h6 align = \"center\" className=\"heading\">Components</h6>\r\n                <input onClickCapture={e=>change_input_state(e)} name=\"comp\" hidden checked = {input_state === \"Heading\" } type=\"radio\"  value=\"Heading\"     id=\"Heading\"    defaultChecked/>\r\n                <label className=\"complist\" htmlFor=\"Heading\">Heading</label>\r\n                <input onClickCapture={e=>change_input_state(e)} name=\"comp\" hidden checked = {input_state === \"Paragraph\" } type=\"radio\"  value=\"Paragraph\"     id=\"Paragraph\"    />\r\n                <label className=\"complist\" htmlFor=\"Paragraph\">Paragraph</label>\r\n                <input onClickCapture={e=>change_input_state(e)} name=\"comp\" hidden checked = {input_state === \"List\" } type=\"radio\"  value=\"List\"     id=\"List\"    />\r\n                <label className=\"complist\" htmlFor=\"List\">List</label>\r\n                <input onClickCapture={e=>change_input_state(e)} name=\"comp\" hidden checked = {input_state === \"Photo\" } type=\"radio\"  value=\"Photo\"     id=\"Photo\"    />\r\n                <label className=\"complist\" htmlFor=\"Photo\">Photo</label>\r\n                <input onClickCapture={e=>change_input_state(e)} name=\"comp\" hidden checked = {input_state === \"Video\" } type=\"radio\"  value=\"Video\"     id=\"Video\"    />\r\n                <label className=\"complist\" htmlFor=\"Video\">Video</label>\r\n                <input onClickCapture={e=>change_input_state(e)} name=\"comp\" hidden checked = {input_state === \"Youtube Video\"} type=\"radio\"  value=\"Youtube Video\"     id=\"Youtube Video\"    />\r\n                <label className=\"complist\" htmlFor=\"Youtube Video\"><img src={youtubeLogo} width = {30} height={30} style={{verticalAlign:\"middle\"}} /> Video Link</label>\r\n\r\n\r\n\r\n            </div>\r\n\r\n            <form action=\"javascript:void(0);\" id=\"text_input\" ref = {el=>ref.current[\"text_input\"]=el} cols=\"30\" rows=\"10\"  onSubmit= {e=>data_submit(e)} >\r\n                <span ref = {el => ref.current['comp_tag']=el} contentEditable = \"false\" className=\"comp_tag\">{input_state}</span>\r\n                <div ref = {el => ref.current['maintext']= el}  className=\"maintext\"contentEditable = {edit_state}></div>\r\n                <input type=\"submit\" className=\"insert_comp\" ref = {el => ref.current['insert_comp']=el} value=\"\" />\r\n            </form >\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Blog_part = props=>{\r\n    let heading = String(Object.keys(props.data)[0])\r\n    let data\r\n    if (heading === \"Heading\"){\r\n        data = props.data[heading]\r\n    }else if (heading === \"Paragraph\"){\r\n        data = (<p>{`${props.data[heading]}`}</p>)\r\n    }\r\n    else if (heading === \"List\"){\r\n        data = (<ul>\r\n            {props.data[heading].map(item=>(<li>{item}</li>))}\r\n            </ul>\r\n            )\r\n    }else if(heading ===\"Photo\"){\r\n        let url = URL.createObjectURL(props.data[heading])\r\n        data =(<img src = {url} height={200} width={400}  style={{boxShadow:\"rgb(0 0 0 / 20%) 0px 0px 5px 3px\", borderRadius : \"5px\"}} />)\r\n    }else if(heading ===\"Video\"){\r\n        let url = URL.createObjectURL(props.data[heading])\r\n        data =(<video src = {url} height={200} width={400} controls style={{boxShadow:\"rgb(0 0 0 / 20%) 0px 0px 5px 3px\", borderRadius : \"5px\"}} />)\r\n    }else if(heading === \"Youtube Video\"){\r\n        data = (<iframe width=\"400\" height=\"200\" src={`https://www.youtube.com/embed/${props.data[heading]}`}\r\n        title=\"YouTube video player\" frameborder=\"0\" style={{boxShadow:\"rgb(0 0 0 / 20%) 0px 0px 5px 3px\", borderRadius : \"5px\"}}\r\n        allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" \r\n        allowfullscreen></iframe>)\r\n    }\r\n    return (\r\n        <div className=\"container_part\">\r\n            <h5>{`${heading}`}</h5>\r\n        <span onClick={()=>props.pop(props.index)} style = {{gridArea:\"img\", alignSelf:'center' , justifySelf :'center'}}><img src={popComp} width = {20} height= {20}  /></span>\r\n            <span className=\"container_data\">{data}</span>\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}