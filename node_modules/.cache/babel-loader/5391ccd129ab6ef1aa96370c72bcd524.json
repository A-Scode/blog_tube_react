{"ast":null,"code":"var _jsxFileName = \"D:\\\\Python files\\\\Start Django\\\\blog_tube\\\\frontend\\\\blog_tube\\\\src\\\\componenets\\\\appUploadBlog.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$();\n\nimport React, { useEffect, useContext, useState, useCallback, useMemo, useRef, useLayoutEffect } from 'react';\nimport { useHistory, useRouteMatch } from 'react-router';\nimport { CacheSwitch as Switch, CacheRoute as Route } from 'react-router-cache-route';\nimport { Login_context } from '../App';\nimport './statics/css/appUploadBlog.css';\nimport $ from \"jquery\";\nimport preview_image from \"./statics/images/preview.svg\";\nimport editor_image from \"./statics/images/editor.svg\";\nimport youtubeLogo from \"./statics/images/youtubeLogo.svg\";\nimport insta_logo from \"./statics/images/instagram.svg\";\nimport twitter_logo from \"./statics/images/twitter.svg\";\nimport popComp from \"./statics/images/popComp.svg\";\nimport appConfig from './statics/appConfig.json';\nimport { logout } from './statics/utils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar final_data = {};\n\nvar AppUploadBlog = props => {\n  _s();\n\n  var login_context = useContext(Login_context);\n  const history = useHistory();\n  const ref = useRef({});\n  const [upload_blog_state, set_upload_blog_state] = useState('blog');\n  const change_image = useCallback(event => {\n    let target = $('#label_image');\n\n    if (event.target.files != []) {\n      let image_file = event.target.files[0];\n      let image_url = URL.createObjectURL(image_file);\n      let image_span = $('#image_span');\n      image_span.css({\n        'backgroundImage': `url(${image_url})`,\n        backgroundSize: 'contain',\n        backgroundPosition: 'center',\n        backdropFilter: 'blur(3px)',\n        'borderRadius': '20px'\n      });\n      target.css({\n        'backgroundImage': `url(${image_url})`\n      });\n      final_data['blog_title_image'] = image_file;\n    } else target.css({\n      'borderRadius': '20px',\n      'backgroundSize': 'cover',\n      \"boxShadow\": \"0px 1px 7px 3px #1976d2\"\n    });\n  }, []);\n  const forward_to_editor = useCallback(event => {\n    event.preventDefault();\n    final_data.title = ref.current['blog_title'].value;\n    final_data.discription = ref.current['blog_discription'].value;\n    set_upload_blog_state('blog_editor');\n    history.push(\"/UploadBlog/editor\");\n  });\n  const blog_info = useMemo(() => /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"blog_info\",\n    action: \"javascript:void(0);\",\n    onSubmit: event => forward_to_editor(event),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"blog_info_child\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        align: \"center\",\n        children: \"Blog Information \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"blog_title\",\n        id: \"label_title\",\n        children: \"Title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        autoFocus: true,\n        placeholder: \"Title\",\n        autoComplete: \"off\",\n        spellCheck: \"true\",\n        autoCapitalize: \"words\",\n        id: \"blog_title\",\n        maxLength: 100,\n        ref: el => ref.current['blog_title'] = el,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"blog_discription\",\n        id: \"label_discription\",\n        children: \"Discription\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        type: \"text\",\n        autoComplete: \"off\",\n        spellCheck: \"true\",\n        autoCapitalize: \"sentences\",\n        id: \"blog_discription\",\n        placeholder: \"Discription\",\n        maxLength: 200,\n        ref: el => ref.current['blog_discription'] = el\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        id: \"span_label\",\n        style: {\n          gridArea: \"image\",\n          alignSelf: \"center\",\n          justifySelf: \"center\",\n          display: \"grid\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"blog_image\",\n          id: \"label_image\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            id: \"image_span\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 168\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 120\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        id: \"blog_image\",\n        accept: \"image/*\",\n        onChange: change_image,\n        hidden: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"Next\",\n        id: \"submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 9\n  }, this), [upload_blog_state, change_image, forward_to_editor]);\n  const [editor_state, set_editor_state] = useState('editor');\n\n  let set_to_editor = e => {\n    set_editor_state(e.target.value);\n  };\n\n  useEffect(() => {\n    if (editor_state === \"editor\") {\n      history.push(\"/UploadBlog/editor\");\n      set_editor_state(\"editor\");\n    } else if (editor_state === \"preview\") {\n      history.push(\"/UploadBlog/preview\");\n      set_editor_state(\"preview\");\n    }\n  }, [editor_state]);\n  const [blog, set_blog] = useState([]);\n  const set_myblog = useCallback(data => set_blog(data));\n  const blog_editor = useMemo(() => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"editor\",\n    children: [/*#__PURE__*/_jsxDEV(Editor_tabs, {\n      change_state: set_to_editor,\n      editor_state: editor_state\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Switch, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/UploadBlog/editor\",\n        children: /*#__PURE__*/_jsxDEV(Editing_pane, {\n          appbodyloading: state => props.appbodyloading(state),\n          blog: set_myblog\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/UploadBlog/preview\",\n        children: /*#__PURE__*/_jsxDEV(Preview_tab, {\n          list: blog,\n          appbodyloading: state => props.appbodyloading(state)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 9\n  }, this));\n  useEffect(() => {\n    final_data['blog_title_image'] = \"\";\n\n    if (!Boolean(login_context) || !Boolean(sessionStorage.session)) {\n      history.push('/Login');\n      return null;\n    }\n  }, [login_context, sessionStorage]);\n  useEffect(() => {\n    window.onbeforeunload = e => {\n      console.log(e);\n      return \"Changes will not be saved!!!\";\n    };\n\n    return () => window.onbeforeunload = e => null;\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"blog_upload_page\",\n    children: [upload_blog_state === 'blog' ? blog_info : null, upload_blog_state === 'blog_editor' ? blog_editor : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AppUploadBlog, \"jvOcPd9JXBGY3VZYDDwG3rf3tbc=\", false, function () {\n  return [useHistory];\n});\n\n_c = AppUploadBlog;\nexport default AppUploadBlog;\n\nvar Preview_tab = props => {\n  _s2();\n\n  const history = useHistory();\n  const [data_list, set_data_list] = useState([]);\n  var context = useContext(Login_context);\n  useEffect(() => {\n    if (props.list && sessionStorage.session === context && Boolean(sessionStorage.session) && Boolean(context)) {\n      console.log(props.list);\n      props.appbodyloading('flex');\n      let xhr = new XMLHttpRequest();\n      xhr.open(\"POST\", appConfig.origin + \"backend_api/blogPreview\");\n\n      xhr.onreadystatechange = () => {\n        if (xhr.readyState === 4 && xhr.status === 200) {\n          let response = JSON.parse(xhr.response);\n\n          switch (response.status) {\n            case \"success\":\n              set_data_list(response.hydratedBlog);\n              console.log(\"data_list:\", data_list);\n              props.appbodyloading('none');\n              break;\n\n            case \"loginRequired\":\n              history.push(\"/Login\");\n              console.log(\"backend_api/blogPreview\", response);\n              logout();\n              props.appbodyloading('none');\n              break;\n\n            default:\n              console.log(response.status);\n              props.appbodyloading('none');\n              break;\n          }\n        }\n      };\n\n      xhr.setRequestHeader(\"session\", context);\n      xhr.setRequestHeader(\"contentType\", \"application/json;charset=utf-8\");\n      let formdata = new FormData();\n      formdata.append('blog', JSON.stringify(props.list));\n      xhr.send(formdata);\n    }\n  }, [props.list, context]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"showpreview\",\n    children: /*#__PURE__*/_jsxDEV(Blog, {\n      children: data_list.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container_data\",\n        dangerouslySetInnerHTML: {\n          __html: item\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 39\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 177,\n    columnNumber: 9\n  }, this);\n};\n\n_s2(Preview_tab, \"SbcFgYrqQCnO2uG0bmguzPa0xh8=\", false, function () {\n  return [useHistory];\n});\n\n_c2 = Preview_tab;\n\nconst Blog = props => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"blog_preview\",\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 186,\n    columnNumber: 12\n  }, this);\n};\n\n_c3 = Blog;\nexport { Blog };\n\nvar Editor_tabs = props => {\n  _s3();\n\n  const ref = useRef({});\n  useEffect(() => {\n    ref.current[props.editor_state].click();\n  }, [props.editor_state]);\n  const {\n    path,\n    url\n  } = useRouteMatch();\n  useEffect(() => {\n    if (path === \"/UploadBlog/editor\") {\n      props.change_state(\"editor\");\n    } else if (path === \"/UploadBlog/preview\") {\n      props.change_state(\"preview\");\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"tabs\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      ref: el => ref.current['editor'] = el,\n      type: \"radio\",\n      name: \"tabs\",\n      id: \"editer_radio\",\n      value: \"editor\",\n      onInput: e => props.change_state(e),\n      hidden: true,\n      defaultChecked: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"editer_radio\",\n      id: \"label_editor\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: editor_image,\n        className: \"label_ico\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 64\n      }, this), \"Editor\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      ref: el => ref.current['preview'] = el,\n      type: \"radio\",\n      name: \"tabs\",\n      id: \"preview_radio\",\n      value: \"preview\",\n      onInput: e => props.change_state(e),\n      hidden: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"preview_radio\",\n      id: \"label_preview\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: preview_image,\n        className: \"label_ico\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 67\n      }, this), \"Preview\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 209,\n    columnNumber: 9\n  }, this);\n};\n\n_s3(Editor_tabs, \"ZU1g5ZXXgtmU++wQQX1fQ6wmRZM=\", false, function () {\n  return [useRouteMatch];\n});\n\n_c4 = Editor_tabs;\n\nvar Editing_pane = props => {\n  _s4();\n\n  const ref = useRef({});\n  const [edit_state, set_edit_state] = useState(true);\n  const mq = window.matchMedia(\"(max-width : 767px)\");\n  const switch_comp = useCallback(() => {\n    let display = ref.current['components'].style.display;\n\n    if (mq.matches) {\n      if (display === \"none\" || display === \"\") {\n        ref.current['components'].style.display = \"flex\";\n      } else {\n        ref.current['components'].style.display = \"\";\n      }\n    } else {\n      ref.current['components'].style.display = \"flex\";\n    }\n  }, [mq]);\n  const [input_state, set_input_state] = useState(\"Heading\");\n\n  function change_input_state(event) {\n    set_input_state(event.target.value);\n    ref.current['maintext'].focus();\n  }\n\n  useEffect(() => {\n    ref.current['maintext'].innerHTML = \"\";\n\n    if (input_state === \"Photo\" || input_state === \"Video\" || input_state === \"Youtube Video\") {\n      set_edit_state(false);\n      ref.current['maintext'].classList.remove(\"bullet_list\");\n    } else if (input_state === \"List\") {\n      set_edit_state(true);\n      ref.current['maintext'].classList.add(\"bullet_list\");\n    } else {\n      set_edit_state(true);\n      ref.current['maintext'].classList.remove(\"bullet_list\");\n    }\n\n    let widget;\n\n    switch (input_state) {\n      case \"Video\":\n        widget = `<input type= \"file\" accept =\"video/*\" id = \"videofile\" hidden  required />\n                           <label  for = \"videofile\">Video</label> `;\n        set_edit_state(false);\n        break;\n\n      case \"Photo\":\n        widget = `<input type= \"file\" accept =\"image/*\" id = \"photofile\" hidden required />\n                           <label  for = \"photofile\">Photo</label> `;\n        set_edit_state(false);\n        break;\n\n      case \"Youtube Video\":\n        widget = ` <label  for = \"videolink\" style = \"border:none;padding:0;\">video Link</label> \n                            <input  style=\"    height: 20px;\n                            width: 90%;\n                            margin: 0;\n                            place-self: center;\n                            padding: 0;\n                            border-color: blueviolet;\n                            border-radius: 5px\"  type= \"url\" id = \"videolink\" required  />`;\n        set_edit_state(false);\n        break;\n\n      case \"Instagram Post\":\n        widget = ` <label  for = \"instalink\" style = \"border:none;padding:0;\">Post Link</label> \n                <input  style=\"    height: 20px;\n                width: 90%;\n                margin: 0;\n                place-self: center;\n                padding: 0;\n                border-color: blueviolet;\n                border-radius: 5px\"  type= \"url\" id = \"instalink\" required  />`;\n        set_edit_state(false);\n        break;\n\n      case \"Tweet\":\n        widget = ` <label  for = \"tweetlink\" style = \"border:none;padding:0;\">Post Link</label> \n                <input  style=\"    height: 20px;\n                width: 90%;\n                margin: 0;\n                place-self: center;\n                padding: 0;\n                border-color: blueviolet;\n                border-radius: 5px\"  type= \"url\" id = \"tweetlink\" required  />`;\n        set_edit_state(false);\n        break;\n\n      default:\n        widget = \"\";\n        set_edit_state(true);\n        break;\n    }\n\n    ref.current['maintext'].innerHTML = widget;\n  }, [input_state]);\n  const [blog, set_blog] = useState([]);\n  useEffect(() => props.blog([]), []);\n\n  const data_submit = e => {\n    e.preventDefault();\n    e.nativeEvent.stopImmediatePropagation();\n\n    if (input_state === \"Heading\") {\n      let heading = ref.current['maintext'].innerText;\n      set_blog([...blog, {\n        \"Heading\": heading\n      }]);\n      props.blog([...blog, {\n        \"Heading\": heading\n      }]);\n      ref.current['maintext'].innerText = \"\";\n    } else if (input_state === \"Paragraph\") {\n      let para = ref.current['maintext'].innerText;\n      set_blog([...blog, {\n        \"Paragraph\": para\n      }]);\n      props.blog([...blog, {\n        \"Paragraph\": para\n      }]);\n      ref.current['maintext'].innerText = \"\";\n    } else if (input_state === \"List\") {\n      let list = ref.current['maintext'].innerText;\n      list = list.split(\"\\n\").filter(i => i ? i : null);\n      set_blog([...blog, {\n        \"List\": list\n      }]);\n      props.blog([...blog, {\n        \"List\": list\n      }]);\n      ref.current['maintext'].innerText = \"\";\n    } else if (input_state === \"Photo\") {\n      let photofile = e.target[0].files[0];\n\n      if (photofile.size >= 10485760) {\n        alert(\"**File size must be under 10MB**\");\n        e.target[0].setCustomValidity(\"Choose another Photo\");\n        e.target[0].files.value = \"\";\n      } else {\n        set_blog([...blog, {\n          \"Photo\": photofile,\n          \"name\": photofile.name\n        }]);\n        props.blog([...blog, {\n          \"Photo\": photofile,\n          \"name\": photofile.name\n        }]);\n      }\n    } else if (input_state === \"Video\") {\n      let videofile = e.target[0].files[0];\n\n      if (videofile.size >= 10485760) {\n        alert(\"**File size must be under 10MB**\");\n        e.target[0].setCustomValidity(\"Choose another Video\");\n        e.target[0].files.value = \"\";\n      } else {\n        set_blog([...blog, {\n          \"Video\": videofile,\n          \"name\": videofile.name\n        }]);\n        props.blog([...blog, {\n          \"Video\": videofile,\n          \"name\": videofile.name\n        }]);\n      }\n    } else if (input_state === \"Youtube Video\") {\n      let url = e.target[0].value.split(\"?\")[0];\n      let pathList = url.split('/').filter(a => a ? a : null);\n      let temp_id = pathList[pathList.length - 1].split(\"=\");\n      let id = temp_id[temp_id.length - 1];\n      set_blog([...blog, {\n        \"Youtube Video\": id\n      }]);\n      props.blog([...blog, {\n        \"Youtube Video\": id\n      }]);\n      e.target[0].value = \"\";\n    } else if (input_state === \"Instagram Post\") {\n      let url = e.target[0].value.split(\"?\")[0];\n      let pathList = url.split('/').filter(a => a ? a : null);\n      let id = pathList[pathList.length - 1];\n      set_blog([...blog, {\n        \"Instagram Post\": id\n      }]);\n      props.blog([...blog, {\n        \"Instagram Post\": id\n      }]);\n      e.target[0].value = \"\";\n    } else if (input_state === \"Tweet\") {\n      let url = e.target[0].value.split(\"?\")[0];\n      set_blog([...blog, {\n        \"Tweet\": url\n      }]);\n      props.blog([...blog, {\n        \"Tweet\": url\n      }]);\n      e.target[0].value = \"\";\n    }\n\n    final_data.blog = blog;\n  };\n\n  var login_context = useContext(Login_context);\n  const history = useHistory();\n  const submit_data = useCallback(() => {\n    final_data.blog = blog;\n    console.log(final_data);\n    props.appbodyloading('flex');\n\n    if (login_context === sessionStorage.session && (Boolean(sessionStorage.session) || Boolean(login_context))) {\n      let login_data = JSON.parse(sessionStorage.login_data);\n      let xhr = new XMLHttpRequest();\n      let blog_details = JSON.stringify(final_data);\n      xhr.open(\"POST\", `${appConfig.origin}backend_api/uploadBlog`);\n\n      xhr.onreadystatechange = () => {\n        if (xhr.readyState === 4 && xhr.status === 200) {\n          let response = JSON.parse(xhr.response);\n\n          switch (response.status) {\n            case \"loginRequired\":\n              history.push('/Login');\n              props.appbodyloading('none');\n              break;\n\n            case \"fail\":\n              history.push('/Error');\n              props.appbodyloading('none');\n              break;\n\n            case \"success\":\n              history.push('/Home');\n              props.appbodyloading('none');\n              break;\n\n            default:\n              console.log(response.status);\n          }\n        }\n      };\n\n      xhr.onerror = () => {\n        alert(\"Connection Too Slow!!! /n or Try less video and photos /n Hint:Use Youtube for videos!!\");\n        props.appbodyloading('none');\n      };\n\n      let formdata = new FormData();\n\n      for (var i = 0; i < final_data.blog.length; i++) {\n        let el = final_data.blog[i];\n\n        if (el.Photo) {\n          formdata.append(el.name, el.Photo);\n        } else if (el.Video) {\n          formdata.append(el.name, el.Video);\n        }\n      }\n\n      if (final_data.blog_title_image) {\n        formdata.append('blog_title_image', final_data.blog_title_image);\n      }\n\n      xhr.setRequestHeader(\"session\", login_context);\n      xhr.setRequestHeader(\"logindata\", login_data);\n      formdata.append(\"blogDetails\", blog_details);\n      xhr.send(formdata);\n    }\n  }, [blog, login_context]);\n\n  function rmcomp(i) {\n    let b = blog;\n    b.splice(i, 1);\n    console.log(\"b-\", b);\n    set_blog([...b]);\n    props.blog([...b]);\n  }\n\n  useEffect(() => {\n    ref.current['editing'].scrollTo(0, ref.current['editing'].scrollHeight);\n  }, [blog]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"editing_pane\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"editing\",\n      ref: el => ref.current['editing'] = el,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"upload\",\n        onClick: submit_data,\n        children: \"Upload\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"addComponents\",\n        onClick: switch_comp\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 17\n      }, this), blog.map((value, index, arr) => {\n        return /*#__PURE__*/_jsxDEV(Blog_part, {\n          data: value,\n          index: index,\n          arr: arr,\n          rm: rmcomp\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 58\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 453,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"components\",\n      ref: el => ref.current['components'] = el,\n      children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n        align: \"center\",\n        className: \"heading\",\n        children: \"Components\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          flexDirection: 'column',\n          height: '100%',\n          overflow: 'auto'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          onClickCapture: e => change_input_state(e),\n          name: \"comp\",\n          hidden: true,\n          checked: input_state === \"Heading\",\n          type: \"radio\",\n          value: \"Heading\",\n          id: \"Heading\",\n          defaultChecked: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 463,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"complist\",\n          htmlFor: \"Heading\",\n          children: \"Heading\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onClickCapture: e => change_input_state(e),\n          name: \"comp\",\n          hidden: true,\n          checked: input_state === \"Paragraph\",\n          type: \"radio\",\n          value: \"Paragraph\",\n          id: \"Paragraph\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"complist\",\n          htmlFor: \"Paragraph\",\n          children: \"Paragraph\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onClickCapture: e => change_input_state(e),\n          name: \"comp\",\n          hidden: true,\n          checked: input_state === \"List\",\n          type: \"radio\",\n          value: \"List\",\n          id: \"List\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"complist\",\n          htmlFor: \"List\",\n          children: \"List\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onClickCapture: e => change_input_state(e),\n          name: \"comp\",\n          hidden: true,\n          checked: input_state === \"Photo\",\n          type: \"radio\",\n          value: \"Photo\",\n          id: \"Photo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"complist\",\n          htmlFor: \"Photo\",\n          children: \"Photo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onClickCapture: e => change_input_state(e),\n          name: \"comp\",\n          hidden: true,\n          checked: input_state === \"Video\",\n          type: \"radio\",\n          value: \"Video\",\n          id: \"Video\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"complist\",\n          htmlFor: \"Video\",\n          children: \"Video\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onClickCapture: e => change_input_state(e),\n          name: \"comp\",\n          hidden: true,\n          checked: input_state === \"Youtube Video\",\n          type: \"radio\",\n          value: \"Youtube Video\",\n          id: \"Youtube Video\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"complist\",\n          htmlFor: \"Youtube Video\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: youtubeLogo,\n            width: 30,\n            height: 30,\n            style: {\n              verticalAlign: \"middle\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 69\n          }, this), \"Youtube Video\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onClickCapture: e => change_input_state(e),\n          name: \"comp\",\n          hidden: true,\n          checked: input_state === \"Instagram Post\",\n          type: \"radio\",\n          value: \"Instagram Post\",\n          id: \"Instagram Post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"complist\",\n          htmlFor: \"Instagram Post\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: insta_logo,\n            width: 30,\n            height: 30,\n            style: {\n              verticalAlign: \"middle\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 70\n          }, this), \" Insta Post\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onClickCapture: e => change_input_state(e),\n          name: \"comp\",\n          hidden: true,\n          checked: input_state === \"Tweet\",\n          type: \"radio\",\n          value: \"Tweet\",\n          id: \"Tweet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 477,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"complist\",\n          htmlFor: \"Tweet\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: twitter_logo,\n            width: 30,\n            height: 30,\n            style: {\n              verticalAlign: \"middle\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 478,\n            columnNumber: 61\n          }, this), \" Tweet\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 478,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 462,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 460,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      action: \"javascript:void(0);\",\n      id: \"text_input\",\n      ref: el => ref.current[\"text_input\"] = el,\n      cols: \"30\",\n      rows: \"10\",\n      onSubmit: e => data_submit(e),\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        ref: el => ref.current['comp_tag'] = el,\n        contentEditable: \"false\",\n        className: \"comp_tag\",\n        children: input_state\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: el => ref.current['maintext'] = el,\n        className: \"maintext\",\n        contentEditable: edit_state\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 484,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        className: \"insert_comp\",\n        ref: el => ref.current['insert_comp'] = el,\n        value: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 482,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 452,\n    columnNumber: 9\n  }, this);\n};\n\n_s4(Editing_pane, \"rr4KiIt+ITFI8MIsiFFnuQez9bU=\", false, function () {\n  return [useHistory];\n});\n\n_c5 = Editing_pane;\n\nconst Blog_part = props => {\n  let heading = String(Object.keys(props.data)[0]);\n  let data;\n\n  if (heading === \"Heading\") {\n    data = /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"h5\",\n      children: props.data[heading]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 496,\n      columnNumber: 16\n    }, this);\n  } else if (heading === \"Paragraph\") {\n    data = /*#__PURE__*/_jsxDEV(\"p\", {\n      children: `${props.data[heading]}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 498,\n      columnNumber: 17\n    }, this);\n  } else if (heading === \"List\") {\n    data = /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: props.data[heading].map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: item\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 502,\n        columnNumber: 45\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 501,\n      columnNumber: 17\n    }, this);\n  } else if (heading === \"Photo\") {\n    let url = URL.createObjectURL(props.data[heading]);\n    data = /*#__PURE__*/_jsxDEV(\"img\", {\n      src: url,\n      height: 200,\n      width: 400,\n      style: {\n        boxShadow: \"rgb(0 0 0 / 20%) 0px 0px 5px 3px\",\n        borderRadius: \"5px\",\n        maxWidth: \"95%\",\n        justifySelf: \"center\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 507,\n      columnNumber: 16\n    }, this);\n  } else if (heading === \"Video\") {\n    let url = URL.createObjectURL(props.data[heading]);\n    data = /*#__PURE__*/_jsxDEV(\"video\", {\n      src: url,\n      controls: true,\n      style: {\n        boxShadow: \"rgb(0 0 0 / 20%) 0px 0px 5px 3px\",\n        borderRadius: \"5px\",\n        maxWidth: \"95%\",\n        justifySelf: \"center\",\n        zIndex: \"-1\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 510,\n      columnNumber: 16\n    }, this);\n  } else if (heading === \"Youtube Video\") {\n    data = /*#__PURE__*/_jsxDEV(\"iframe\", {\n      src: `https://www.youtube.com/embed/${props.data[heading]}`,\n      title: \"YouTube video player\",\n      frameborder: \"0\",\n      style: {\n        boxShadow: \"rgb(0 0 0 / 20%) 0px 0px 5px 3px\",\n        width: \"auto\",\n        height: \"auto\",\n        borderRadius: \"5px\",\n        justifySelf: \"center\"\n      },\n      allow: \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",\n      allowfullscreen: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 512,\n      columnNumber: 17\n    }, this);\n  } else if (heading === \"Instagram Post\") {\n    data = /*#__PURE__*/_jsxDEV(\"iframe\", {\n      src: `https://www.instagram.com/p/${props.data[heading]}/embed?utm_source=ig_web_copy_linkembed`,\n      title: \"Instagram Post\",\n      style: {\n        boxShadow: \"rgb(0 0 0 / 20%) 0px 0px 5px 3px\",\n        width: \"100%\",\n        maxWidth: \"500px\",\n        minWidth: \"250px\",\n        height: \"80vh\",\n        maxHeight: '700px',\n        borderRadius: \"5px\",\n        justifySelf: \"center\"\n      },\n      height: \"600\",\n      frameborder: \"0\",\n      scrolling: \"yes\",\n      allowtransparency: \"true\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 517,\n      columnNumber: 17\n    }, this);\n  } else if (heading === \"Tweet\") {\n    data = /*#__PURE__*/_jsxDEV(\"iframe\", {\n      src: `https://twitframe.com/show?url=${props.data[heading]}`,\n      title: \"Instagram Post\",\n      style: {\n        boxShadow: \"rgb(0 0 0 / 20%) 0px 0px 5px 3px\",\n        width: \"100%\",\n        maxWidth: \"500px\",\n        minWidth: \"250px\",\n        height: \"70vh\",\n        borderRadius: \"5px\",\n        justifySelf: \"center\"\n      },\n      height: \"600\",\n      frameborder: \"0\",\n      scrolling: \"yes\",\n      allowtransparency: \"true\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 525,\n      columnNumber: 17\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container_part\",\n    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n      children: `${heading}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 535,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: popComp,\n      width: 20,\n      height: 20,\n      onClick: () => props.rm(props.index),\n      style: {\n        gridArea: \"img\",\n        alignSelf: 'center',\n        justifySelf: 'center'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 536,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"container_data\",\n      children: data\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 537,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 534,\n    columnNumber: 9\n  }, this);\n};\n\n_c6 = Blog_part;\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"AppUploadBlog\");\n$RefreshReg$(_c2, \"Preview_tab\");\n$RefreshReg$(_c3, \"Blog\");\n$RefreshReg$(_c4, \"Editor_tabs\");\n$RefreshReg$(_c5, \"Editing_pane\");\n$RefreshReg$(_c6, \"Blog_part\");","map":{"version":3,"sources":["D:/Python files/Start Django/blog_tube/frontend/blog_tube/src/componenets/appUploadBlog.js"],"names":["React","useEffect","useContext","useState","useCallback","useMemo","useRef","useLayoutEffect","useHistory","useRouteMatch","CacheSwitch","Switch","CacheRoute","Route","Login_context","$","appConfig","logout","final_data","AppUploadBlog","props","login_context","history","ref","upload_blog_state","set_upload_blog_state","change_image","event","target","files","image_file","image_url","URL","createObjectURL","image_span","css","backgroundSize","backgroundPosition","backdropFilter","forward_to_editor","preventDefault","title","current","value","discription","push","blog_info","el","gridArea","alignSelf","justifySelf","display","editor_state","set_editor_state","set_to_editor","e","blog","set_blog","set_myblog","data","blog_editor","state","appbodyloading","Boolean","sessionStorage","session","window","onbeforeunload","console","log","Preview_tab","data_list","set_data_list","context","list","xhr","XMLHttpRequest","open","origin","onreadystatechange","readyState","status","response","JSON","parse","hydratedBlog","setRequestHeader","formdata","FormData","append","stringify","send","map","item","__html","Blog","children","Editor_tabs","click","path","url","change_state","editor_image","preview_image","Editing_pane","edit_state","set_edit_state","mq","matchMedia","switch_comp","style","matches","input_state","set_input_state","change_input_state","focus","innerHTML","classList","remove","add","widget","data_submit","nativeEvent","stopImmediatePropagation","heading","innerText","para","split","filter","i","photofile","size","alert","setCustomValidity","name","videofile","pathList","a","temp_id","length","id","submit_data","login_data","blog_details","onerror","Photo","Video","blog_title_image","rmcomp","b","splice","scrollTo","scrollHeight","index","arr","flexDirection","height","overflow","youtubeLogo","verticalAlign","insta_logo","twitter_logo","Blog_part","String","Object","keys","boxShadow","borderRadius","maxWidth","zIndex","width","minWidth","maxHeight","popComp","rm"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,UAA1B,EAAuCC,QAAvC,EAAiDC,WAAjD,EAA8DC,OAA9D,EAAuEC,MAAvE,EAA+EC,eAA/E,QAAqG,OAArG;AACA,SAASC,UAAT,EAAqBC,aAArB,QAA2C,cAA3C;AACA,SAASC,WAAW,IAAIC,MAAxB,EAAiCC,UAAU,IAAIC,KAA/C,QAA6D,0BAA7D;AACA,SAASC,aAAT,QAA8B,QAA9B;AACA,OAAO,iCAAP;AACA,OAAOC,CAAP,MAAc,QAAd;;;;;;;AAOA,OAAOC,SAAP,MAAsB,0BAAtB;AACA,SAASC,MAAT,QAAuB,iBAAvB;;AAGA,IAAIC,UAAU,GAAG,EAAjB;;AAEA,IAAIC,aAAa,GAAGC,KAAK,IAAE;AAAA;;AACvB,MAAIC,aAAa,GAAInB,UAAU,CAACY,aAAD,CAA/B;AACA,QAAMQ,OAAO,GAAId,UAAU,EAA3B;AACA,QAAMe,GAAG,GAAGjB,MAAM,CAAC,EAAD,CAAlB;AAEA,QAAM,CAACkB,iBAAD,EAAqBC,qBAArB,IAA8CtB,QAAQ,CAAC,MAAD,CAA5D;AAGA,QAAMuB,YAAY,GAAGtB,WAAW,CAACuB,KAAK,IAAE;AACpC,QAAIC,MAAM,GAAGb,CAAC,CAAC,cAAD,CAAd;;AACA,QAAIY,KAAK,CAACC,MAAN,CAAaC,KAAb,IAAsB,EAA1B,EAA6B;AAC7B,UAAIC,UAAU,GAAGH,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAjB;AAEA,UAAIE,SAAS,GAAGC,GAAG,CAACC,eAAJ,CAAoBH,UAApB,CAAhB;AACA,UAAII,UAAU,GAAGnB,CAAC,CAAC,aAAD,CAAlB;AACAmB,MAAAA,UAAU,CAACC,GAAX,CAAe;AACX,2BAAmB,OAAMJ,SAAU,GADxB;AAEXK,QAAAA,cAAc,EAAC,SAFJ;AAGXC,QAAAA,kBAAkB,EAAG,QAHV;AAIXC,QAAAA,cAAc,EAAC,WAJJ;AAKX,wBAAe;AALJ,OAAf;AAQAV,MAAAA,MAAM,CAACO,GAAP,CAAW;AAAC,2BAAoB,OAAMJ,SAAU;AAArC,OAAX;AACAb,MAAAA,UAAU,CAAC,kBAAD,CAAV,GAA+BY,UAA/B;AACH,KAfG,MAgBAF,MAAM,CAACO,GAAP,CAAW;AAAC,sBAAe,MAAhB;AACR,wBAAkB,OADV;AAER,mBAAa;AAFL,KAAX;AAIH,GAtB+B,EAsB9B,EAtB8B,CAAhC;AAwBA,QAAMI,iBAAiB,GAAGnC,WAAW,CAAEuB,KAAD,IAAS;AAC3CA,IAAAA,KAAK,CAACa,cAAN;AACAtB,IAAAA,UAAU,CAACuB,KAAX,GAAmBlB,GAAG,CAACmB,OAAJ,CAAY,YAAZ,EAA0BC,KAA7C;AACAzB,IAAAA,UAAU,CAAC0B,WAAX,GAAyBrB,GAAG,CAACmB,OAAJ,CAAY,kBAAZ,EAAgCC,KAAzD;AACAlB,IAAAA,qBAAqB,CAAC,aAAD,CAArB;AACAH,IAAAA,OAAO,CAACuB,IAAR,CAAa,oBAAb;AACH,GANoC,CAArC;AAQA,QAAMC,SAAS,GAAGzC,OAAO,CAAC,mBACtB;AAAM,IAAA,SAAS,EAAC,WAAhB;AAA4B,IAAA,MAAM,EAAC,qBAAnC;AAAyD,IAAA,QAAQ,EAAIsB,KAAK,IAAEY,iBAAiB,CAACZ,KAAD,CAA7F;AAAA,2BACI;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA,8BACA;AAAI,QAAA,KAAK,EAAG,QAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADA,eAEA;AAAO,QAAA,OAAO,EAAC,YAAf;AAA4B,QAAA,EAAE,EAAG,aAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFA,eAGA;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,SAAS,MAA5B;AAA6B,QAAA,WAAW,EAAG,OAA3C;AAAmD,QAAA,YAAY,EAAC,KAAhE;AAAsE,QAAA,UAAU,EAAC,MAAjF;AAAwF,QAAA,cAAc,EAAC,OAAvG;AAAgH,QAAA,EAAE,EAAG,YAArH;AAAkI,QAAA,SAAS,EAAE,GAA7I;AAAkJ,QAAA,GAAG,EAAGoB,EAAE,IAAGxB,GAAG,CAACmB,OAAJ,CAAY,YAAZ,IAA0BK,EAAvL;AAA2L,QAAA,QAAQ;AAAnM;AAAA;AAAA;AAAA;AAAA,cAHA,eAKA;AAAO,QAAA,OAAO,EAAC,kBAAf;AAAkC,QAAA,EAAE,EAAG,mBAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALA,eAMA;AAAU,QAAA,IAAI,EAAC,MAAf;AAAsB,QAAA,YAAY,EAAC,KAAnC;AAAyC,QAAA,UAAU,EAAC,MAApD;AAA2D,QAAA,cAAc,EAAC,WAA1E;AAAsF,QAAA,EAAE,EAAC,kBAAzF;AAA4G,QAAA,WAAW,EAAC,aAAxH;AAAsI,QAAA,SAAS,EAAE,GAAjJ;AAAsJ,QAAA,GAAG,EAAGA,EAAE,IAAGxB,GAAG,CAACmB,OAAJ,CAAY,kBAAZ,IAAgCK;AAAjM;AAAA;AAAA;AAAA;AAAA,cANA,eAQA;AAAM,QAAA,EAAE,EAAC,YAAT;AAAsB,QAAA,KAAK,EAAI;AAACC,UAAAA,QAAQ,EAAC,OAAV;AAAkBC,UAAAA,SAAS,EAAC,QAA5B;AAAqCC,UAAAA,WAAW,EAAC,QAAjD;AAA2DC,UAAAA,OAAO,EAAC;AAAnE,SAA/B;AAAA,+BAA2G;AAAO,UAAA,OAAO,EAAC,YAAf;AAA4B,UAAA,EAAE,EAAG,aAAjC;AAAA,iCAAgD;AAAM,YAAA,EAAE,EAAG;AAAX;AAAA;AAAA;AAAA;AAAA;AAAhD;AAAA;AAAA;AAAA;AAAA;AAA3G;AAAA;AAAA;AAAA;AAAA,cARA,eASA;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,EAAE,EAAG,YAAxB;AAAqC,QAAA,MAAM,EAAC,SAA5C;AAAsD,QAAA,QAAQ,EAAEzB,YAAhE;AAA8E,QAAA,MAAM;AAApF;AAAA;AAAA;AAAA;AAAA,cATA,eAWA;AAAO,QAAA,IAAI,EAAC,QAAZ;AAAsB,QAAA,KAAK,EAAC,MAA5B;AAAmC,QAAA,EAAE,EAAG;AAAxC;AAAA;AAAA;AAAA;AAAA,cAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADqB,EAiBvB,CAACF,iBAAD,EAAoBE,YAApB,EAAiCa,iBAAjC,CAjBuB,CAAzB;AAmBA,QAAM,CAACa,YAAD,EAAcC,gBAAd,IAAkClD,QAAQ,CAAC,QAAD,CAAhD;;AAEA,MAAImD,aAAa,GAAEC,CAAC,IAAE;AAClBF,IAAAA,gBAAgB,CAACE,CAAC,CAAC3B,MAAF,CAASe,KAAV,CAAhB;AACH,GAFD;;AAGA1C,EAAAA,SAAS,CAAC,MAAI;AACV,QAAImD,YAAY,KAAG,QAAnB,EAA4B;AACxB9B,MAAAA,OAAO,CAACuB,IAAR,CAAa,oBAAb;AACAQ,MAAAA,gBAAgB,CAAC,QAAD,CAAhB;AACH,KAHD,MAGM,IAAID,YAAY,KAAK,SAArB,EAA+B;AACjC9B,MAAAA,OAAO,CAACuB,IAAR,CAAa,qBAAb;AACAQ,MAAAA,gBAAgB,CAAC,SAAD,CAAhB;AACH;AACJ,GARQ,EAQP,CAACD,YAAD,CARO,CAAT;AAUA,QAAK,CAACI,IAAD,EAAQC,QAAR,IAAoBtD,QAAQ,CAAC,EAAD,CAAjC;AACA,QAAMuD,UAAU,GAAGtD,WAAW,CAACuD,IAAI,IAAEF,QAAQ,CAACE,IAAD,CAAf,CAA9B;AAEA,QAAMC,WAAW,GAAGvD,OAAO,CAAC,mBACxB;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA,4BACI,QAAC,WAAD;AAAa,MAAA,YAAY,EAAIiD,aAA7B;AAA4C,MAAA,YAAY,EAAIF;AAA5D;AAAA;AAAA;AAAA;AAAA,YADJ,eAGI,QAAC,MAAD;AAAA,8BACI,QAAC,KAAD;AAAO,QAAA,KAAK,MAAZ;AAAa,QAAA,IAAI,EAAG,oBAApB;AAAA,+BACI,QAAC,YAAD;AAAc,UAAA,cAAc,EAAIS,KAAK,IAAGzC,KAAK,CAAC0C,cAAN,CAAqBD,KAArB,CAAxC;AAAqE,UAAA,IAAI,EAAIH;AAA7E;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cADJ,eAII,QAAC,KAAD;AAAO,QAAA,KAAK,MAAZ;AAAa,QAAA,IAAI,EAAC,qBAAlB;AAAA,+BACI,QAAC,WAAD;AAAa,UAAA,IAAI,EAAIF,IAArB;AAA2B,UAAA,cAAc,EAAEK,KAAK,IAAGzC,KAAK,CAAC0C,cAAN,CAAqBD,KAArB;AAAnD;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADuB,CAA3B;AAeA5D,EAAAA,SAAS,CAAC,MAAI;AACViB,IAAAA,UAAU,CAAC,kBAAD,CAAV,GAA+B,EAA/B;;AACA,QAAI,CAAC6C,OAAO,CAAC1C,aAAD,CAAR,IAA2B,CAAC0C,OAAO,CAACC,cAAc,CAACC,OAAhB,CAAvC,EAAgE;AAC5D3C,MAAAA,OAAO,CAACuB,IAAR,CAAa,QAAb;AACA,aAAO,IAAP;AACH;AACJ,GANQ,EAMP,CAACxB,aAAD,EAAe2C,cAAf,CANO,CAAT;AASA/D,EAAAA,SAAS,CAAC,MAAI;AACViE,IAAAA,MAAM,CAACC,cAAP,GAAsBZ,CAAC,IAAE;AACrBa,MAAAA,OAAO,CAACC,GAAR,CAAYd,CAAZ;AACA,aAAO,8BAAP;AACH,KAHD;;AAKA,WAAO,MAAIW,MAAM,CAACC,cAAP,GAAuBZ,CAAC,IAAE,IAArC;AACH,GAPQ,EAOP,EAPO,CAAT;AAQA,sBACI;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA,eACK/B,iBAAiB,KAAK,MAAtB,GAA8BsB,SAA9B,GAA0C,IAD/C,EAEKtB,iBAAiB,KAAK,aAAtB,GAAoCoC,WAApC,GAAgD,IAFrD;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAMH,CAnHD;;GAAIzC,a;UAEiBX,U;;;KAFjBW,a;AAqHJ,eAAgBA,aAAhB;;AAEA,IAAImD,WAAW,GAAElD,KAAK,IAAG;AAAA;;AACrB,QAAME,OAAO,GAAGd,UAAU,EAA1B;AACA,QAAM,CAAC+D,SAAD,EAAYC,aAAZ,IAA6BrE,QAAQ,CAAC,EAAD,CAA3C;AACA,MAAIsE,OAAO,GAAGvE,UAAU,CAACY,aAAD,CAAxB;AACAb,EAAAA,SAAS,CAAC,MAAI;AACV,QAAImB,KAAK,CAACsD,IAAN,IAAcV,cAAc,CAACC,OAAf,KAA2BQ,OAAzC,IAAqDV,OAAO,CAACC,cAAc,CAACC,OAAhB,CAAP,IAAmCF,OAAO,CAACU,OAAD,CAAnG,EAA8G;AAC9GL,MAAAA,OAAO,CAACC,GAAR,CAAYjD,KAAK,CAACsD,IAAlB;AACAtD,MAAAA,KAAK,CAAC0C,cAAN,CAAqB,MAArB;AACA,UAAIa,GAAG,GAAG,IAAIC,cAAJ,EAAV;AACAD,MAAAA,GAAG,CAACE,IAAJ,CAAS,MAAT,EAAkB7D,SAAS,CAAC8D,MAAV,GAAiB,yBAAnC;;AACAH,MAAAA,GAAG,CAACI,kBAAJ,GAAwB,MAAI;AACxB,YAAIJ,GAAG,CAACK,UAAJ,KAAmB,CAAnB,IAAwBL,GAAG,CAACM,MAAJ,KAAe,GAA3C,EAA+C;AAC3C,cAAIC,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWT,GAAG,CAACO,QAAf,CAAf;;AACA,kBAAQA,QAAQ,CAACD,MAAjB;AACI,iBAAK,SAAL;AACIT,cAAAA,aAAa,CAACU,QAAQ,CAACG,YAAV,CAAb;AACAjB,cAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAAyBE,SAAzB;AACAnD,cAAAA,KAAK,CAAC0C,cAAN,CAAqB,MAArB;AACA;;AACJ,iBAAK,eAAL;AACIxC,cAAAA,OAAO,CAACuB,IAAR,CAAa,QAAb;AACAuB,cAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCa,QAAvC;AACAjE,cAAAA,MAAM;AACNG,cAAAA,KAAK,CAAC0C,cAAN,CAAqB,MAArB;AACA;;AACJ;AACIM,cAAAA,OAAO,CAACC,GAAR,CAAYa,QAAQ,CAACD,MAArB;AACA7D,cAAAA,KAAK,CAAC0C,cAAN,CAAqB,MAArB;AACA;AAfR;AAiBH;AACJ,OArBD;;AAsBAa,MAAAA,GAAG,CAACW,gBAAJ,CAAqB,SAArB,EAAiCb,OAAjC;AACAE,MAAAA,GAAG,CAACW,gBAAJ,CAAqB,aAArB,EAAqC,gCAArC;AACA,UAAIC,QAAQ,GAAG,IAAIC,QAAJ,EAAf;AACAD,MAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAyBN,IAAI,CAACO,SAAL,CAAetE,KAAK,CAACsD,IAArB,CAAzB;AACAC,MAAAA,GAAG,CAACgB,IAAJ,CAASJ,QAAT;AAAmB;AACtB,GAjCQ,EAiCP,CAACnE,KAAK,CAACsD,IAAP,EAAYD,OAAZ,CAjCO,CAAT;AAkCA,sBACI;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA,2BACI,QAAC,IAAD;AAAA,gBACKF,SAAS,CAACqB,GAAV,CAAcC,IAAI,iBAAG;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAgC,QAAA,uBAAuB,EAAI;AAACC,UAAAA,MAAM,EAAED;AAAT;AAA3D;AAAA;AAAA;AAAA;AAAA,cAArB;AADL;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAOH,CA7CD;;IAAIvB,W;UACgB9D,U;;;MADhB8D,W;;AA+CJ,MAAMyB,IAAI,GAAE3E,KAAK,IAAE;AACf,sBAAO;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA,cACFA,KAAK,CAAC4E;AADJ;AAAA;AAAA;AAAA;AAAA,UAAP;AAGH,CAJD;;MAAMD,I;AAMN,SAAQA,IAAR;;AAGA,IAAIE,WAAW,GAAE7E,KAAK,IAAG;AAAA;;AACrB,QAAMG,GAAG,GAAGjB,MAAM,CAAC,EAAD,CAAlB;AACAL,EAAAA,SAAS,CAAC,MAAI;AACVsB,IAAAA,GAAG,CAACmB,OAAJ,CAAYtB,KAAK,CAACgC,YAAlB,EAAgC8C,KAAhC;AACH,GAFQ,EAEP,CAAC9E,KAAK,CAACgC,YAAP,CAFO,CAAT;AAGA,QAAM;AAAC+C,IAAAA,IAAD;AAAQC,IAAAA;AAAR,MAAe3F,aAAa,EAAlC;AAEAR,EAAAA,SAAS,CAAC,MAAI;AACV,QAAIkG,IAAI,KAAK,oBAAb,EAAkC;AAC9B/E,MAAAA,KAAK,CAACiF,YAAN,CAAmB,QAAnB;AACH,KAFD,MAEM,IAAIF,IAAI,KAAK,qBAAb,EAAmC;AACrC/E,MAAAA,KAAK,CAACiF,YAAN,CAAmB,SAAnB;AACH;AACJ,GANQ,EAMP,EANO,CAAT;AAOA,sBACI;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA,4BACI;AAAO,MAAA,GAAG,EAAItD,EAAE,IAAExB,GAAG,CAACmB,OAAJ,CAAY,QAAZ,IAAsBK,EAAxC;AAA4C,MAAA,IAAI,EAAC,OAAjD;AAAyD,MAAA,IAAI,EAAC,MAA9D;AAAqE,MAAA,EAAE,EAAC,cAAxE;AAAuF,MAAA,KAAK,EAAE,QAA9F;AAAwG,MAAA,OAAO,EAAIQ,CAAD,IAAKnC,KAAK,CAACiF,YAAN,CAAmB9C,CAAnB,CAAvH;AAA8I,MAAA,MAAM,MAApJ;AAAuJ,MAAA,cAAc;AAArK;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAO,MAAA,OAAO,EAAC,cAAf;AAA8B,MAAA,EAAE,EAAG,cAAnC;AAAA,8BAAmD;AAAK,QAAA,GAAG,EAAI+C,YAAZ;AAA2B,QAAA,SAAS,EAAG;AAAvC;AAAA;AAAA;AAAA;AAAA,cAAnD;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,eAGI;AAAO,MAAA,GAAG,EAAIvD,EAAE,IAAExB,GAAG,CAACmB,OAAJ,CAAY,SAAZ,IAAuBK,EAAzC;AAA6C,MAAA,IAAI,EAAC,OAAlD;AAA0D,MAAA,IAAI,EAAC,MAA/D;AAAsE,MAAA,EAAE,EAAC,eAAzE;AAAyF,MAAA,KAAK,EAAE,SAAhG;AAA0G,MAAA,OAAO,EAAIQ,CAAD,IAAKnC,KAAK,CAACiF,YAAN,CAAmB9C,CAAnB,CAAzH;AAAgJ,MAAA,MAAM;AAAtJ;AAAA;AAAA;AAAA;AAAA,YAHJ,eAII;AAAO,MAAA,OAAO,EAAE,eAAhB;AAAgC,MAAA,EAAE,EAAG,eAArC;AAAA,8BAAsD;AAAK,QAAA,GAAG,EAAIgD,aAAZ;AAA4B,QAAA,SAAS,EAAG;AAAxC;AAAA;AAAA;AAAA;AAAA,cAAtD;AAAA;AAAA;AAAA;AAAA;AAAA,YAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAQH,CAtBD;;IAAIN,W;UAKqBxF,a;;;MALrBwF,W;;AAwBJ,IAAIO,YAAY,GAAGpF,KAAK,IAAG;AAAA;;AACvB,QAAMG,GAAG,GAAGjB,MAAM,CAAC,EAAD,CAAlB;AACA,QAAM,CAACmG,UAAD,EAAcC,cAAd,IAAiCvG,QAAQ,CAAC,IAAD,CAA/C;AAEA,QAAMwG,EAAE,GAAGzC,MAAM,CAAC0C,UAAP,CAAkB,qBAAlB,CAAX;AAEA,QAAMC,WAAW,GAAGzG,WAAW,CAAC,MAAI;AAChC,QAAI+C,OAAO,GAAG5B,GAAG,CAACmB,OAAJ,CAAY,YAAZ,EAA0BoE,KAA1B,CAAgC3D,OAA9C;;AACA,QAAIwD,EAAE,CAACI,OAAP,EAAe;AACX,UAAI5D,OAAO,KAAK,MAAZ,IAAsBA,OAAO,KAAK,EAAtC,EAAyC;AACrC5B,QAAAA,GAAG,CAACmB,OAAJ,CAAY,YAAZ,EAA0BoE,KAA1B,CAAgC3D,OAAhC,GAA0C,MAA1C;AACH,OAFD,MAEK;AACD5B,QAAAA,GAAG,CAACmB,OAAJ,CAAY,YAAZ,EAA0BoE,KAA1B,CAAgC3D,OAAhC,GAA0C,EAA1C;AACH;AACJ,KAND,MAMK;AACD5B,MAAAA,GAAG,CAACmB,OAAJ,CAAY,YAAZ,EAA0BoE,KAA1B,CAAgC3D,OAAhC,GAA0C,MAA1C;AACH;AAEJ,GAZ8B,EAY7B,CAACwD,EAAD,CAZ6B,CAA/B;AAcA,QAAM,CAACK,WAAD,EAAeC,eAAf,IAAkC9G,QAAQ,CAAC,SAAD,CAAhD;;AAEA,WAAS+G,kBAAT,CAA4BvF,KAA5B,EAAkC;AAC9BsF,IAAAA,eAAe,CAACtF,KAAK,CAACC,MAAN,CAAae,KAAd,CAAf;AACApB,IAAAA,GAAG,CAACmB,OAAJ,CAAY,UAAZ,EAAwByE,KAAxB;AACH;;AAEDlH,EAAAA,SAAS,CAAC,MAAI;AACVsB,IAAAA,GAAG,CAACmB,OAAJ,CAAY,UAAZ,EAAwB0E,SAAxB,GAAoC,EAApC;;AACA,QAAIJ,WAAW,KAAK,OAAhB,IAA2BA,WAAW,KAAK,OAA3C,IAAoDA,WAAW,KAAK,eAAxE,EAAyF;AACrFN,MAAAA,cAAc,CAAC,KAAD,CAAd;AACAnF,MAAAA,GAAG,CAACmB,OAAJ,CAAY,UAAZ,EAAwB2E,SAAxB,CAAkCC,MAAlC,CAAyC,aAAzC;AAEH,KAJD,MAIM,IAAGN,WAAW,KAAK,MAAnB,EAA0B;AAC5BN,MAAAA,cAAc,CAAC,IAAD,CAAd;AACAnF,MAAAA,GAAG,CAACmB,OAAJ,CAAY,UAAZ,EAAwB2E,SAAxB,CAAkCE,GAAlC,CAAsC,aAAtC;AACH,KAHK,MAIF;AACAb,MAAAA,cAAc,CAAC,IAAD,CAAd;AACJnF,MAAAA,GAAG,CAACmB,OAAJ,CAAY,UAAZ,EAAwB2E,SAAxB,CAAkCC,MAAlC,CAAyC,aAAzC;AACC;;AAED,QAAIE,MAAJ;;AAGA,YAAQR,WAAR;AACI,WAAK,OAAL;AACIQ,QAAAA,MAAM,GAAK;AAC3B,oEADgB;AAEAd,QAAAA,cAAc,CAAC,KAAD,CAAd;AACA;;AACJ,WAAK,OAAL;AACIc,QAAAA,MAAM,GAAK;AAC3B,oEADgB;AAEAd,QAAAA,cAAc,CAAC,KAAD,CAAd;AACA;;AACJ,WAAK,eAAL;AACIc,QAAAA,MAAM,GAAK;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,2FAPgB;AAQAd,QAAAA,cAAc,CAAC,KAAD,CAAd;AACA;;AACJ,WAAK,gBAAL;AACIc,QAAAA,MAAM,GAAI;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,+EAPgB;AAQAd,QAAAA,cAAc,CAAC,KAAD,CAAd;AACA;;AACJ,WAAK,OAAL;AACIc,QAAAA,MAAM,GAAI;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,+EAPgB;AAQAd,QAAAA,cAAc,CAAC,KAAD,CAAd;AACA;;AACJ;AACIc,QAAAA,MAAM,GAAC,EAAP;AACId,QAAAA,cAAc,CAAC,IAAD,CAAd;AACA;AA/CZ;;AAiDAnF,IAAAA,GAAG,CAACmB,OAAJ,CAAY,UAAZ,EAAwB0E,SAAxB,GAAoCI,MAApC;AAEH,GArEQ,EAqEN,CAACR,WAAD,CArEM,CAAT;AAuEA,QAAM,CAACxD,IAAD,EAAQC,QAAR,IAAoBtD,QAAQ,CAAC,EAAD,CAAlC;AACAF,EAAAA,SAAS,CAAC,MAAImB,KAAK,CAACoC,IAAN,CAAW,EAAX,CAAL,EAAoB,EAApB,CAAT;;AAEA,QAAMiE,WAAW,GAAGlE,CAAC,IAAE;AACnBA,IAAAA,CAAC,CAACf,cAAF;AACAe,IAAAA,CAAC,CAACmE,WAAF,CAAcC,wBAAd;;AACA,QAAIX,WAAW,KAAK,SAApB,EAA8B;AAC1B,UAAIY,OAAO,GAAGrG,GAAG,CAACmB,OAAJ,CAAY,UAAZ,EAAwBmF,SAAtC;AACApE,MAAAA,QAAQ,CAAC,CAAC,GAAGD,IAAJ,EAAS;AAAC,mBAAYoE;AAAb,OAAT,CAAD,CAAR;AACAxG,MAAAA,KAAK,CAACoC,IAAN,CAAW,CAAC,GAAGA,IAAJ,EAAS;AAAC,mBAAYoE;AAAb,OAAT,CAAX;AACArG,MAAAA,GAAG,CAACmB,OAAJ,CAAY,UAAZ,EAAwBmF,SAAxB,GAAoC,EAApC;AACH,KALD,MAKM,IAAIb,WAAW,KAAK,WAApB,EAAgC;AAClC,UAAIc,IAAI,GAAGvG,GAAG,CAACmB,OAAJ,CAAY,UAAZ,EAAwBmF,SAAnC;AACApE,MAAAA,QAAQ,CAAC,CAAC,GAAGD,IAAJ,EAAS;AAAC,qBAAcsE;AAAf,OAAT,CAAD,CAAR;AACA1G,MAAAA,KAAK,CAACoC,IAAN,CAAW,CAAC,GAAGA,IAAJ,EAAS;AAAC,qBAAcsE;AAAf,OAAT,CAAX;AACAvG,MAAAA,GAAG,CAACmB,OAAJ,CAAY,UAAZ,EAAwBmF,SAAxB,GAAoC,EAApC;AACH,KALK,MAKA,IAAIb,WAAW,KAAK,MAApB,EAA2B;AAC7B,UAAItC,IAAI,GAAGnD,GAAG,CAACmB,OAAJ,CAAY,UAAZ,EAAwBmF,SAAnC;AACAnD,MAAAA,IAAI,GAAGA,IAAI,CAACqD,KAAL,CAAW,IAAX,EAAiBC,MAAjB,CAAwBC,CAAC,IAAEA,CAAC,GAACA,CAAD,GAAG,IAA/B,CAAP;AACAxE,MAAAA,QAAQ,CAAC,CAAC,GAAGD,IAAJ,EAAS;AAAC,gBAAOkB;AAAR,OAAT,CAAD,CAAR;AACAtD,MAAAA,KAAK,CAACoC,IAAN,CAAW,CAAC,GAAGA,IAAJ,EAAS;AAAC,gBAAOkB;AAAR,OAAT,CAAX;AACAnD,MAAAA,GAAG,CAACmB,OAAJ,CAAY,UAAZ,EAAwBmF,SAAxB,GAAoC,EAApC;AACH,KANK,MAMA,IAAIb,WAAW,KAAK,OAApB,EAA4B;AAC9B,UAAIkB,SAAS,GAAG3E,CAAC,CAAC3B,MAAF,CAAS,CAAT,EAAYC,KAAZ,CAAkB,CAAlB,CAAhB;;AACA,UAAIqG,SAAS,CAACC,IAAV,IAAkB,QAAtB,EAA+B;AAC3BC,QAAAA,KAAK,CAAC,kCAAD,CAAL;AACA7E,QAAAA,CAAC,CAAC3B,MAAF,CAAS,CAAT,EAAYyG,iBAAZ,CAA8B,sBAA9B;AACA9E,QAAAA,CAAC,CAAC3B,MAAF,CAAS,CAAT,EAAYC,KAAZ,CAAkBc,KAAlB,GAA2B,EAA3B;AACH,OAJD,MAKI;AACJc,QAAAA,QAAQ,CAAC,CAAC,GAAGD,IAAJ,EAAS;AAAE,mBAAS0E,SAAX;AAAuB,kBAASA,SAAS,CAACI;AAA1C,SAAT,CAAD,CAAR;AACAlH,QAAAA,KAAK,CAACoC,IAAN,CAAW,CAAC,GAAGA,IAAJ,EAAS;AAAE,mBAAS0E,SAAX;AAAuB,kBAASA,SAAS,CAACI;AAA1C,SAAT,CAAX;AACC;AACJ,KAXK,MAWA,IAAKtB,WAAW,KAAK,OAArB,EAA8B;AAChC,UAAIuB,SAAS,GAAGhF,CAAC,CAAC3B,MAAF,CAAS,CAAT,EAAYC,KAAZ,CAAkB,CAAlB,CAAhB;;AACA,UAAI0G,SAAS,CAACJ,IAAV,IAAkB,QAAtB,EAA+B;AAC3BC,QAAAA,KAAK,CAAC,kCAAD,CAAL;AACA7E,QAAAA,CAAC,CAAC3B,MAAF,CAAS,CAAT,EAAYyG,iBAAZ,CAA8B,sBAA9B;AACA9E,QAAAA,CAAC,CAAC3B,MAAF,CAAS,CAAT,EAAYC,KAAZ,CAAkBc,KAAlB,GAA2B,EAA3B;AACH,OAJD,MAKI;AACJc,QAAAA,QAAQ,CAAC,CAAC,GAAGD,IAAJ,EAAS;AAAE,mBAAS+E,SAAX;AAAsB,kBAASA,SAAS,CAACD;AAAzC,SAAT,CAAD,CAAR;AACAlH,QAAAA,KAAK,CAACoC,IAAN,CAAW,CAAC,GAAGA,IAAJ,EAAS;AAAE,mBAAS+E,SAAX;AAAsB,kBAASA,SAAS,CAACD;AAAzC,SAAT,CAAX;AACC;AACJ,KAXK,MAYD,IAAItB,WAAW,KAAK,eAApB,EAAoC;AACrC,UAAIZ,GAAG,GAAG7C,CAAC,CAAC3B,MAAF,CAAS,CAAT,EAAYe,KAAZ,CAAkBoF,KAAlB,CAAwB,GAAxB,EAA6B,CAA7B,CAAV;AACA,UAAIS,QAAQ,GAAGpC,GAAG,CAAC2B,KAAJ,CAAU,GAAV,EAAeC,MAAf,CAAsBS,CAAC,IAAEA,CAAC,GAACA,CAAD,GAAG,IAA7B,CAAf;AACA,UAAIC,OAAO,GAAGF,QAAQ,CAACA,QAAQ,CAACG,MAAT,GAAkB,CAAnB,CAAR,CAA8BZ,KAA9B,CAAoC,GAApC,CAAd;AACA,UAAIa,EAAE,GAAGF,OAAO,CAACA,OAAO,CAACC,MAAR,GAAiB,CAAlB,CAAhB;AACAlF,MAAAA,QAAQ,CAAC,CAAC,GAAGD,IAAJ,EAAS;AAAC,yBAAiBoF;AAAlB,OAAT,CAAD,CAAR;AACAxH,MAAAA,KAAK,CAACoC,IAAN,CAAW,CAAC,GAAGA,IAAJ,EAAS;AAAC,yBAAiBoF;AAAlB,OAAT,CAAX;AACArF,MAAAA,CAAC,CAAC3B,MAAF,CAAS,CAAT,EAAYe,KAAZ,GAAoB,EAApB;AACH,KARI,MAQC,IAAIqE,WAAW,KAAK,gBAApB,EAAqC;AACvC,UAAIZ,GAAG,GAAG7C,CAAC,CAAC3B,MAAF,CAAS,CAAT,EAAYe,KAAZ,CAAkBoF,KAAlB,CAAwB,GAAxB,EAA6B,CAA7B,CAAV;AACA,UAAIS,QAAQ,GAAGpC,GAAG,CAAC2B,KAAJ,CAAU,GAAV,EAAeC,MAAf,CAAsBS,CAAC,IAAEA,CAAC,GAACA,CAAD,GAAG,IAA7B,CAAf;AACA,UAAIG,EAAE,GAAGJ,QAAQ,CAACA,QAAQ,CAACG,MAAT,GAAkB,CAAnB,CAAjB;AACAlF,MAAAA,QAAQ,CAAC,CAAC,GAAGD,IAAJ,EAAS;AAAC,0BAAkBoF;AAAnB,OAAT,CAAD,CAAR;AACAxH,MAAAA,KAAK,CAACoC,IAAN,CAAW,CAAC,GAAGA,IAAJ,EAAS;AAAC,0BAAkBoF;AAAnB,OAAT,CAAX;AACArF,MAAAA,CAAC,CAAC3B,MAAF,CAAS,CAAT,EAAYe,KAAZ,GAAoB,EAApB;AACH,KAPK,MAOA,IAAIqE,WAAW,KAAK,OAApB,EAA4B;AAC9B,UAAIZ,GAAG,GAAG7C,CAAC,CAAC3B,MAAF,CAAS,CAAT,EAAYe,KAAZ,CAAkBoF,KAAlB,CAAwB,GAAxB,EAA6B,CAA7B,CAAV;AACAtE,MAAAA,QAAQ,CAAC,CAAC,GAAGD,IAAJ,EAAS;AAAC,iBAAS4C;AAAV,OAAT,CAAD,CAAR;AACAhF,MAAAA,KAAK,CAACoC,IAAN,CAAW,CAAC,GAAGA,IAAJ,EAAS;AAAC,iBAAS4C;AAAV,OAAT,CAAX;AACA7C,MAAAA,CAAC,CAAC3B,MAAF,CAAS,CAAT,EAAYe,KAAZ,GAAoB,EAApB;AACH;;AACDzB,IAAAA,UAAU,CAACsC,IAAX,GAAkBA,IAAlB;AACH,GAhED;;AAiEA,MAAInC,aAAa,GAAGnB,UAAU,CAACY,aAAD,CAA9B;AACA,QAAMQ,OAAO,GAAGd,UAAU,EAA1B;AACA,QAAMqI,WAAW,GAAIzI,WAAW,CAAC,MAAI;AACjCc,IAAAA,UAAU,CAACsC,IAAX,GAAkBA,IAAlB;AACAY,IAAAA,OAAO,CAACC,GAAR,CAAYnD,UAAZ;AACAE,IAAAA,KAAK,CAAC0C,cAAN,CAAqB,MAArB;;AACA,QAAIzC,aAAa,KAAK2C,cAAc,CAACC,OAAjC,KAA6CF,OAAO,CAACC,cAAc,CAACC,OAAhB,CAAP,IAAmCF,OAAO,CAAC1C,aAAD,CAAvF,CAAJ,EAA4G;AACxG,UAAIyH,UAAU,GAAG3D,IAAI,CAACC,KAAL,CAAWpB,cAAc,CAAC8E,UAA1B,CAAjB;AACA,UAAInE,GAAG,GAAG,IAAIC,cAAJ,EAAV;AACA,UAAImE,YAAY,GAAG5D,IAAI,CAACO,SAAL,CAAexE,UAAf,CAAnB;AACAyD,MAAAA,GAAG,CAACE,IAAJ,CAAS,MAAT,EAAmB,GAAE7D,SAAS,CAAC8D,MAAO,wBAAtC;;AACAH,MAAAA,GAAG,CAACI,kBAAJ,GAAyB,MAAI;AACzB,YAAIJ,GAAG,CAACK,UAAJ,KAAmB,CAAnB,IAAwBL,GAAG,CAACM,MAAJ,KAAe,GAA3C,EAA+C;AAC3C,cAAIC,QAAQ,GAAEC,IAAI,CAACC,KAAL,CAAYT,GAAG,CAACO,QAAhB,CAAd;;AACA,kBAAQA,QAAQ,CAACD,MAAjB;AACI,iBAAK,eAAL;AACI3D,cAAAA,OAAO,CAACuB,IAAR,CAAa,QAAb;AACAzB,cAAAA,KAAK,CAAC0C,cAAN,CAAqB,MAArB;AACA;;AACJ,iBAAK,MAAL;AACIxC,cAAAA,OAAO,CAACuB,IAAR,CAAa,QAAb;AACAzB,cAAAA,KAAK,CAAC0C,cAAN,CAAqB,MAArB;AACA;;AACJ,iBAAK,SAAL;AACIxC,cAAAA,OAAO,CAACuB,IAAR,CAAa,OAAb;AACAzB,cAAAA,KAAK,CAAC0C,cAAN,CAAqB,MAArB;AACA;;AACJ;AACIM,cAAAA,OAAO,CAACC,GAAR,CAAYa,QAAQ,CAACD,MAArB;AAdR;AAgBH;AACJ,OApBD;;AAqBAN,MAAAA,GAAG,CAACqE,OAAJ,GAAY,MAAI;AACZZ,QAAAA,KAAK,CAAC,yFAAD,CAAL;AACAhH,QAAAA,KAAK,CAAC0C,cAAN,CAAqB,MAArB;AACH,OAHD;;AAIA,UAAIyB,QAAQ,GAAG,IAAIC,QAAJ,EAAf;;AACA,WAAK,IAAIyC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG/G,UAAU,CAACsC,IAAX,CAAgBmF,MAApC,EAA2CV,CAAC,EAA5C,EAAgD;AAC5C,YAAIlF,EAAE,GAAG7B,UAAU,CAACsC,IAAX,CAAgByE,CAAhB,CAAT;;AACA,YAAIlF,EAAE,CAACkG,KAAP,EAAa;AACT1D,UAAAA,QAAQ,CAACE,MAAT,CAAgB1C,EAAE,CAACuF,IAAnB,EAA0BvF,EAAE,CAACkG,KAA7B;AACH,SAFD,MAEM,IAAGlG,EAAE,CAACmG,KAAN,EAAY;AACd3D,UAAAA,QAAQ,CAACE,MAAT,CAAgB1C,EAAE,CAACuF,IAAnB,EAA0BvF,EAAE,CAACmG,KAA7B;AACH;AACJ;;AACD,UAAIhI,UAAU,CAACiI,gBAAf,EAAgC;AAC5B5D,QAAAA,QAAQ,CAACE,MAAT,CAAgB,kBAAhB,EAAqCvE,UAAU,CAACiI,gBAAhD;AACH;;AACDxE,MAAAA,GAAG,CAACW,gBAAJ,CAAqB,SAArB,EAAiCjE,aAAjC;AACAsD,MAAAA,GAAG,CAACW,gBAAJ,CAAqB,WAArB,EAAmCwD,UAAnC;AACAvD,MAAAA,QAAQ,CAACE,MAAT,CAAgB,aAAhB,EAAgCsD,YAAhC;AACApE,MAAAA,GAAG,CAACgB,IAAJ,CAASJ,QAAT;AACH;AACJ,GAnD+B,EAmD9B,CAAC/B,IAAD,EAAMnC,aAAN,CAnD8B,CAAhC;;AAqDA,WAAS+H,MAAT,CAAgBnB,CAAhB,EAAkB;AACd,QAAIoB,CAAC,GAAG7F,IAAR;AACA6F,IAAAA,CAAC,CAACC,MAAF,CAASrB,CAAT,EAAY,CAAZ;AACA7D,IAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ,EAAiBgF,CAAjB;AACA5F,IAAAA,QAAQ,CAAC,CAAC,GAAG4F,CAAJ,CAAD,CAAR;AACAjI,IAAAA,KAAK,CAACoC,IAAN,CAAW,CAAC,GAAG6F,CAAJ,CAAX;AACH;;AAEDpJ,EAAAA,SAAS,CAAC,MAAI;AACVsB,IAAAA,GAAG,CAACmB,OAAJ,CAAY,SAAZ,EAAuB6G,QAAvB,CAAgC,CAAhC,EAAkChI,GAAG,CAACmB,OAAJ,CAAY,SAAZ,EAAuB8G,YAAzD;AACH,GAFQ,EAEP,CAAChG,IAAD,CAFO,CAAT;AAIA,sBACI;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA,4BACI;AAAK,MAAA,SAAS,EAAC,SAAf;AAAyB,MAAA,GAAG,EAAGT,EAAE,IAAExB,GAAG,CAACmB,OAAJ,CAAY,SAAZ,IAAuBK,EAA1D;AAAA,8BACI;AAAQ,QAAA,SAAS,EAAG,QAApB;AAA6B,QAAA,OAAO,EAAG8F,WAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAQ,QAAA,SAAS,EAAG,eAApB;AAAoC,QAAA,OAAO,EAAIhC;AAA/C;AAAA;AAAA;AAAA;AAAA,cAFJ,EAIKrD,IAAI,CAACoC,GAAL,CAAS,CAACjD,KAAD,EAAS8G,KAAT,EAAgBC,GAAhB,KAAsB;AAAC,4BAAQ,QAAC,SAAD;AAAW,UAAA,IAAI,EAAI/G,KAAnB;AAA0B,UAAA,KAAK,EAAE8G,KAAjC;AAAqD,UAAA,GAAG,EAAGC,GAA3D;AAAgE,UAAA,EAAE,EAAIN;AAAtE,WAA8CK,KAA9C;AAAA;AAAA;AAAA;AAAA,gBAAR;AAA0F,OAA1H,CAJL;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAQI;AAAK,MAAA,SAAS,EAAC,YAAf;AAA4B,MAAA,GAAG,EAAI1G,EAAE,IAAExB,GAAG,CAACmB,OAAJ,CAAY,YAAZ,IAA0BK,EAAjE;AAAA,8BACI;AAAI,QAAA,KAAK,EAAG,QAAZ;AAAqB,QAAA,SAAS,EAAC,SAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAK,QAAA,KAAK,EAAI;AAACI,UAAAA,OAAO,EAAC,MAAT;AAAgBwG,UAAAA,aAAa,EAAC,QAA9B;AAAuCC,UAAAA,MAAM,EAAC,MAA9C;AAAqDC,UAAAA,QAAQ,EAAC;AAA9D,SAAd;AAAA,gCACA;AAAO,UAAA,cAAc,EAAEtG,CAAC,IAAE2D,kBAAkB,CAAC3D,CAAD,CAA5C;AAAiD,UAAA,IAAI,EAAC,MAAtD;AAA6D,UAAA,MAAM,MAAnE;AAAoE,UAAA,OAAO,EAAIyD,WAAW,KAAK,SAA/F;AAA2G,UAAA,IAAI,EAAC,OAAhH;AAAyH,UAAA,KAAK,EAAC,SAA/H;AAA6I,UAAA,EAAE,EAAC,SAAhJ;AAA6J,UAAA,cAAc;AAA3K;AAAA;AAAA;AAAA;AAAA,gBADA,eAEA;AAAO,UAAA,SAAS,EAAC,UAAjB;AAA4B,UAAA,OAAO,EAAC,SAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFA,eAGA;AAAO,UAAA,cAAc,EAAEzD,CAAC,IAAE2D,kBAAkB,CAAC3D,CAAD,CAA5C;AAAiD,UAAA,IAAI,EAAC,MAAtD;AAA6D,UAAA,MAAM,MAAnE;AAAoE,UAAA,OAAO,EAAIyD,WAAW,KAAK,WAA/F;AAA6G,UAAA,IAAI,EAAC,OAAlH;AAA2H,UAAA,KAAK,EAAC,WAAjI;AAAiJ,UAAA,EAAE,EAAC;AAApJ;AAAA;AAAA;AAAA;AAAA,gBAHA,eAIA;AAAO,UAAA,SAAS,EAAC,UAAjB;AAA4B,UAAA,OAAO,EAAC,WAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJA,eAKA;AAAO,UAAA,cAAc,EAAEzD,CAAC,IAAE2D,kBAAkB,CAAC3D,CAAD,CAA5C;AAAiD,UAAA,IAAI,EAAC,MAAtD;AAA6D,UAAA,MAAM,MAAnE;AAAoE,UAAA,OAAO,EAAIyD,WAAW,KAAK,MAA/F;AAAwG,UAAA,IAAI,EAAC,OAA7G;AAAsH,UAAA,KAAK,EAAC,MAA5H;AAAuI,UAAA,EAAE,EAAC;AAA1I;AAAA;AAAA;AAAA;AAAA,gBALA,eAMA;AAAO,UAAA,SAAS,EAAC,UAAjB;AAA4B,UAAA,OAAO,EAAC,MAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBANA,eAOA;AAAO,UAAA,cAAc,EAAEzD,CAAC,IAAE2D,kBAAkB,CAAC3D,CAAD,CAA5C;AAAiD,UAAA,IAAI,EAAC,MAAtD;AAA6D,UAAA,MAAM,MAAnE;AAAoE,UAAA,OAAO,EAAIyD,WAAW,KAAK,OAA/F;AAAyG,UAAA,IAAI,EAAC,OAA9G;AAAuH,UAAA,KAAK,EAAC,OAA7H;AAAyI,UAAA,EAAE,EAAC;AAA5I;AAAA;AAAA;AAAA;AAAA,gBAPA,eAQA;AAAO,UAAA,SAAS,EAAC,UAAjB;AAA4B,UAAA,OAAO,EAAC,OAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBARA,eASA;AAAO,UAAA,cAAc,EAAEzD,CAAC,IAAE2D,kBAAkB,CAAC3D,CAAD,CAA5C;AAAiD,UAAA,IAAI,EAAC,MAAtD;AAA6D,UAAA,MAAM,MAAnE;AAAoE,UAAA,OAAO,EAAIyD,WAAW,KAAK,OAA/F;AAAyG,UAAA,IAAI,EAAC,OAA9G;AAAuH,UAAA,KAAK,EAAC,OAA7H;AAAyI,UAAA,EAAE,EAAC;AAA5I;AAAA;AAAA;AAAA;AAAA,gBATA,eAUA;AAAO,UAAA,SAAS,EAAC,UAAjB;AAA4B,UAAA,OAAO,EAAC,OAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAVA,eAWA;AAAO,UAAA,cAAc,EAAEzD,CAAC,IAAE2D,kBAAkB,CAAC3D,CAAD,CAA5C;AAAiD,UAAA,IAAI,EAAC,MAAtD;AAA6D,UAAA,MAAM,MAAnE;AAAoE,UAAA,OAAO,EAAIyD,WAAW,KAAK,eAA/F;AAAgH,UAAA,IAAI,EAAC,OAArH;AAA8H,UAAA,KAAK,EAAC,eAApI;AAAwJ,UAAA,EAAE,EAAC;AAA3J;AAAA;AAAA;AAAA;AAAA,gBAXA,eAYA;AAAO,UAAA,SAAS,EAAC,UAAjB;AAA4B,UAAA,OAAO,EAAC,eAApC;AAAA,kCAAoD;AAAK,YAAA,GAAG,EAAE8C,WAAV;AAAuB,YAAA,KAAK,EAAI,EAAhC;AAAoC,YAAA,MAAM,EAAE,EAA5C;AAAgD,YAAA,KAAK,EAAE;AAACC,cAAAA,aAAa,EAAC;AAAf;AAAvD;AAAA;AAAA;AAAA;AAAA,kBAApD;AAAA;AAAA;AAAA;AAAA;AAAA,gBAZA,eAaA;AAAO,UAAA,cAAc,EAAExG,CAAC,IAAE2D,kBAAkB,CAAC3D,CAAD,CAA5C;AAAiD,UAAA,IAAI,EAAC,MAAtD;AAA6D,UAAA,MAAM,MAAnE;AAAoE,UAAA,OAAO,EAAIyD,WAAW,KAAK,gBAA/F;AAAiH,UAAA,IAAI,EAAC,OAAtH;AAA+H,UAAA,KAAK,EAAC,gBAArI;AAA0J,UAAA,EAAE,EAAC;AAA7J;AAAA;AAAA;AAAA;AAAA,gBAbA,eAcA;AAAO,UAAA,SAAS,EAAC,UAAjB;AAA4B,UAAA,OAAO,EAAC,gBAApC;AAAA,kCAAqD;AAAK,YAAA,GAAG,EAAEgD,UAAV;AAAsB,YAAA,KAAK,EAAI,EAA/B;AAAmC,YAAA,MAAM,EAAE,EAA3C;AAA+C,YAAA,KAAK,EAAE;AAACD,cAAAA,aAAa,EAAC;AAAf;AAAtD;AAAA;AAAA;AAAA;AAAA,kBAArD;AAAA;AAAA;AAAA;AAAA;AAAA,gBAdA,eAeA;AAAO,UAAA,cAAc,EAAExG,CAAC,IAAE2D,kBAAkB,CAAC3D,CAAD,CAA5C;AAAiD,UAAA,IAAI,EAAC,MAAtD;AAA6D,UAAA,MAAM,MAAnE;AAAoE,UAAA,OAAO,EAAIyD,WAAW,KAAK,OAA/F;AAAwG,UAAA,IAAI,EAAC,OAA7G;AAAsH,UAAA,KAAK,EAAC,OAA5H;AAAwI,UAAA,EAAE,EAAC;AAA3I;AAAA;AAAA;AAAA;AAAA,gBAfA,eAgBA;AAAO,UAAA,SAAS,EAAC,UAAjB;AAA4B,UAAA,OAAO,EAAC,OAApC;AAAA,kCAA4C;AAAK,YAAA,GAAG,EAAEiD,YAAV;AAAwB,YAAA,KAAK,EAAI,EAAjC;AAAqC,YAAA,MAAM,EAAE,EAA7C;AAAiD,YAAA,KAAK,EAAE;AAACF,cAAAA,aAAa,EAAC;AAAf;AAAxD;AAAA;AAAA;AAAA;AAAA,kBAA5C;AAAA;AAAA;AAAA;AAAA;AAAA,gBAhBA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YARJ,eA8BI;AAAM,MAAA,MAAM,EAAC,qBAAb;AAAmC,MAAA,EAAE,EAAC,YAAtC;AAAmD,MAAA,GAAG,EAAIhH,EAAE,IAAExB,GAAG,CAACmB,OAAJ,CAAY,YAAZ,IAA0BK,EAAxF;AAA4F,MAAA,IAAI,EAAC,IAAjG;AAAsG,MAAA,IAAI,EAAC,IAA3G;AAAiH,MAAA,QAAQ,EAAGQ,CAAC,IAAEkE,WAAW,CAAClE,CAAD,CAA1I;AAAA,8BACI;AAAM,QAAA,GAAG,EAAIR,EAAE,IAAIxB,GAAG,CAACmB,OAAJ,CAAY,UAAZ,IAAwBK,EAA3C;AAA+C,QAAA,eAAe,EAAG,OAAjE;AAAyE,QAAA,SAAS,EAAC,UAAnF;AAAA,kBAA+FiE;AAA/F;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAK,QAAA,GAAG,EAAIjE,EAAE,IAAIxB,GAAG,CAACmB,OAAJ,CAAY,UAAZ,IAAyBK,EAA3C;AAAgD,QAAA,SAAS,EAAC,UAA1D;AAAoE,QAAA,eAAe,EAAI0D;AAAvF;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI;AAAO,QAAA,IAAI,EAAC,QAAZ;AAAqB,QAAA,SAAS,EAAC,aAA/B;AAA6C,QAAA,GAAG,EAAI1D,EAAE,IAAIxB,GAAG,CAACmB,OAAJ,CAAY,aAAZ,IAA2BK,EAArF;AAAyF,QAAA,KAAK,EAAC;AAA/F;AAAA;AAAA;AAAA;AAAA,cAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,YA9BJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAuCH,CAhRD;;IAAIyD,Y;UAuKgBhG,U;;;MAvKhBgG,Y;;AAkRJ,MAAM0D,SAAS,GAAG9I,KAAK,IAAE;AACrB,MAAIwG,OAAO,GAAGuC,MAAM,CAACC,MAAM,CAACC,IAAP,CAAYjJ,KAAK,CAACuC,IAAlB,EAAwB,CAAxB,CAAD,CAApB;AACA,MAAIA,IAAJ;;AACA,MAAIiE,OAAO,KAAK,SAAhB,EAA0B;AACtBjE,IAAAA,IAAI,gBAAG;AAAG,MAAA,SAAS,EAAG,IAAf;AAAA,gBAAqBvC,KAAK,CAACuC,IAAN,CAAWiE,OAAX;AAArB;AAAA;AAAA;AAAA;AAAA,YAAP;AACH,GAFD,MAEM,IAAIA,OAAO,KAAK,WAAhB,EAA4B;AAC9BjE,IAAAA,IAAI,gBAAI;AAAA,gBAAK,GAAEvC,KAAK,CAACuC,IAAN,CAAWiE,OAAX,CAAoB;AAA3B;AAAA;AAAA;AAAA;AAAA,YAAR;AACH,GAFK,MAGD,IAAIA,OAAO,KAAK,MAAhB,EAAuB;AACxBjE,IAAAA,IAAI,gBAAI;AAAA,gBACHvC,KAAK,CAACuC,IAAN,CAAWiE,OAAX,EAAoBhC,GAApB,CAAwBC,IAAI,iBAAG;AAAA,kBAAKA;AAAL;AAAA;AAAA;AAAA;AAAA,cAA/B;AADG;AAAA;AAAA;AAAA;AAAA,YAAR;AAIH,GALI,MAKC,IAAG+B,OAAO,KAAI,OAAd,EAAsB;AACxB,QAAIxB,GAAG,GAAGpE,GAAG,CAACC,eAAJ,CAAoBb,KAAK,CAACuC,IAAN,CAAWiE,OAAX,CAApB,CAAV;AACAjE,IAAAA,IAAI,gBAAG;AAAK,MAAA,GAAG,EAAIyC,GAAZ;AAAiB,MAAA,MAAM,EAAE,GAAzB;AAA8B,MAAA,KAAK,EAAE,GAArC;AAA2C,MAAA,KAAK,EAAE;AAACkE,QAAAA,SAAS,EAAC,kCAAX;AAA+CC,QAAAA,YAAY,EAAG,KAA9D;AAAqEC,QAAAA,QAAQ,EAAC,KAA9E;AAAoFtH,QAAAA,WAAW,EAAC;AAAhG;AAAlD;AAAA;AAAA;AAAA;AAAA,YAAP;AACH,GAHK,MAGA,IAAG0E,OAAO,KAAI,OAAd,EAAsB;AACxB,QAAIxB,GAAG,GAAGpE,GAAG,CAACC,eAAJ,CAAoBb,KAAK,CAACuC,IAAN,CAAWiE,OAAX,CAApB,CAAV;AACAjE,IAAAA,IAAI,gBAAG;AAAO,MAAA,GAAG,EAAIyC,GAAd;AAAoB,MAAA,QAAQ,MAA5B;AAA6B,MAAA,KAAK,EAAE;AAACkE,QAAAA,SAAS,EAAC,kCAAX;AAA+CC,QAAAA,YAAY,EAAG,KAA9D;AAAsEC,QAAAA,QAAQ,EAAC,KAA/E;AAAsFtH,QAAAA,WAAW,EAAC,QAAlG;AAA4GuH,QAAAA,MAAM,EAAC;AAAnH;AAApC;AAAA;AAAA;AAAA;AAAA,YAAP;AACH,GAHK,MAGA,IAAG7C,OAAO,KAAK,eAAf,EAA+B;AACjCjE,IAAAA,IAAI,gBAAI;AAAS,MAAA,GAAG,EAAG,iCAAgCvC,KAAK,CAACuC,IAAN,CAAWiE,OAAX,CAAoB,EAAnE;AACR,MAAA,KAAK,EAAC,sBADE;AACqB,MAAA,WAAW,EAAC,GADjC;AACqC,MAAA,KAAK,EAAE;AAAC0C,QAAAA,SAAS,EAAC,kCAAX;AAA8CI,QAAAA,KAAK,EAAE,MAArD;AAA4Dd,QAAAA,MAAM,EAAC,MAAnE;AAA2EW,QAAAA,YAAY,EAAG,KAA1F;AAAiGrH,QAAAA,WAAW,EAAC;AAA7G,OAD5C;AAER,MAAA,KAAK,EAAC,0FAFE;AAGR,MAAA,eAAe;AAHP;AAAA;AAAA;AAAA;AAAA,YAAR;AAIH,GALK,MAKA,IAAG0E,OAAO,KAAK,gBAAf,EAAgC;AAClCjE,IAAAA,IAAI,gBAAI;AAAQ,MAAA,GAAG,EAAG,+BAA8BvC,KAAK,CAACuC,IAAN,CAAWiE,OAAX,CAAoB,yCAAhE;AACR,MAAA,KAAK,EAAC,gBADE;AAER,MAAA,KAAK,EAAE;AAAC0C,QAAAA,SAAS,EAAC,kCAAX;AACPI,QAAAA,KAAK,EAAE,MADA;AACOF,QAAAA,QAAQ,EAAE,OADjB;AACyBG,QAAAA,QAAQ,EAAC,OADlC;AAEPf,QAAAA,MAAM,EAAC,MAFA;AAEQgB,QAAAA,SAAS,EAAC,OAFlB;AAGPL,QAAAA,YAAY,EAAG,KAHR;AAGerH,QAAAA,WAAW,EAAC;AAH3B,OAFC;AAMR,MAAA,MAAM,EAAC,KANC;AAMK,MAAA,WAAW,EAAC,GANjB;AAMqB,MAAA,SAAS,EAAC,KAN/B;AAMqC,MAAA,iBAAiB,EAAC;AANvD;AAAA;AAAA;AAAA;AAAA,YAAR;AAOH,GARK,MAQA,IAAG0E,OAAO,KAAK,OAAf,EAAuB;AACzBjE,IAAAA,IAAI,gBAAI;AAAQ,MAAA,GAAG,EAAG,kCAAiCvC,KAAK,CAACuC,IAAN,CAAWiE,OAAX,CAAoB,EAAnE;AACR,MAAA,KAAK,EAAC,gBADE;AAER,MAAA,KAAK,EAAE;AAAC0C,QAAAA,SAAS,EAAC,kCAAX;AACPI,QAAAA,KAAK,EAAE,MADA;AACOF,QAAAA,QAAQ,EAAE,OADjB;AACyBG,QAAAA,QAAQ,EAAC,OADlC;AAEPf,QAAAA,MAAM,EAAC,MAFA;AAGPW,QAAAA,YAAY,EAAG,KAHR;AAGerH,QAAAA,WAAW,EAAC;AAH3B,OAFC;AAMR,MAAA,MAAM,EAAC,KANC;AAMK,MAAA,WAAW,EAAC,GANjB;AAMqB,MAAA,SAAS,EAAC,KAN/B;AAMqC,MAAA,iBAAiB,EAAC;AANvD;AAAA;AAAA;AAAA;AAAA,YAAR;AAOH;;AACD,sBACI;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA,4BACI;AAAA,gBAAM,GAAE0E,OAAQ;AAAhB;AAAA;AAAA;AAAA;AAAA,YADJ,eAEC;AAAK,MAAA,GAAG,EAAEiD,OAAV;AAAmB,MAAA,KAAK,EAAI,EAA5B;AAAgC,MAAA,MAAM,EAAG,EAAzC;AAA6C,MAAA,OAAO,EAAE,MAAIzJ,KAAK,CAAC0J,EAAN,CAAS1J,KAAK,CAACqI,KAAf,CAA1D;AAAiF,MAAA,KAAK,EAAI;AAACzG,QAAAA,QAAQ,EAAC,KAAV;AAAiBC,QAAAA,SAAS,EAAC,QAA3B;AAAsCC,QAAAA,WAAW,EAAE;AAAnD;AAA1F;AAAA;AAAA;AAAA;AAAA,YAFD,eAGI;AAAM,MAAA,SAAS,EAAC,gBAAhB;AAAA,gBAAkCS;AAAlC;AAAA;AAAA;AAAA;AAAA,YAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAOH,CAhDD;;MAAMuG,S","sourcesContent":["import React ,{useEffect ,useContext , useState, useCallback, useMemo, useRef, useLayoutEffect} from 'react'\r\nimport { useHistory, useRouteMatch  } from 'react-router'\r\nimport { CacheSwitch as Switch , CacheRoute as Route  } from 'react-router-cache-route'\r\nimport { Login_context } from '../App'\r\nimport './statics/css/appUploadBlog.css'\r\nimport $ from \"jquery\"\r\nimport preview_image from './statics/images/preview.svg'\r\nimport editor_image from './statics/images/editor.svg'\r\nimport youtubeLogo from './statics/images/youtubeLogo.svg'\r\nimport insta_logo from './statics/images/instagram.svg'\r\nimport twitter_logo from './statics/images/twitter.svg'\r\nimport popComp from './statics/images/popComp.svg'\r\nimport appConfig from './statics/appConfig.json'\r\nimport { logout } from './statics/utils'\r\n\r\n\r\nvar final_data = {}\r\n\r\nvar AppUploadBlog = props=>{\r\n    var login_context  = useContext(Login_context)\r\n    const history  = useHistory()\r\n    const ref = useRef({})\r\n\r\n    const [upload_blog_state , set_upload_blog_state] = useState('blog')\r\n    \r\n    \r\n    const change_image = useCallback(event=>{\r\n        let target = $('#label_image')\r\n        if (event.target.files != []){\r\n        let image_file = event.target.files[0]\r\n        \r\n        let image_url = URL.createObjectURL(image_file)\r\n        let image_span = $('#image_span')\r\n        image_span.css({\r\n            'backgroundImage':`url(${image_url})`,\r\n            backgroundSize:'contain',\r\n            backgroundPosition : 'center',\r\n            backdropFilter:'blur(3px)',\r\n            'borderRadius':'20px',\r\n           \r\n        })\r\n        target.css({'backgroundImage': `url(${image_url})`})\r\n        final_data['blog_title_image']=image_file\r\n    }else\r\n        target.css({'borderRadius':'20px',\r\n           'backgroundSize' :'cover',\r\n           \"boxShadow\": \"0px 1px 7px 3px #1976d2\"\r\n        })        \r\n    },[])\r\n\r\n    const forward_to_editor = useCallback((event)=>{\r\n        event.preventDefault()\r\n        final_data.title = ref.current['blog_title'].value\r\n        final_data.discription = ref.current['blog_discription'].value\r\n        set_upload_blog_state('blog_editor')\r\n        history.push(\"/UploadBlog/editor\")\r\n    })\r\n    \r\n    const blog_info = useMemo(()=>(\r\n        <form className=\"blog_info\" action='javascript:void(0);' onSubmit = {event=>forward_to_editor(event)}>\r\n            <div className=\"blog_info_child\">\r\n            <h1 align = \"center\">Blog Information </h1>\r\n            <label htmlFor=\"blog_title\" id = \"label_title\">Title</label>\r\n            <input type=\"text\" autoFocus placeholder = \"Title\" autoComplete=\"off\" spellCheck=\"true\" autoCapitalize=\"words\"  id = \"blog_title\" maxLength={100} ref= {el =>ref.current['blog_title']=el} required />\r\n\r\n            <label htmlFor=\"blog_discription\" id = \"label_discription\">Discription</label>\r\n            <textarea type=\"text\" autoComplete=\"off\" spellCheck=\"true\" autoCapitalize=\"sentences\" id=\"blog_discription\" placeholder=\"Discription\" maxLength={200} ref= {el =>ref.current['blog_discription']=el} />\r\n\r\n            <span id=\"span_label\" style = {{gridArea:\"image\",alignSelf:\"center\",justifySelf:\"center\" ,display:\"grid\"}}><label htmlFor=\"blog_image\" id = \"label_image\" ><span id = \"image_span\"></span></label></span>\r\n            <input type=\"file\" id = \"blog_image\" accept=\"image/*\" onChange={change_image} hidden />\r\n\r\n            <input type=\"submit\"  value=\"Next\" id = \"submit\" />\r\n            </div>\r\n\r\n        </form>\r\n    ),[upload_blog_state, change_image,forward_to_editor])\r\n\r\n    const [editor_state,set_editor_state] = useState('editor')\r\n\r\n    let set_to_editor= e=>{\r\n        set_editor_state(e.target.value)\r\n    }\r\n    useEffect(()=>{\r\n        if (editor_state===\"editor\"){\r\n            history.push(\"/UploadBlog/editor\")\r\n            set_editor_state(\"editor\")\r\n        }else if (editor_state === \"preview\"){\r\n            history.push(\"/UploadBlog/preview\")\r\n            set_editor_state(\"preview\")\r\n        }\r\n    },[editor_state])\r\n\r\n    const[blog , set_blog] = useState([])\r\n    const set_myblog = useCallback(data=>set_blog(data))\r\n\r\n    const blog_editor = useMemo(()=>(\r\n        <div className=\"editor\">\r\n            <Editor_tabs change_state = {set_to_editor} editor_state = {editor_state} />\r\n\r\n            <Switch>\r\n                <Route exact path = \"/UploadBlog/editor\">\r\n                    <Editing_pane appbodyloading = {state =>props.appbodyloading(state)} blog = {set_myblog} />\r\n                </Route>\r\n                <Route exact path=\"/UploadBlog/preview\">\r\n                    <Preview_tab list = {blog} appbodyloading={state =>props.appbodyloading(state)} />\r\n                </Route>\r\n            </Switch>\r\n        </div>\r\n    ))\r\n    \r\n    useEffect(()=>{\r\n        final_data['blog_title_image']=\"\"\r\n        if (!Boolean(login_context) || !Boolean(sessionStorage.session)){\r\n            history.push('/Login')\r\n            return null\r\n        }\r\n    },[login_context,sessionStorage])\r\n\r\n    \r\n    useEffect(()=>{\r\n        window.onbeforeunload=e=>{\r\n            console.log(e)\r\n            return \"Changes will not be saved!!!\"\r\n        }\r\n\r\n        return ()=>window.onbeforeunload =e=>null\r\n    },[])\r\n    return(\r\n        <div className=\"blog_upload_page\">\r\n            {upload_blog_state === 'blog'? blog_info : null}\r\n            {upload_blog_state === 'blog_editor'?blog_editor:null}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default  AppUploadBlog;\r\n\r\nvar Preview_tab =props =>{\r\n    const history = useHistory()\r\n    const [data_list, set_data_list] = useState([])\r\n    var context = useContext(Login_context)\r\n    useEffect(()=>{\r\n        if (props.list && sessionStorage.session === context && (Boolean(sessionStorage.session) && Boolean(context))){\r\n        console.log(props.list)\r\n        props.appbodyloading('flex')\r\n        let xhr = new XMLHttpRequest()\r\n        xhr.open(\"POST\" , appConfig.origin+\"backend_api/blogPreview\")\r\n        xhr.onreadystatechange =()=>{\r\n            if (xhr.readyState === 4 && xhr.status === 200){\r\n                let response = JSON.parse(xhr.response)\r\n                switch (response.status) {\r\n                    case \"success\":\r\n                        set_data_list(response.hydratedBlog)\r\n                        console.log(\"data_list:\",data_list)\r\n                        props.appbodyloading('none')\r\n                        break;\r\n                    case \"loginRequired\":\r\n                        history.push(\"/Login\")\r\n                        console.log(\"backend_api/blogPreview\" ,response)\r\n                        logout()\r\n                        props.appbodyloading('none')\r\n                        break\r\n                    default:\r\n                        console.log(response.status)\r\n                        props.appbodyloading('none')\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n        xhr.setRequestHeader(\"session\" , context)\r\n        xhr.setRequestHeader(\"contentType\" , \"application/json;charset=utf-8\")\r\n        let formdata = new FormData()\r\n        formdata.append('blog' , JSON.stringify(props.list))\r\n        xhr.send(formdata)}\r\n    },[props.list,context])\r\n    return(\r\n        <div className=\"showpreview\">\r\n            <Blog>\r\n                {data_list.map(item=>(<div className=\"container_data\" dangerouslySetInnerHTML = {{__html: item}}></div>))}\r\n            </Blog>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Blog =props=>{\r\n    return(<div className=\"blog_preview\">\r\n        {props.children}\r\n    </div>)\r\n}\r\n\r\nexport {Blog}\r\n\r\n\r\nvar Editor_tabs= props =>{\r\n    const ref = useRef({})\r\n    useEffect(()=>{\r\n        ref.current[props.editor_state].click()\r\n    },[props.editor_state])\r\n    const {path , url} = useRouteMatch()\r\n\r\n    useEffect(()=>{\r\n        if (path === \"/UploadBlog/editor\"){\r\n            props.change_state(\"editor\")\r\n        }else if (path === \"/UploadBlog/preview\"){\r\n            props.change_state(\"preview\")\r\n        }\r\n    },[])\r\n    return(\r\n        <div className=\"tabs\">\r\n            <input ref = {el=>ref.current['editor']=el} type=\"radio\" name=\"tabs\" id=\"editer_radio\" value={\"editor\"} onInput= {(e)=>props.change_state(e)} hidden   defaultChecked />\r\n            <label htmlFor=\"editer_radio\" id = \"label_editor\" ><img src = {editor_image}  className = \"label_ico\" />Editor</label>\r\n            <input ref = {el=>ref.current['preview']=el} type=\"radio\" name=\"tabs\" id=\"preview_radio\" value= \"preview\" onInput= {(e)=>props.change_state(e)} hidden   />\r\n            <label htmlFor= \"preview_radio\" id = \"label_preview\" ><img src = {preview_image}  className = \"label_ico\" />Preview</label>\r\n        </div>\r\n        )\r\n}\r\n\r\nvar Editing_pane = props =>{\r\n    const ref = useRef({})\r\n    const [edit_state , set_edit_state ] = useState(true)\r\n\r\n    const mq = window.matchMedia(\"(max-width : 767px)\") \r\n\r\n    const switch_comp = useCallback(()=>{\r\n        let display = ref.current['components'].style.display\r\n        if (mq.matches){\r\n            if (display === \"none\" || display === \"\"){\r\n                ref.current['components'].style.display = \"flex\"\r\n            }else{\r\n                ref.current['components'].style.display = \"\"\r\n            }\r\n        }else{\r\n            ref.current['components'].style.display = \"flex\"\r\n        }\r\n\r\n    },[mq])\r\n\r\n    const [input_state , set_input_state] = useState(\"Heading\")\r\n\r\n    function change_input_state(event){\r\n        set_input_state(event.target.value)\r\n        ref.current['maintext'].focus()\r\n    }\r\n\r\n    useEffect(()=>{\r\n        ref.current['maintext'].innerHTML = \"\"\r\n        if (input_state === \"Photo\" || input_state === \"Video\"||input_state === \"Youtube Video\" ){\r\n            set_edit_state(false)\r\n            ref.current['maintext'].classList.remove(\"bullet_list\")\r\n\r\n        }else if(input_state === \"List\"){\r\n            set_edit_state(true)\r\n            ref.current['maintext'].classList.add(\"bullet_list\")\r\n        }        \r\n        else{\r\n            set_edit_state(true)\r\n        ref.current['maintext'].classList.remove(\"bullet_list\")\r\n        }\r\n\r\n        let widget ;\r\n\r\n\r\n        switch (input_state) {\r\n            case \"Video\":\r\n                widget = (`<input type= \"file\" accept =\"video/*\" id = \"videofile\" hidden  required />\r\n                           <label  for = \"videofile\">Video</label> `)\r\n                set_edit_state(false)\r\n                break;\r\n            case \"Photo\":\r\n                widget = (`<input type= \"file\" accept =\"image/*\" id = \"photofile\" hidden required />\r\n                           <label  for = \"photofile\">Photo</label> `)\r\n                set_edit_state(false)\r\n                break;\r\n            case \"Youtube Video\":\r\n                widget = (` <label  for = \"videolink\" style = \"border:none;padding:0;\">video Link</label> \r\n                            <input  style=\"    height: 20px;\r\n                            width: 90%;\r\n                            margin: 0;\r\n                            place-self: center;\r\n                            padding: 0;\r\n                            border-color: blueviolet;\r\n                            border-radius: 5px\"  type= \"url\" id = \"videolink\" required  />`)\r\n                set_edit_state(false)\r\n                break;\r\n            case \"Instagram Post\":\r\n                widget= (` <label  for = \"instalink\" style = \"border:none;padding:0;\">Post Link</label> \r\n                <input  style=\"    height: 20px;\r\n                width: 90%;\r\n                margin: 0;\r\n                place-self: center;\r\n                padding: 0;\r\n                border-color: blueviolet;\r\n                border-radius: 5px\"  type= \"url\" id = \"instalink\" required  />`)\r\n                set_edit_state(false)\r\n                break;      \r\n            case \"Tweet\":\r\n                widget= (` <label  for = \"tweetlink\" style = \"border:none;padding:0;\">Post Link</label> \r\n                <input  style=\"    height: 20px;\r\n                width: 90%;\r\n                margin: 0;\r\n                place-self: center;\r\n                padding: 0;\r\n                border-color: blueviolet;\r\n                border-radius: 5px\"  type= \"url\" id = \"tweetlink\" required  />`)\r\n                set_edit_state(false)\r\n                break;  \r\n            default:\r\n                widget=\"\"\r\n                    set_edit_state(true)\r\n                    break;\r\n        }\r\n        ref.current['maintext'].innerHTML = widget\r\n\r\n    }, [input_state])\r\n\r\n    const [blog , set_blog] = useState([])\r\n    useEffect(()=>props.blog([]),[])\r\n\r\n    const data_submit = e=>{\r\n        e.preventDefault()\r\n        e.nativeEvent.stopImmediatePropagation();\r\n        if (input_state === \"Heading\"){\r\n            let heading = ref.current['maintext'].innerText\r\n            set_blog([...blog,{\"Heading\" : heading}])\r\n            props.blog([...blog,{\"Heading\" : heading}])\r\n            ref.current['maintext'].innerText = \"\"\r\n        }else if (input_state === \"Paragraph\"){\r\n            let para = ref.current['maintext'].innerText\r\n            set_blog([...blog,{\"Paragraph\" : para}])\r\n            props.blog([...blog,{\"Paragraph\" : para}])\r\n            ref.current['maintext'].innerText = \"\"\r\n        }else if (input_state === \"List\"){\r\n            let list = ref.current['maintext'].innerText\r\n            list = list.split(\"\\n\").filter(i=>i?i:null)\r\n            set_blog([...blog,{\"List\":list}])\r\n            props.blog([...blog,{\"List\":list}])\r\n            ref.current['maintext'].innerText = \"\"\r\n        }else if (input_state === \"Photo\"){\r\n            let photofile = e.target[0].files[0]\r\n            if (photofile.size >= 10485760){\r\n                alert(\"**File size must be under 10MB**\")\r\n                e.target[0].setCustomValidity(\"Choose another Photo\")\r\n                e.target[0].files.value  = \"\"\r\n            }\r\n            else{\r\n            set_blog([...blog,{ \"Photo\": photofile , \"name\" : photofile.name}])\r\n            props.blog([...blog,{ \"Photo\": photofile , \"name\" : photofile.name}])\r\n            }\r\n        }else if  (input_state === \"Video\" ){\r\n            let videofile = e.target[0].files[0]\r\n            if (videofile.size >= 10485760){\r\n                alert(\"**File size must be under 10MB**\")\r\n                e.target[0].setCustomValidity(\"Choose another Video\")\r\n                e.target[0].files.value  = \"\"\r\n            }\r\n            else{\r\n            set_blog([...blog,{ \"Video\": videofile, \"name\" : videofile.name}])\r\n            props.blog([...blog,{ \"Video\": videofile, \"name\" : videofile.name}])\r\n            }\r\n        }\r\n        else if (input_state === \"Youtube Video\"){\r\n            let url = e.target[0].value.split(\"?\")[0]\r\n            let pathList = url.split('/').filter(a=>a?a:null)\r\n            let temp_id = pathList[pathList.length - 1].split(\"=\")\r\n            let id = temp_id[temp_id.length - 1]\r\n            set_blog([...blog,{\"Youtube Video\": id}])\r\n            props.blog([...blog,{\"Youtube Video\": id}])\r\n            e.target[0].value = \"\"\r\n        }else if (input_state === \"Instagram Post\"){\r\n            let url = e.target[0].value.split(\"?\")[0]\r\n            let pathList = url.split('/').filter(a=>a?a:null)\r\n            let id = pathList[pathList.length - 1]\r\n            set_blog([...blog,{\"Instagram Post\": id}])\r\n            props.blog([...blog,{\"Instagram Post\": id}])\r\n            e.target[0].value = \"\"\r\n        }else if (input_state === \"Tweet\"){\r\n            let url = e.target[0].value.split(\"?\")[0]\r\n            set_blog([...blog,{\"Tweet\": url}])\r\n            props.blog([...blog,{\"Tweet\": url}])\r\n            e.target[0].value = \"\"\r\n        }\r\n        final_data.blog = blog\r\n    }\r\n    var login_context = useContext(Login_context)\r\n    const history = useHistory()\r\n    const submit_data  = useCallback(()=>{\r\n        final_data.blog = blog\r\n        console.log(final_data)\r\n        props.appbodyloading('flex')\r\n        if (login_context === sessionStorage.session && (Boolean(sessionStorage.session) || Boolean(login_context))){\r\n            let login_data = JSON.parse(sessionStorage.login_data)\r\n            let xhr = new XMLHttpRequest()\r\n            let blog_details = JSON.stringify(final_data)\r\n            xhr.open(\"POST\" , `${appConfig.origin}backend_api/uploadBlog`)\r\n            xhr.onreadystatechange = ()=>{\r\n                if (xhr.readyState === 4 && xhr.status === 200){\r\n                    let response =JSON.parse( xhr.response)\r\n                    switch (response.status) {\r\n                        case \"loginRequired\":\r\n                            history.push('/Login')\r\n                            props.appbodyloading('none')\r\n                            break;\r\n                        case \"fail\":\r\n                            history.push('/Error')\r\n                            props.appbodyloading('none')\r\n                            break;\r\n                        case \"success\":\r\n                            history.push('/Home')\r\n                            props.appbodyloading('none')\r\n                            break;\r\n                        default:\r\n                            console.log(response.status);\r\n                    }\r\n                }\r\n            }\r\n            xhr.onerror=()=>{\r\n                alert(\"Connection Too Slow!!! /n or Try less video and photos /n Hint:Use Youtube for videos!!\")\r\n                props.appbodyloading('none')\r\n            }\r\n            let formdata = new FormData()\r\n            for (var i = 0; i < final_data.blog.length;i++ ){\r\n                let el = final_data.blog[i]\r\n                if (el.Photo){\r\n                    formdata.append(el.name , el.Photo)\r\n                }else if(el.Video){\r\n                    formdata.append(el.name , el.Video)\r\n                }\r\n            }\r\n            if (final_data.blog_title_image){\r\n                formdata.append('blog_title_image' , final_data.blog_title_image)\r\n            }\r\n            xhr.setRequestHeader(\"session\" , login_context)\r\n            xhr.setRequestHeader(\"logindata\" , login_data)\r\n            formdata.append(\"blogDetails\" , blog_details)\r\n            xhr.send(formdata)\r\n        }\r\n    },[blog,login_context])\r\n    \r\n    function rmcomp(i){\r\n        let b = blog\r\n        b.splice(i, 1)\r\n        console.log(\"b-\",b)\r\n        set_blog([...b])\r\n        props.blog([...b])\r\n    }\r\n\r\n    useEffect(()=>{\r\n        ref.current['editing'].scrollTo(0,ref.current['editing'].scrollHeight )\r\n    },[blog])\r\n\r\n    return (\r\n        <div className=\"editing_pane\">\r\n            <div className=\"editing\" ref ={el=>ref.current['editing']=el}>\r\n                <button className = \"upload\" onClick ={submit_data}  >Upload</button>\r\n                <button className = \"addComponents\" onClick = {switch_comp} ></button>\r\n\r\n                {blog.map((value , index, arr)=>{return (<Blog_part data = {value} index={index} key= {index} arr= {arr} rm = {rmcomp} />)})}\r\n\r\n            </div>\r\n            <div className=\"components\" ref = {el=>ref.current['components']=el}>\r\n                <h6 align = \"center\" className=\"heading\">Components</h6>\r\n                <div style = {{display:'flex',flexDirection:'column',height:'100%',overflow:'auto'}}>\r\n                <input onClickCapture={e=>change_input_state(e)} name=\"comp\" hidden checked = {input_state === \"Heading\" } type=\"radio\"  value=\"Heading\"     id=\"Heading\"    defaultChecked/>\r\n                <label className=\"complist\" htmlFor=\"Heading\">Heading</label>\r\n                <input onClickCapture={e=>change_input_state(e)} name=\"comp\" hidden checked = {input_state === \"Paragraph\" } type=\"radio\"  value=\"Paragraph\"     id=\"Paragraph\"    />\r\n                <label className=\"complist\" htmlFor=\"Paragraph\">Paragraph</label>\r\n                <input onClickCapture={e=>change_input_state(e)} name=\"comp\" hidden checked = {input_state === \"List\" } type=\"radio\"  value=\"List\"     id=\"List\"    />\r\n                <label className=\"complist\" htmlFor=\"List\">List</label>\r\n                <input onClickCapture={e=>change_input_state(e)} name=\"comp\" hidden checked = {input_state === \"Photo\" } type=\"radio\"  value=\"Photo\"     id=\"Photo\"    />\r\n                <label className=\"complist\" htmlFor=\"Photo\">Photo</label>\r\n                <input onClickCapture={e=>change_input_state(e)} name=\"comp\" hidden checked = {input_state === \"Video\" } type=\"radio\"  value=\"Video\"     id=\"Video\"    />\r\n                <label className=\"complist\" htmlFor=\"Video\">Video</label>\r\n                <input onClickCapture={e=>change_input_state(e)} name=\"comp\" hidden checked = {input_state === \"Youtube Video\"} type=\"radio\"  value=\"Youtube Video\"     id=\"Youtube Video\"    />\r\n                <label className=\"complist\" htmlFor=\"Youtube Video\"><img src={youtubeLogo} width = {30} height={30} style={{verticalAlign:\"middle\"}} />Youtube Video</label>\r\n                <input onClickCapture={e=>change_input_state(e)} name=\"comp\" hidden checked = {input_state === \"Instagram Post\"} type=\"radio\"  value=\"Instagram Post\"     id=\"Instagram Post\"    />\r\n                <label className=\"complist\" htmlFor=\"Instagram Post\"><img src={insta_logo} width = {30} height={30} style={{verticalAlign:\"middle\"}} /> Insta Post</label>\r\n                <input onClickCapture={e=>change_input_state(e)} name=\"comp\" hidden checked = {input_state === \"Tweet\"} type=\"radio\"  value=\"Tweet\"     id=\"Tweet\"    />\r\n                <label className=\"complist\" htmlFor=\"Tweet\"><img src={twitter_logo} width = {30} height={30} style={{verticalAlign:\"middle\"}} /> Tweet</label>\r\n                </div>\r\n            </div>\r\n\r\n            <form action=\"javascript:void(0);\" id=\"text_input\" ref = {el=>ref.current[\"text_input\"]=el} cols=\"30\" rows=\"10\"  onSubmit= {e=>data_submit(e)} >\r\n                <span ref = {el => ref.current['comp_tag']=el} contentEditable = \"false\" className=\"comp_tag\">{input_state}</span>\r\n                <div ref = {el => ref.current['maintext']= el}  className=\"maintext\"contentEditable = {edit_state}></div>\r\n                <input type=\"submit\" className=\"insert_comp\" ref = {el => ref.current['insert_comp']=el} value=\"\" />\r\n            </form >\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Blog_part = props=>{\r\n    let heading = String(Object.keys(props.data)[0])\r\n    let data\r\n    if (heading === \"Heading\"){\r\n        data =(<p className = \"h5\">{props.data[heading]}</p>) \r\n    }else if (heading === \"Paragraph\"){\r\n        data = (<p>{`${props.data[heading]}`}</p>)\r\n    }\r\n    else if (heading === \"List\"){\r\n        data = (<ul>\r\n            {props.data[heading].map(item=>(<li>{item}</li>))}\r\n            </ul>\r\n            )\r\n    }else if(heading ===\"Photo\"){\r\n        let url = URL.createObjectURL(props.data[heading])\r\n        data =(<img src = {url} height={200} width={400}  style={{boxShadow:\"rgb(0 0 0 / 20%) 0px 0px 5px 3px\", borderRadius : \"5px\", maxWidth:\"95%\",justifySelf:\"center\"}  } />)\r\n    }else if(heading ===\"Video\"){\r\n        let url = URL.createObjectURL(props.data[heading])\r\n        data =(<video src = {url}  controls style={{boxShadow:\"rgb(0 0 0 / 20%) 0px 0px 5px 3px\", borderRadius : \"5px\" , maxWidth:\"95%\" ,justifySelf:\"center\" ,zIndex:\"-1\" }} />)\r\n    }else if(heading === \"Youtube Video\"){\r\n        data = (<iframe  src={`https://www.youtube.com/embed/${props.data[heading]}`}\r\n        title=\"YouTube video player\" frameborder=\"0\" style={{boxShadow:\"rgb(0 0 0 / 20%) 0px 0px 5px 3px\",width :\"auto\",height:\"auto\", borderRadius : \"5px\" ,justifySelf:\"center\"}}\r\n        allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" \r\n        allowfullscreen></iframe>)\r\n    }else if(heading === \"Instagram Post\"){\r\n        data = (<iframe src={`https://www.instagram.com/p/${props.data[heading]}/embed?utm_source=ig_web_copy_linkembed`} \r\n        title=\"Instagram Post\"\r\n        style={{boxShadow:\"rgb(0 0 0 / 20%) 0px 0px 5px 3px\",\r\n        width :\"100%\",maxWidth :\"500px\",minWidth:\"250px\",\r\n        height:\"80vh\", maxHeight:'700px',\r\n        borderRadius : \"5px\" ,justifySelf:\"center\"}}\r\n        height=\"600\" frameborder=\"0\" scrolling=\"yes\" allowtransparency=\"true\"></iframe>)\r\n    }else if(heading === \"Tweet\"){\r\n        data = (<iframe src={`https://twitframe.com/show?url=${props.data[heading]}`}\r\n        title=\"Instagram Post\"\r\n        style={{boxShadow:\"rgb(0 0 0 / 20%) 0px 0px 5px 3px\",\r\n        width :\"100%\",maxWidth :\"500px\",minWidth:\"250px\",\r\n        height:\"70vh\", \r\n        borderRadius : \"5px\" ,justifySelf:\"center\"}}\r\n        height=\"600\" frameborder=\"0\" scrolling=\"yes\" allowtransparency=\"true\"></iframe>)\r\n    }\r\n    return (\r\n        <div className=\"container_part\">\r\n            <h5>{`${heading}`}</h5>\r\n         <img src={popComp} width = {20} height= {20} onClick={()=>props.rm(props.index)} style = {{gridArea:\"img\", alignSelf:'center' , justifySelf :'center'}}  />\r\n            <span className=\"container_data\">{data}</span>\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}