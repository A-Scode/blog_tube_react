{"ast":null,"code":"import _slicedToArray from\"D:/Python files/Start Django/blog_tube/frontend/blog_tube/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useHistory,HashRouter as Router,Route,Redirect}from'react-router-dom';import{CacheSwitch,CacheRoute}from'react-router-cache-route';import AppHeader from'./componenets/appHeader';import AppFooter from'./componenets/appFooter';import AppLogin from'./componenets/appLogin';import AppSignup from'./componenets/appSignup';import AppBodyLoading from'./componenets/appBodyLoading';import AppBlogians from'./componenets/appBlogians';import AppBlog from'./componenets/appBlog';import appConfig from'./componenets/statics/appConfig.json';import'./App.css';import React,{useState,useCallback,useEffect}from'react';import AppUserProfile from'./componenets/appUserProfile';import AppUploadBlog from'./componenets/appUploadBlog';import AppHome from'./componenets/appHome';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login_context=/*#__PURE__*/React.createContext(null);var Theme_context=/*#__PURE__*/React.createContext('Light');function App(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),login_context_state=_useState2[0],set_login_context_state=_useState2[1];var _useState3=useState('Light'),_useState4=_slicedToArray(_useState3,2),theme_context=_useState4[0],set_theme_context=_useState4[1];var change_login_context=useCallback(function(state){set_login_context_state(state);});var change_theme_context=useCallback(function(state){set_theme_context(state);});var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),appbody=_useState6[0],set_appbody=_useState6[1];var callback=useCallback(function(el){set_appbody(el);});var app_container_callback=function app_container_callback(el){set_appcontainer(el);};var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),appcontainer=_useState8[0],set_appcontainer=_useState8[1];var _useState9=useState('none'),_useState10=_slicedToArray(_useState9,2),appbodyloading_state=_useState10[0],set_appbodyloading_state=_useState10[1];var change_appbodyloading=function change_appbodyloading(display){set_appbodyloading_state(display);};var history=useHistory();var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),blogs_list=_useState12[0],set_blogs_list=_useState12[1];useEffect(function(){history.listen(function(location,action){console.log(location,action);});},[history]);useEffect(function(){theming();fetch(appConfig.origin+'backend_api/retriveHomeBlogs',{mode:'cors',method:\"POST\",headers:{session:login_context_state}}).then(function(response){return response.text().then(function(text){var response=JSON.parse(text);switch(response.status){case\"success\":set_blogs_list(response.blogs_list);break;case\"fail\":history.push('/Home');break;default:break;}});});},[]);useEffect(function(){if(sessionStorage.session!==null){set_login_context_state(sessionStorage.session);}},[sessionStorage]);useEffect(function(){if(theme_context===\"Dark\"){document.documentElement.style.backgroundColor=\"#272727\";document.documentElement.style.color=\"white\";}else{document.documentElement.style.backgroundColor=\"white\";document.documentElement.style.color=\"black\";}},[theme_context]);var theme_query=window.matchMedia('(prefers-color-scheme:dark)');var theming=useCallback(function(){if(theme_query.matches)set_theme_context(\"Dark\");else set_theme_context(\"Light\");},[theme_context]);return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(Theme_context.Provider,{value:theme_context,children:/*#__PURE__*/_jsxs(Login_context.Provider,{value:login_context_state,children:[/*#__PURE__*/_jsx(AppHeader,{bloglist:blogs_list,login_state:login_context_state,change_theme:change_theme_context}),/*#__PURE__*/_jsxs(\"div\",{className:\"appcontent\",ref:app_container_callback,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"appbody\",ref:callback,children:[/*#__PURE__*/_jsx(AppBodyLoading,{loading:appbodyloading_state}),/*#__PURE__*/_jsxs(CacheSwitch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/Blog/:title\",children:/*#__PURE__*/_jsx(AppBlog,{appbodyloading:change_appbodyloading})}),/*#__PURE__*/_jsx(CacheRoute,{exact:true,path:\"/Login\",children:/*#__PURE__*/_jsx(AppLogin,{appbodyloading:change_appbodyloading,change_login_context:change_login_context})}),/*#__PURE__*/_jsx(CacheRoute,{exact:true,path:\"/Signup\",children:/*#__PURE__*/_jsx(AppSignup,{appbodyloading:change_appbodyloading})}),/*#__PURE__*/_jsx(Route,{path:\"/Blogians\",children:/*#__PURE__*/_jsx(AppBlogians,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/Profile/:user_id\",children:/*#__PURE__*/_jsx(AppUserProfile,{})}),/*#__PURE__*/_jsx(Route,{path:\"/UploadBlog\",children:/*#__PURE__*/_jsx(AppUploadBlog,{appbodyloading:change_appbodyloading})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/Home\",children:/*#__PURE__*/_jsx(AppHome,{blogs_list:blogs_list})}),/*#__PURE__*/_jsx(CacheRoute,{exact:true,path:\"/Error\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Error\"})}),/*#__PURE__*/_jsx(Route,{path:\"/\",children:/*#__PURE__*/_jsx(Redirect,{to:\"/Home\"})})]})]}),/*#__PURE__*/_jsx(AppFooter,{appbody:appbody,appcontainer:appcontainer})]})]})})});}export default App;export{Login_context,Theme_context};","map":{"version":3,"sources":["D:/Python files/Start Django/blog_tube/frontend/blog_tube/src/App.js"],"names":["useHistory","HashRouter","Router","Route","Redirect","CacheSwitch","CacheRoute","AppHeader","AppFooter","AppLogin","AppSignup","AppBodyLoading","AppBlogians","AppBlog","appConfig","React","useState","useCallback","useEffect","AppUserProfile","AppUploadBlog","AppHome","Login_context","createContext","Theme_context","App","login_context_state","set_login_context_state","theme_context","set_theme_context","change_login_context","state","change_theme_context","appbody","set_appbody","callback","el","app_container_callback","set_appcontainer","appcontainer","appbodyloading_state","set_appbodyloading_state","change_appbodyloading","display","history","blogs_list","set_blogs_list","listen","location","action","console","log","theming","fetch","origin","mode","method","headers","session","then","response","text","JSON","parse","status","push","sessionStorage","document","documentElement","style","backgroundColor","color","theme_query","window","matchMedia","matches"],"mappings":"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","sourcesContent":["import {useHistory,  HashRouter as Router ,Route ,Redirect} from 'react-router-dom'\nimport {CacheSwitch , CacheRoute } from 'react-router-cache-route'\nimport AppHeader from './componenets/appHeader';\nimport AppFooter from './componenets/appFooter';\nimport AppLogin from './componenets/appLogin';\nimport AppSignup from './componenets/appSignup';\nimport AppBodyLoading from './componenets/appBodyLoading';\nimport AppBlogians from './componenets/appBlogians';\nimport AppBlog from './componenets/appBlog';\nimport appConfig from './componenets/statics/appConfig.json'\n\nimport './App.css'\nimport  React , {useState , useCallback , useEffect} from 'react'\nimport AppUserProfile from './componenets/appUserProfile';\nimport AppUploadBlog from './componenets/appUploadBlog';\nimport AppHome from './componenets/appHome';\n\nvar Login_context = React.createContext(null)\nvar Theme_context = React.createContext('Light')\n\nfunction App() {\n  const [login_context_state , set_login_context_state] = useState(null)\n  const [theme_context , set_theme_context] = useState('Light')\n\n  const change_login_context=useCallback( (state)=>{\n    set_login_context_state(state)\n  })\n  const change_theme_context=useCallback( (state)=>{\n    set_theme_context(state)\n  })\n\n  \n\n    let [appbody , set_appbody] = useState(null)\n\n    let callback = useCallback((el)=>{\n      set_appbody(el)\n    })\n\n    let app_container_callback = (el)=>{\n      set_appcontainer(el)\n    }\n\n    var [ appcontainer, set_appcontainer] = useState(null)\n    const [appbodyloading_state , set_appbodyloading_state]= useState('none')\n\n    let change_appbodyloading = (display) =>{\n          set_appbodyloading_state(display)\n    }\n\n    const history = useHistory()\n    const [blogs_list , set_blogs_list] = useState([])\n    useEffect(()=>{\n      history.listen((location , action)=>{\n        console.log(location, action)\n      })\n    },[history])\n\n    useEffect(()=>{\n      theming()\n      \n    fetch(appConfig.origin+'backend_api/retriveHomeBlogs',{ \n      mode:'cors',\n      method:\"POST\",\n      headers:{ session : login_context_state }\n  })\n  .then(response=> response.text().then(\n      text=>{\n          let response = JSON.parse(text)\n          switch (response.status) {\n              case \"success\":\n                  set_blogs_list(response.blogs_list)\n                  break;\n              case \"fail\":\n                  history.push('/Home')\n                  break;\n              default:\n                  break;\n          }}))\n        }\n    \n    ,[])\n    useEffect(()=>{\n      if (sessionStorage.session !== null){\n        set_login_context_state(sessionStorage.session)\n      }\n    },[sessionStorage])\n    useEffect(()=>{\n      if (theme_context === \"Dark\"){\n      document.documentElement.style.backgroundColor = \"#272727\"\n      document.documentElement.style.color = \"white\"\n    }\n      else{\n      document.documentElement.style.backgroundColor = \"white\"\n      document.documentElement.style.color = \"black\"\n      }\n    },[theme_context])  \n    const theme_query = window.matchMedia('(prefers-color-scheme:dark)')\n    const theming = useCallback(()=>{\n      if (theme_query.matches)set_theme_context(\"Dark\")\n      else set_theme_context(\"Light\")\n    },[theme_context])\n\n    \n  return (\n    <Router>\n  <Theme_context.Provider value = {theme_context} > \n  <Login_context.Provider value = {login_context_state}>\n      <AppHeader  bloglist = {blogs_list} login_state = {login_context_state} change_theme = {change_theme_context} />\n    <div className=\"appcontent\" ref = {app_container_callback} >\n      <div className=\"appbody\" ref = {callback}>\n        <AppBodyLoading loading = {appbodyloading_state} />\n        <CacheSwitch>\n            <Route exact path = '/Blog/:title'>\n              <AppBlog appbodyloading = {change_appbodyloading} />\n            </Route>\n            <CacheRoute exact path = '/Login'  >\n              <AppLogin appbodyloading = {change_appbodyloading} change_login_context = {change_login_context} />\n            </CacheRoute>\n            <CacheRoute exact path = '/Signup'>\n              <AppSignup appbodyloading = {change_appbodyloading}  />\n            </CacheRoute>\n            <Route  path = '/Blogians' >\n              <AppBlogians />\n            </Route>\n            <Route exact path = '/Profile/:user_id'>\n              <AppUserProfile />\n            </Route>\n            <Route  path = '/UploadBlog'>\n              <AppUploadBlog appbodyloading= {change_appbodyloading} />\n            </Route>\n            <Route exact path = \"/Home\" >\n              <AppHome blogs_list = {blogs_list} />\n            </Route>\n            <CacheRoute exact path = \"/Error\">\n              <h1>Error</h1>\n            </CacheRoute>\n            <Route path = \"/\"><Redirect to=\"/Home\" /></Route>\n        </CacheSwitch>\n      \n      </div>\n      <AppFooter appbody = {appbody} appcontainer = {appcontainer}/>  \n      </div>   \n  </ Login_context.Provider>\n  </Theme_context.Provider>\n\n    </Router>\n  );\n}\n\nexport default App;\nexport { Login_context , Theme_context};\n"]},"metadata":{},"sourceType":"module"}