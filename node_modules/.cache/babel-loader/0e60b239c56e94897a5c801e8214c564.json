{"ast":null,"code":"import _defineProperty from\"D:/Python files/Start Django/blog_tube/frontend/blog_tube/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _createForOfIteratorHelper from\"D:/Python files/Start Django/blog_tube/frontend/blog_tube/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _objectSpread from\"D:/Python files/Start Django/blog_tube/frontend/blog_tube/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"D:/Python files/Start Django/blog_tube/frontend/blog_tube/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"D:/Python files/Start Django/blog_tube/frontend/blog_tube/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'./statics/css/appHeader.css';import blogTubeIcon1 from\"./statics/images/blogTubeIcon.svg\";import menuIcon from\"./statics/images/menu_icon.svg\";import menuIcon3 from\"./statics/images/menu_icon3.svg\";import searchIcon from\"./statics/images/search_icon.svg\";import appConfig from'./statics/appConfig.json';import search_logo from\"./statics/images/search_icon.svg\";import{useState,useRef,useEffect,useCallback}from'react';import{Link}from'react-router-dom';import Menu from'./Menu';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var change_menu_state;var AppHeader=function AppHeader(props){var _jsx2;var root=document.documentElement;root.style.setProperty('--search_icon_url',\"url(\".concat(search_logo,\")\"));var _useState=useState(menuIcon),_useState2=_slicedToArray(_useState,2),img_state=_useState2[0],set_img_state=_useState2[1];var menuIcon_elem=useRef({});var _useState3=useState(props.bloglist),_useState4=_slicedToArray(_useState3,2),state_blog_list=_useState4[0],set_state_blog_list=_useState4[1];useEffect(function(){set_state_blog_list(_toConsumableArray(props.bloglist));},[props.bloglist]);var mq=window.matchMedia('(max-width: 768px)');mq.onchange=function(){set_responsive(mq.matches);};var _useState5=useState(mq.matches),_useState6=_slicedToArray(_useState5,2),responsive=_useState6[0],set_responsive=_useState6[1];var search_style={display:\"none\",position:\"fixed\",width:\"100vw\",height:\"100vh\",top:0,bottom:0,left:0,right:0,justifyContent:\"center\",pointerEvents:\"auto \",zIndex:6,backdropFilter:\"blur(2px)\"};var _useState7=useState(search_style),_useState8=_slicedToArray(_useState7,2),state_search_style=_useState8[0],set_state_search_style=_useState8[1];var menu_click=function menu_click(){if(img_state===menuIcon){set_img_state(menuIcon3);set_menu_state(true);console.log('menuImage is equal to menuIcon');}else{set_img_state(menuIcon);set_menu_state(false);console.log('menuImage !!!! equal to menuIcon');}};var responsiveSearch=function responsiveSearch(type){try{menuIcon_elem.current['searchIconResponsive'].style.backgroundImage=\"url(\".concat(search_logo,\")\");set_state_search_style(_objectSpread(_objectSpread({},search_style),{},{display:type}));menuIcon_elem.current['searchIconResponsive'].focus();document.addEventListener('click',doc_click,true);setTimeout(function(){return menuIcon_elem.current['searchIconResponsive'].focus();},500);}catch(err){}};var showHideSearch=function showHideSearch(type){try{menuIcon_elem.current['blogList'].style.display=type;}catch(err){}};var doc_click=function doc_click(event){if(event.target!=menuIcon_elem.current['searchIcon']&&event.target!=menuIcon_elem.current['searchIconResponsive']){mq.matches?responsiveSearch(\"none\"):showHideSearch('none');document.removeEventListener('click',doc_click,true);}};window.addEventListener('resize',function(){if(mq.matches&&menuIcon_elem.current['blogList'])showHideSearch('none');});function responsive_search_option(event){if(!mq.matches){if(event.target!=menuIcon_elem.current['searchIcon']&&event.target!=menuIcon_elem.current['blogList']){setTimeout(function(){return showHideSearch('none');},200);}}else if(mq.matches){if(event.target.id===\"searchInputResponsive\"){set_state_search_style(_objectSpread(_objectSpread({},search_style),{},{display:'flex'}));}else if(event.target!=menuIcon_elem.current[\"searchIconResponsive\"]&&event.target!=menuIcon_elem.current['searchIcon']){set_state_search_style(_objectSpread(_objectSpread({},search_style),{},{display:'none'}));}window.removeEventListener('click',responsive_search_option,true);}}if(!mq.matches){window.addEventListener('click',responsive_search_option,true);}var sorting_list=useCallback(function(){try{var elem=menuIcon_elem.current['searchIcon'];var value=elem.value.toLowerCase();var copy=props.bloglist;var const_obj={};var final_arr=[];var _iterator=_createForOfIteratorHelper(copy),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var blog=_step.value;var index=blog.toLowerCase().search(value);if(index>-1){const_obj[copy.indexOf(blog)]=index;}}}catch(err){_iterator.e(err);}finally{_iterator.f();}var _iterator2=_createForOfIteratorHelper(Object.keys(const_obj).sort()),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _index=_step2.value;final_arr.push(copy[_index]);}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}set_state_blog_list([].concat(final_arr));}catch(err){}});var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),menu_state=_useState10[0],set_menu_state=_useState10[1];return/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(Menu,{open:menu_state,login_state:props.login_state,onClick:function onClick(){return menu_click();}}),/*#__PURE__*/_jsx(\"div\",{className:\"menuicon\",children:/*#__PURE__*/_jsx(\"img\",{src:img_state,id:\"menuIcon\",ref:function ref(el){return menuIcon_elem.current['menuIcon']=el;},onClick:function onClick(){return menu_click();},alt:\"menuIcon\"})}),/*#__PURE__*/_jsxs(\"h1\",{id:\"blog_tube\",children:[\" \",/*#__PURE__*/_jsx(\"img\",{src:blogTubeIcon1,id:\"logo\"}),\"Blog Tube\"]}),responsive?/*#__PURE__*/_jsx(\"img\",{src:searchIcon,id:\"searchIcon\",ref:function ref(el){return menuIcon_elem.current['searchIcon']=el;},onClick:function onClick(){responsiveSearch('flex');set_menu_state(false);}}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",(_jsx2={ref:function ref(el){return menuIcon_elem.current['searchIcon']=el;},placeholder:\"Search Blogs\",onInput:sorting_list,onFocus:sorting_list,id:\"searchInput\"},_defineProperty(_jsx2,\"onFocus\",function onFocus(){return showHideSearch('block');}),_defineProperty(_jsx2,\"type\",\"text\"),_jsx2)),\"            \"]}),/*#__PURE__*/_jsx(\"div\",{id:\"blogList\",ref:function ref(el){return menuIcon_elem.current['blogList']=el;},children:state_blog_list.length!==0?state_blog_list.map(function(e,i){return/*#__PURE__*/_jsx(Link,{to:\"/Blog/\".concat(e.blog_details.title,\"?id=\").concat(e.blog_details.blog_id),children:/*#__PURE__*/_jsx(\"div\",{className:\"blog_elems\",children:e.blog_details.title},i)});}):/*#__PURE__*/_jsx(\"div\",{className:\"blog_elems\",children:\" No Blogs Found\"})}),responsive?/*#__PURE__*/_jsxs(\"div\",{id:\"search\",style:state_search_style,children:[responsive?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{ref:function ref(el){return menuIcon_elem.current['searchIconResponsive']=el;},placeholder:\"Search Blogs\",onInput:sorting_list,id:\"searchInputResponsive\",type:\"text\",autoFocus:true}),\"    \"]}):null,/*#__PURE__*/_jsx(\"div\",{id:\"blogListContainer\",children:state_blog_list.length!==0?state_blog_list.map(function(e,i){return/*#__PURE__*/_jsx(Link,{to:\"/Blog/\".concat(e.blog_details.title,\"?id=\").concat(e.blog_details.blog_id),children:/*#__PURE__*/_jsx(\"div\",{className:\"blog_elems\",children:e.blog_details.title},i)});}):/*#__PURE__*/_jsx(\"div\",{className:\"blog_elems\",children:\" No Blogs Found\"})})]}):null]});};export default AppHeader;","map":{"version":3,"sources":["D:/Python files/Start Django/blog_tube/frontend/blog_tube/src/componenets/appHeader.js"],"names":["appConfig","useState","useRef","useEffect","useCallback","Link","Menu","change_menu_state","AppHeader","props","root","document","documentElement","style","setProperty","search_logo","menuIcon","img_state","set_img_state","menuIcon_elem","bloglist","state_blog_list","set_state_blog_list","mq","window","matchMedia","onchange","set_responsive","matches","responsive","search_style","display","position","width","height","top","bottom","left","right","justifyContent","pointerEvents","zIndex","backdropFilter","state_search_style","set_state_search_style","menu_click","menuIcon3","set_menu_state","console","log","responsiveSearch","type","current","backgroundImage","focus","addEventListener","doc_click","setTimeout","err","showHideSearch","event","target","removeEventListener","responsive_search_option","id","sorting_list","elem","value","toLowerCase","copy","const_obj","final_arr","blog","index","search","indexOf","Object","keys","sort","push","menu_state","login_state","el","blogTubeIcon1","searchIcon","length","map","e","i","blog_details","title","blog_id"],"mappings":"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","sourcesContent":["import './statics/css/appHeader.css'\r\nimport blogTubeIcon1 from './statics/images/blogTubeIcon.svg'\r\n\r\nimport menuIcon from './statics/images/menu_icon.svg'\r\nimport menuIcon3 from './statics/images/menu_icon3.svg'\r\nimport searchIcon from './statics/images/search_icon.svg'\r\nimport appConfig from './statics/appConfig.json'\r\nimport search_logo from './statics/images/search_icon.svg'\r\n\r\nimport { useState, useRef ,useEffect, useCallback} from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport Menu from './Menu'\r\n\r\nvar change_menu_state;\r\n\r\nconst AppHeader = props => {\r\n    \r\n    var root = document.documentElement\r\n    root.style.setProperty('--search_icon_url' , `url(${search_logo})`)\r\n\r\n    var [img_state, set_img_state] = useState(menuIcon)\r\n\r\n    var menuIcon_elem = useRef({})\r\n\r\n\r\n    const [state_blog_list , set_state_blog_list] = useState(props.bloglist)\r\n    useEffect(()=>{\r\n        set_state_blog_list([...props.bloglist])\r\n    },[props.bloglist])\r\n\r\n\r\n\r\n    var mq = window.matchMedia('(max-width: 768px)')\r\n    mq.onchange = () => {\r\n        set_responsive(mq.matches)\r\n\r\n    }\r\n    var [responsive, set_responsive] = useState(mq.matches)\r\n\r\n    let search_style = {\r\n        display: \"none\",\r\n    position:\"fixed\",\r\n    width:\"100vw\",\r\n    height:\"100vh\",\r\n    top:0,bottom:0,left:0,right:0,\r\n    justifyContent: \"center\",\r\n    pointerEvents: \"auto \",\r\n    zIndex: 6,\r\n    backdropFilter: \"blur(2px)\",\r\n    }\r\n\r\n    var [state_search_style , set_state_search_style] = useState(search_style)\r\n\r\n\r\n    let menu_click = () => {\r\n        if (img_state === menuIcon) {\r\n            set_img_state(menuIcon3)\r\n            set_menu_state(true)\r\n            console.log('menuImage is equal to menuIcon')\r\n        } else {\r\n            set_img_state(menuIcon)\r\n            set_menu_state(false)\r\n            console.log('menuImage !!!! equal to menuIcon')\r\n        }\r\n\r\n    }\r\n\r\n    \r\n    var responsiveSearch = (type) => {\r\n        try{\r\n            menuIcon_elem.current['searchIconResponsive'].style.backgroundImage= `url(${search_logo})`\r\n            set_state_search_style({...search_style , display : type})\r\n            menuIcon_elem.current['searchIconResponsive'].focus()\r\n            document.addEventListener('click' ,doc_click , true )\r\n            setTimeout(()=>menuIcon_elem.current['searchIconResponsive'].focus() , 500)\r\n    }catch(err){}\r\n    }\r\n\r\n    let showHideSearch=(type)=>{\r\n       try{\r\n        menuIcon_elem.current['blogList'].style.display = type\r\n       }catch(err){}\r\n        \r\n    }\r\n\r\n    let doc_click = event=>{\r\n        if (event.target != menuIcon_elem.current['searchIcon'] && event.target != menuIcon_elem.current['searchIconResponsive']){\r\n            mq.matches?\r\n            responsiveSearch(\"none\")\r\n            :showHideSearch('none')\r\n            document.removeEventListener('click' ,doc_click ,true )\r\n        }\r\n\r\n    }\r\n\r\n    window.addEventListener('resize' , ()=>{\r\n        if (mq.matches  && menuIcon_elem.current['blogList']) showHideSearch('none')\r\n    })\r\n\r\n    function responsive_search_option(event){\r\n        if (!mq.matches) {\r\n        if ( event.target != menuIcon_elem.current['searchIcon'] && event.target != menuIcon_elem.current['blogList'] ){\r\n            setTimeout(()=>showHideSearch('none'),200)}}\r\n        \r\n\r\n        else if (mq.matches){\r\n            \r\n            if (event.target.id === \"searchInputResponsive\"){\r\n                set_state_search_style({...search_style , display : 'flex'})\r\n                \r\n            }\r\n\r\n            else if (event.target != menuIcon_elem.current[\"searchIconResponsive\"] && event.target != menuIcon_elem.current['searchIcon'] ){\r\n                \r\n                set_state_search_style({...search_style , display : 'none'})\r\n            }\r\n            window.removeEventListener('click'  , responsive_search_option, true)\r\n        }\r\n    }\r\n    \r\nif(!mq.matches){\r\n    window.addEventListener('click' , responsive_search_option  , true)}\r\n   \r\n\r\n\r\n    const sorting_list= useCallback(()=>{\r\n        try{\r\n        let elem =  menuIcon_elem.current['searchIcon']\r\n        let value = elem.value.toLowerCase() \r\n        let copy = props.bloglist\r\n        let const_obj = {}\r\n        let final_arr = []\r\n\r\n        for (let blog of copy){\r\n            let index = blog.toLowerCase().search(value)\r\n            if (index > -1){\r\n                const_obj[copy.indexOf(blog)] = index\r\n            }\r\n        }\r\n        for (let index of Object.keys(const_obj).sort()){\r\n            final_arr.push(copy[index])\r\n        }\r\n        \r\n        set_state_blog_list([...final_arr])\r\n    }catch(err){}\r\n\r\n    })\r\n    \r\n    let [menu_state , set_menu_state] = useState(false)\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"header\" >\r\n            <Menu open = {menu_state} login_state = {props.login_state}  onClick = {()=>menu_click()} /> \r\n            <div className=\"menuicon\"  >\r\n                <img src={img_state} id='menuIcon' ref={el => menuIcon_elem.current['menuIcon'] = el} onClick={()=>menu_click()} alt=\"menuIcon\" />\r\n\r\n            </div>\r\n            <h1 id='blog_tube' > <img src={blogTubeIcon1} id='logo' />\r\n\r\n                Blog Tube</h1>\r\n\r\n            {responsive ? <img src={searchIcon} id='searchIcon' ref={el => menuIcon_elem.current['searchIcon'] = el}  onClick = {()=>{\r\n                responsiveSearch('flex')\r\n                set_menu_state(false)\r\n\r\n                }} />\r\n                : <><input ref={el => menuIcon_elem.current['searchIcon'] = el} placeholder='Search Blogs' onInput = {sorting_list} onFocus = {sorting_list} id='searchInput'  onFocus={()=>showHideSearch('block')} type='text' />            </>\r\n            }\r\n            <div id=\"blogList\" ref={el => menuIcon_elem.current['blogList'] = el}>\r\n                {state_blog_list.length !== 0 ? state_blog_list.map((e, i) =>( <Link to ={`/Blog/${e.blog_details.title}?id=${e.blog_details.blog_id}`} ><div key={i} className='blog_elems' >{e.blog_details.title}</div></Link>))\r\n                    : <div className='blog_elems'> No Blogs Found</div>}\r\n            </div>\r\n            {responsive ?\r\n                <div id=\"search\" style = {state_search_style}  >\r\n                    {responsive ?\r\n                        <><input ref={el => menuIcon_elem.current['searchIconResponsive'] = el} placeholder='Search Blogs' onInput= {sorting_list} id='searchInputResponsive' type='text' autoFocus= {true} />    </> : null}\r\n                    <div id=\"blogListContainer\" >\r\n                        {state_blog_list.length !== 0 ? state_blog_list.map((e, i) => ( <Link to ={`/Blog/${e.blog_details.title}?id=${e.blog_details.blog_id}`} ><div key={i} className='blog_elems' >{e.blog_details.title}</div></Link>))\r\n                            : <div className='blog_elems'> No Blogs Found</div>}\r\n                    </div>\r\n                </div> : null\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AppHeader\r\n\r\n"]},"metadata":{},"sourceType":"module"}