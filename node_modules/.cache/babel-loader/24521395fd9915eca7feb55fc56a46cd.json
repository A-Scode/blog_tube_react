{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\n\nvar _typeof2 = require(\"babel-runtime/helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _keys = require(\"babel-runtime/core-js/object/keys\");\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _getIterator2 = require(\"babel-runtime/core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nexports.explode = explode;\nexports.verify = verify;\nexports.merge = merge;\n\nvar _virtualTypes = require(\"./path/lib/virtual-types\");\n\nvar virtualTypes = _interopRequireWildcard(_virtualTypes);\n\nvar _babelMessages = require(\"babel-messages\");\n\nvar messages = _interopRequireWildcard(_babelMessages);\n\nvar _babelTypes = require(\"babel-types\");\n\nvar t = _interopRequireWildcard(_babelTypes);\n\nvar _clone = require(\"lodash/clone\");\n\nvar _clone2 = _interopRequireDefault(_clone);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction explode(visitor) {\n  if (visitor._exploded) return visitor;\n  visitor._exploded = true;\n\n  for (var nodeType in visitor) {\n    if (shouldIgnoreKey(nodeType)) continue;\n    var parts = nodeType.split(\"|\");\n    if (parts.length === 1) continue;\n    var fns = visitor[nodeType];\n    delete visitor[nodeType];\n\n    for (var _iterator = parts, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : (0, _getIterator3.default)(_iterator);;) {\n      var _ref;\n\n      if (_isArray) {\n        if (_i >= _iterator.length) break;\n        _ref = _iterator[_i++];\n      } else {\n        _i = _iterator.next();\n        if (_i.done) break;\n        _ref = _i.value;\n      }\n\n      var part = _ref;\n      visitor[part] = fns;\n    }\n  }\n\n  verify(visitor);\n  delete visitor.__esModule;\n  ensureEntranceObjects(visitor);\n  ensureCallbackArrays(visitor);\n\n  for (var _iterator2 = (0, _keys2.default)(visitor), _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : (0, _getIterator3.default)(_iterator2);;) {\n    var _ref2;\n\n    if (_isArray2) {\n      if (_i2 >= _iterator2.length) break;\n      _ref2 = _iterator2[_i2++];\n    } else {\n      _i2 = _iterator2.next();\n      if (_i2.done) break;\n      _ref2 = _i2.value;\n    }\n\n    var _nodeType3 = _ref2;\n    if (shouldIgnoreKey(_nodeType3)) continue;\n    var wrapper = virtualTypes[_nodeType3];\n    if (!wrapper) continue;\n    var _fns2 = visitor[_nodeType3];\n\n    for (var type in _fns2) {\n      _fns2[type] = wrapCheck(wrapper, _fns2[type]);\n    }\n\n    delete visitor[_nodeType3];\n\n    if (wrapper.types) {\n      for (var _iterator4 = wrapper.types, _isArray4 = Array.isArray(_iterator4), _i4 = 0, _iterator4 = _isArray4 ? _iterator4 : (0, _getIterator3.default)(_iterator4);;) {\n        var _ref4;\n\n        if (_isArray4) {\n          if (_i4 >= _iterator4.length) break;\n          _ref4 = _iterator4[_i4++];\n        } else {\n          _i4 = _iterator4.next();\n          if (_i4.done) break;\n          _ref4 = _i4.value;\n        }\n\n        var _type = _ref4;\n\n        if (visitor[_type]) {\n          mergePair(visitor[_type], _fns2);\n        } else {\n          visitor[_type] = _fns2;\n        }\n      }\n    } else {\n      mergePair(visitor, _fns2);\n    }\n  }\n\n  for (var _nodeType in visitor) {\n    if (shouldIgnoreKey(_nodeType)) continue;\n    var _fns = visitor[_nodeType];\n    var aliases = t.FLIPPED_ALIAS_KEYS[_nodeType];\n    var deprecratedKey = t.DEPRECATED_KEYS[_nodeType];\n\n    if (deprecratedKey) {\n      console.trace(\"Visitor defined for \" + _nodeType + \" but it has been renamed to \" + deprecratedKey);\n      aliases = [deprecratedKey];\n    }\n\n    if (!aliases) continue;\n    delete visitor[_nodeType];\n\n    for (var _iterator3 = aliases, _isArray3 = Array.isArray(_iterator3), _i3 = 0, _iterator3 = _isArray3 ? _iterator3 : (0, _getIterator3.default)(_iterator3);;) {\n      var _ref3;\n\n      if (_isArray3) {\n        if (_i3 >= _iterator3.length) break;\n        _ref3 = _iterator3[_i3++];\n      } else {\n        _i3 = _iterator3.next();\n        if (_i3.done) break;\n        _ref3 = _i3.value;\n      }\n\n      var alias = _ref3;\n      var existing = visitor[alias];\n\n      if (existing) {\n        mergePair(existing, _fns);\n      } else {\n        visitor[alias] = (0, _clone2.default)(_fns);\n      }\n    }\n  }\n\n  for (var _nodeType2 in visitor) {\n    if (shouldIgnoreKey(_nodeType2)) continue;\n    ensureCallbackArrays(visitor[_nodeType2]);\n  }\n\n  return visitor;\n}\n\nfunction verify(visitor) {\n  if (visitor._verified) return;\n\n  if (typeof visitor === \"function\") {\n    throw new Error(messages.get(\"traverseVerifyRootFunction\"));\n  }\n\n  for (var nodeType in visitor) {\n    if (nodeType === \"enter\" || nodeType === \"exit\") {\n      validateVisitorMethods(nodeType, visitor[nodeType]);\n    }\n\n    if (shouldIgnoreKey(nodeType)) continue;\n\n    if (t.TYPES.indexOf(nodeType) < 0) {\n      throw new Error(messages.get(\"traverseVerifyNodeType\", nodeType));\n    }\n\n    var visitors = visitor[nodeType];\n\n    if ((typeof visitors === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(visitors)) === \"object\") {\n      for (var visitorKey in visitors) {\n        if (visitorKey === \"enter\" || visitorKey === \"exit\") {\n          validateVisitorMethods(nodeType + \".\" + visitorKey, visitors[visitorKey]);\n        } else {\n          throw new Error(messages.get(\"traverseVerifyVisitorProperty\", nodeType, visitorKey));\n        }\n      }\n    }\n  }\n\n  visitor._verified = true;\n}\n\nfunction validateVisitorMethods(path, val) {\n  var fns = [].concat(val);\n\n  for (var _iterator5 = fns, _isArray5 = Array.isArray(_iterator5), _i5 = 0, _iterator5 = _isArray5 ? _iterator5 : (0, _getIterator3.default)(_iterator5);;) {\n    var _ref5;\n\n    if (_isArray5) {\n      if (_i5 >= _iterator5.length) break;\n      _ref5 = _iterator5[_i5++];\n    } else {\n      _i5 = _iterator5.next();\n      if (_i5.done) break;\n      _ref5 = _i5.value;\n    }\n\n    var fn = _ref5;\n\n    if (typeof fn !== \"function\") {\n      throw new TypeError(\"Non-function found defined in \" + path + \" with type \" + (typeof fn === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(fn)));\n    }\n  }\n}\n\nfunction merge(visitors) {\n  var states = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var wrapper = arguments[2];\n  var rootVisitor = {};\n\n  for (var i = 0; i < visitors.length; i++) {\n    var visitor = visitors[i];\n    var state = states[i];\n    explode(visitor);\n\n    for (var type in visitor) {\n      var visitorType = visitor[type];\n\n      if (state || wrapper) {\n        visitorType = wrapWithStateOrWrapper(visitorType, state, wrapper);\n      }\n\n      var nodeVisitor = rootVisitor[type] = rootVisitor[type] || {};\n      mergePair(nodeVisitor, visitorType);\n    }\n  }\n\n  return rootVisitor;\n}\n\nfunction wrapWithStateOrWrapper(oldVisitor, state, wrapper) {\n  var newVisitor = {};\n\n  var _loop = function _loop(key) {\n    var fns = oldVisitor[key];\n    if (!Array.isArray(fns)) return \"continue\";\n    fns = fns.map(function (fn) {\n      var newFn = fn;\n\n      if (state) {\n        newFn = function newFn(path) {\n          return fn.call(state, path, state);\n        };\n      }\n\n      if (wrapper) {\n        newFn = wrapper(state.key, key, newFn);\n      }\n\n      return newFn;\n    });\n    newVisitor[key] = fns;\n  };\n\n  for (var key in oldVisitor) {\n    var _ret = _loop(key);\n\n    if (_ret === \"continue\") continue;\n  }\n\n  return newVisitor;\n}\n\nfunction ensureEntranceObjects(obj) {\n  for (var key in obj) {\n    if (shouldIgnoreKey(key)) continue;\n    var fns = obj[key];\n\n    if (typeof fns === \"function\") {\n      obj[key] = {\n        enter: fns\n      };\n    }\n  }\n}\n\nfunction ensureCallbackArrays(obj) {\n  if (obj.enter && !Array.isArray(obj.enter)) obj.enter = [obj.enter];\n  if (obj.exit && !Array.isArray(obj.exit)) obj.exit = [obj.exit];\n}\n\nfunction wrapCheck(wrapper, fn) {\n  var newFn = function newFn(path) {\n    if (wrapper.checkPath(path)) {\n      return fn.apply(this, arguments);\n    }\n  };\n\n  newFn.toString = function () {\n    return fn.toString();\n  };\n\n  return newFn;\n}\n\nfunction shouldIgnoreKey(key) {\n  if (key[0] === \"_\") return true;\n  if (key === \"enter\" || key === \"exit\" || key === \"shouldSkip\") return true;\n  if (key === \"blacklist\" || key === \"noScope\" || key === \"skipKeys\") return true;\n  return false;\n}\n\nfunction mergePair(dest, src) {\n  for (var key in src) {\n    dest[key] = [].concat(dest[key] || [], src[key]);\n  }\n}","map":{"version":3,"sources":["D:/Python files/Start Django/blog_tube/frontend/blog_tube/node_modules/babel-traverse/lib/visitors.js"],"names":["exports","__esModule","_typeof2","require","_typeof3","_interopRequireDefault","_keys","_keys2","_getIterator2","_getIterator3","explode","verify","merge","_virtualTypes","virtualTypes","_interopRequireWildcard","_babelMessages","messages","_babelTypes","t","_clone","_clone2","obj","newObj","key","Object","prototype","hasOwnProperty","call","default","visitor","_exploded","nodeType","shouldIgnoreKey","parts","split","length","fns","_iterator","_isArray","Array","isArray","_i","_ref","next","done","value","part","ensureEntranceObjects","ensureCallbackArrays","_iterator2","_isArray2","_i2","_ref2","_nodeType3","wrapper","_fns2","type","wrapCheck","types","_iterator4","_isArray4","_i4","_ref4","_type","mergePair","_nodeType","_fns","aliases","FLIPPED_ALIAS_KEYS","deprecratedKey","DEPRECATED_KEYS","console","trace","_iterator3","_isArray3","_i3","_ref3","alias","existing","_nodeType2","_verified","Error","get","validateVisitorMethods","TYPES","indexOf","visitors","visitorKey","path","val","concat","_iterator5","_isArray5","_i5","_ref5","fn","TypeError","states","arguments","undefined","rootVisitor","i","state","visitorType","wrapWithStateOrWrapper","nodeVisitor","oldVisitor","newVisitor","_loop","map","newFn","_ret","enter","exit","checkPath","apply","toString","dest","src"],"mappings":"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","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\n\nvar _typeof2 = require(\"babel-runtime/helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _keys = require(\"babel-runtime/core-js/object/keys\");\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _getIterator2 = require(\"babel-runtime/core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nexports.explode = explode;\nexports.verify = verify;\nexports.merge = merge;\n\nvar _virtualTypes = require(\"./path/lib/virtual-types\");\n\nvar virtualTypes = _interopRequireWildcard(_virtualTypes);\n\nvar _babelMessages = require(\"babel-messages\");\n\nvar messages = _interopRequireWildcard(_babelMessages);\n\nvar _babelTypes = require(\"babel-types\");\n\nvar t = _interopRequireWildcard(_babelTypes);\n\nvar _clone = require(\"lodash/clone\");\n\nvar _clone2 = _interopRequireDefault(_clone);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction explode(visitor) {\n  if (visitor._exploded) return visitor;\n  visitor._exploded = true;\n\n  for (var nodeType in visitor) {\n    if (shouldIgnoreKey(nodeType)) continue;\n\n    var parts = nodeType.split(\"|\");\n    if (parts.length === 1) continue;\n\n    var fns = visitor[nodeType];\n    delete visitor[nodeType];\n\n    for (var _iterator = parts, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : (0, _getIterator3.default)(_iterator);;) {\n      var _ref;\n\n      if (_isArray) {\n        if (_i >= _iterator.length) break;\n        _ref = _iterator[_i++];\n      } else {\n        _i = _iterator.next();\n        if (_i.done) break;\n        _ref = _i.value;\n      }\n\n      var part = _ref;\n\n      visitor[part] = fns;\n    }\n  }\n\n  verify(visitor);\n\n  delete visitor.__esModule;\n\n  ensureEntranceObjects(visitor);\n\n  ensureCallbackArrays(visitor);\n\n  for (var _iterator2 = (0, _keys2.default)(visitor), _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : (0, _getIterator3.default)(_iterator2);;) {\n    var _ref2;\n\n    if (_isArray2) {\n      if (_i2 >= _iterator2.length) break;\n      _ref2 = _iterator2[_i2++];\n    } else {\n      _i2 = _iterator2.next();\n      if (_i2.done) break;\n      _ref2 = _i2.value;\n    }\n\n    var _nodeType3 = _ref2;\n\n    if (shouldIgnoreKey(_nodeType3)) continue;\n\n    var wrapper = virtualTypes[_nodeType3];\n    if (!wrapper) continue;\n\n    var _fns2 = visitor[_nodeType3];\n    for (var type in _fns2) {\n      _fns2[type] = wrapCheck(wrapper, _fns2[type]);\n    }\n\n    delete visitor[_nodeType3];\n\n    if (wrapper.types) {\n      for (var _iterator4 = wrapper.types, _isArray4 = Array.isArray(_iterator4), _i4 = 0, _iterator4 = _isArray4 ? _iterator4 : (0, _getIterator3.default)(_iterator4);;) {\n        var _ref4;\n\n        if (_isArray4) {\n          if (_i4 >= _iterator4.length) break;\n          _ref4 = _iterator4[_i4++];\n        } else {\n          _i4 = _iterator4.next();\n          if (_i4.done) break;\n          _ref4 = _i4.value;\n        }\n\n        var _type = _ref4;\n\n        if (visitor[_type]) {\n          mergePair(visitor[_type], _fns2);\n        } else {\n          visitor[_type] = _fns2;\n        }\n      }\n    } else {\n      mergePair(visitor, _fns2);\n    }\n  }\n\n  for (var _nodeType in visitor) {\n    if (shouldIgnoreKey(_nodeType)) continue;\n\n    var _fns = visitor[_nodeType];\n\n    var aliases = t.FLIPPED_ALIAS_KEYS[_nodeType];\n\n    var deprecratedKey = t.DEPRECATED_KEYS[_nodeType];\n    if (deprecratedKey) {\n      console.trace(\"Visitor defined for \" + _nodeType + \" but it has been renamed to \" + deprecratedKey);\n      aliases = [deprecratedKey];\n    }\n\n    if (!aliases) continue;\n\n    delete visitor[_nodeType];\n\n    for (var _iterator3 = aliases, _isArray3 = Array.isArray(_iterator3), _i3 = 0, _iterator3 = _isArray3 ? _iterator3 : (0, _getIterator3.default)(_iterator3);;) {\n      var _ref3;\n\n      if (_isArray3) {\n        if (_i3 >= _iterator3.length) break;\n        _ref3 = _iterator3[_i3++];\n      } else {\n        _i3 = _iterator3.next();\n        if (_i3.done) break;\n        _ref3 = _i3.value;\n      }\n\n      var alias = _ref3;\n\n      var existing = visitor[alias];\n      if (existing) {\n        mergePair(existing, _fns);\n      } else {\n        visitor[alias] = (0, _clone2.default)(_fns);\n      }\n    }\n  }\n\n  for (var _nodeType2 in visitor) {\n    if (shouldIgnoreKey(_nodeType2)) continue;\n\n    ensureCallbackArrays(visitor[_nodeType2]);\n  }\n\n  return visitor;\n}\n\nfunction verify(visitor) {\n  if (visitor._verified) return;\n\n  if (typeof visitor === \"function\") {\n    throw new Error(messages.get(\"traverseVerifyRootFunction\"));\n  }\n\n  for (var nodeType in visitor) {\n    if (nodeType === \"enter\" || nodeType === \"exit\") {\n      validateVisitorMethods(nodeType, visitor[nodeType]);\n    }\n\n    if (shouldIgnoreKey(nodeType)) continue;\n\n    if (t.TYPES.indexOf(nodeType) < 0) {\n      throw new Error(messages.get(\"traverseVerifyNodeType\", nodeType));\n    }\n\n    var visitors = visitor[nodeType];\n    if ((typeof visitors === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(visitors)) === \"object\") {\n      for (var visitorKey in visitors) {\n        if (visitorKey === \"enter\" || visitorKey === \"exit\") {\n          validateVisitorMethods(nodeType + \".\" + visitorKey, visitors[visitorKey]);\n        } else {\n          throw new Error(messages.get(\"traverseVerifyVisitorProperty\", nodeType, visitorKey));\n        }\n      }\n    }\n  }\n\n  visitor._verified = true;\n}\n\nfunction validateVisitorMethods(path, val) {\n  var fns = [].concat(val);\n  for (var _iterator5 = fns, _isArray5 = Array.isArray(_iterator5), _i5 = 0, _iterator5 = _isArray5 ? _iterator5 : (0, _getIterator3.default)(_iterator5);;) {\n    var _ref5;\n\n    if (_isArray5) {\n      if (_i5 >= _iterator5.length) break;\n      _ref5 = _iterator5[_i5++];\n    } else {\n      _i5 = _iterator5.next();\n      if (_i5.done) break;\n      _ref5 = _i5.value;\n    }\n\n    var fn = _ref5;\n\n    if (typeof fn !== \"function\") {\n      throw new TypeError(\"Non-function found defined in \" + path + \" with type \" + (typeof fn === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(fn)));\n    }\n  }\n}\n\nfunction merge(visitors) {\n  var states = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var wrapper = arguments[2];\n\n  var rootVisitor = {};\n\n  for (var i = 0; i < visitors.length; i++) {\n    var visitor = visitors[i];\n    var state = states[i];\n\n    explode(visitor);\n\n    for (var type in visitor) {\n      var visitorType = visitor[type];\n\n      if (state || wrapper) {\n        visitorType = wrapWithStateOrWrapper(visitorType, state, wrapper);\n      }\n\n      var nodeVisitor = rootVisitor[type] = rootVisitor[type] || {};\n      mergePair(nodeVisitor, visitorType);\n    }\n  }\n\n  return rootVisitor;\n}\n\nfunction wrapWithStateOrWrapper(oldVisitor, state, wrapper) {\n  var newVisitor = {};\n\n  var _loop = function _loop(key) {\n    var fns = oldVisitor[key];\n\n    if (!Array.isArray(fns)) return \"continue\";\n\n    fns = fns.map(function (fn) {\n      var newFn = fn;\n\n      if (state) {\n        newFn = function newFn(path) {\n          return fn.call(state, path, state);\n        };\n      }\n\n      if (wrapper) {\n        newFn = wrapper(state.key, key, newFn);\n      }\n\n      return newFn;\n    });\n\n    newVisitor[key] = fns;\n  };\n\n  for (var key in oldVisitor) {\n    var _ret = _loop(key);\n\n    if (_ret === \"continue\") continue;\n  }\n\n  return newVisitor;\n}\n\nfunction ensureEntranceObjects(obj) {\n  for (var key in obj) {\n    if (shouldIgnoreKey(key)) continue;\n\n    var fns = obj[key];\n    if (typeof fns === \"function\") {\n      obj[key] = { enter: fns };\n    }\n  }\n}\n\nfunction ensureCallbackArrays(obj) {\n  if (obj.enter && !Array.isArray(obj.enter)) obj.enter = [obj.enter];\n  if (obj.exit && !Array.isArray(obj.exit)) obj.exit = [obj.exit];\n}\n\nfunction wrapCheck(wrapper, fn) {\n  var newFn = function newFn(path) {\n    if (wrapper.checkPath(path)) {\n      return fn.apply(this, arguments);\n    }\n  };\n  newFn.toString = function () {\n    return fn.toString();\n  };\n  return newFn;\n}\n\nfunction shouldIgnoreKey(key) {\n  if (key[0] === \"_\") return true;\n\n  if (key === \"enter\" || key === \"exit\" || key === \"shouldSkip\") return true;\n\n  if (key === \"blacklist\" || key === \"noScope\" || key === \"skipKeys\") return true;\n\n  return false;\n}\n\nfunction mergePair(dest, src) {\n  for (var key in src) {\n    dest[key] = [].concat(dest[key] || [], src[key]);\n  }\n}"]},"metadata":{},"sourceType":"script"}