{"ast":null,"code":"import _toConsumableArray from\"D:/Python files/Start Django/blog_tube/frontend/blog_tube/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"D:/Python files/Start Django/blog_tube/frontend/blog_tube/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useContext,useState,useCallback,useMemo,useRef}from'react';import{useHistory,useRouteMatch}from'react-router';import{CacheSwitch as Switch,CacheRoute as Route}from'react-router-cache-route';import{Login_context}from'../App';import'./statics/css/appUploadBlog.css';import $ from\"jquery\";import preview_image from\"./statics/images/preview.svg\";import editor_image from\"./statics/images/editor.svg\";import youtubeLogo from\"./statics/images/youtubeLogo.svg\";import popComp from\"./statics/images/popComp.svg\";import appConfig from'./statics/appConfig.json';import{logout}from'./statics/utils';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var final_data={};var AppUploadBlog=function AppUploadBlog(props){var login_context=useContext(Login_context);var history=useHistory();var _ref=useRef({});var _useState=useState('blog'),_useState2=_slicedToArray(_useState,2),upload_blog_state=_useState2[0],set_upload_blog_state=_useState2[1];var change_image=useCallback(function(event){var target=$('#label_image');if(event.target.files!=[]){var image_file=event.target.files[0];var image_url=URL.createObjectURL(image_file);var image_span=$('#image_span');image_span.css({'backgroundImage':\"url(\".concat(image_url,\")\"),backgroundSize:'contain',backgroundPosition:'center',backdropFilter:'blur(3px)','borderRadius':'20px'});target.css({'backgroundImage':\"url(\".concat(image_url,\")\")});final_data['blog_title_image']=image_file;}else target.css({'borderRadius':'20px','backgroundSize':'cover',\"boxShadow\":\"0px 1px 7px 3px #1976d2\"});},[]);var forward_to_editor=useCallback(function(event){event.preventDefault();final_data.title=_ref.current['blog_title'].value;final_data.discription=_ref.current['blog_discription'].value;set_upload_blog_state('blog_editor');history.push(\"/UploadBlog/editor\");});var blog_info=useMemo(function(){return/*#__PURE__*/_jsx(\"form\",{className:\"blog_info\",action:\"javascript:void(0);\",onSubmit:function onSubmit(event){return forward_to_editor(event);},children:/*#__PURE__*/_jsxs(\"div\",{className:\"blog_info_child\",children:[/*#__PURE__*/_jsx(\"h1\",{align:\"center\",children:\"Blog Information \"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"blog_title\",id:\"label_title\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",autoFocus:true,placeholder:\"Title\",autoComplete:\"off\",spellCheck:\"true\",autoCapitalize:\"words\",id:\"blog_title\",maxLength:100,ref:function ref(el){return _ref.current['blog_title']=el;},required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"blog_discription\",id:\"label_discription\",children:\"Discription\"}),/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",autoComplete:\"off\",spellCheck:\"true\",autoCapitalize:\"sentences\",id:\"blog_discription\",placeholder:\"Discription\",maxLength:200,ref:function ref(el){return _ref.current['blog_discription']=el;}}),/*#__PURE__*/_jsx(\"span\",{id:\"span_label\",style:{gridArea:\"image\",alignSelf:\"center\",justifySelf:\"center\",display:\"grid\"},children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"blog_image\",id:\"label_image\",children:/*#__PURE__*/_jsx(\"span\",{id:\"image_span\"})})}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"blog_image\",accept:\"image/*\",onChange:change_image,hidden:true}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Next\",id:\"submit\"})]})});},[upload_blog_state,change_image,forward_to_editor]);var _useState3=useState('editor'),_useState4=_slicedToArray(_useState3,2),editor_state=_useState4[0],set_editor_state=_useState4[1];var set_to_editor=function set_to_editor(e){set_editor_state(e.target.value);};useEffect(function(){if(editor_state===\"editor\"){history.push(\"/UploadBlog/editor\");set_editor_state(\"editor\");}else if(editor_state===\"preview\"){history.push(\"/UploadBlog/preview\");set_editor_state(\"preview\");}},[editor_state]);var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),blog=_useState6[0],set_blog=_useState6[1];var set_myblog=useCallback(function(data){return set_blog(data);});var blog_editor=useMemo(function(){return/*#__PURE__*/_jsxs(\"div\",{className:\"editor\",children:[/*#__PURE__*/_jsx(Editor_tabs,{change_state:set_to_editor,editor_state:editor_state}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/UploadBlog/editor\",children:/*#__PURE__*/_jsx(Editing_pane,{appbodyloading:function appbodyloading(state){return props.appbodyloading(state);},blog:set_myblog})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/UploadBlog/preview\",children:/*#__PURE__*/_jsx(Preview_tab,{list:blog,appbodyloading:function appbodyloading(state){return props.appbodyloading(state);}})})]})]});});useEffect(function(){final_data['blog_title_image']=\"\";if(!Boolean(login_context)||!Boolean(sessionStorage.session)){history.push('/Login');return null;}},[login_context,sessionStorage]);useEffect(function(){var reload=function reload(){return\"Changes will Not be SavedðŸ˜¥\";};window.addEventListener(\"beforeunload\",reload,true);return function(){return window.removeEventListener('beforeunload',reload,true);};},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"blog_upload_page\",children:[upload_blog_state==='blog'?blog_info:null,upload_blog_state==='blog_editor'?blog_editor:null]});};export default AppUploadBlog;var Preview_tab=function Preview_tab(props){var history=useHistory();var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),data_list=_useState8[0],set_data_list=_useState8[1];var context=useContext(Login_context);useEffect(function(){if(props.list&&sessionStorage.session===context&&Boolean(sessionStorage.session)&&Boolean(context)){console.log(props.list);props.appbodyloading('flex');var xhr=new XMLHttpRequest();xhr.open(\"POST\",appConfig.origin+\"backend_api/blogPreview\");xhr.onreadystatechange=function(){if(xhr.readyState===4&&xhr.status===200){var response=JSON.parse(xhr.response);switch(response.status){case\"success\":set_data_list(response.hydratedBlog);console.log(\"data_list:\",data_list);props.appbodyloading('none');break;case\"loginRequired\":history.push(\"/Login\");console.log(\"backend_api/blogPreview\",response);logout();props.appbodyloading('none');break;default:console.log(response.status);props.appbodyloading('none');break;}}};xhr.setRequestHeader(\"session\",context);xhr.setRequestHeader(\"contentType\",\"application/json;charset=utf-8\");var formdata=new FormData();formdata.append('blog',JSON.stringify(props.list));xhr.send(formdata);}},[props.list,context]);return/*#__PURE__*/_jsx(\"div\",{className:\"showpreview\",children:/*#__PURE__*/_jsx(Blog,{children:data_list.map(function(item){return/*#__PURE__*/_jsx(\"div\",{className:\"container_data\",dangerouslySetInnerHTML:{__html:item}});})})});};var Blog=function Blog(props){return/*#__PURE__*/_jsx(\"div\",{className:\"blog_preview\",children:props.children});};export{Blog};var Editor_tabs=function Editor_tabs(props){var _ref2=useRef({});useEffect(function(){_ref2.current[props.editor_state].click();},[props.editor_state]);var _useRouteMatch=useRouteMatch(),path=_useRouteMatch.path,url=_useRouteMatch.url;useEffect(function(){if(path===\"/UploadBlog/editor\"){props.change_state(\"editor\");}else if(path===\"/UploadBlog/preview\"){props.change_state(\"preview\");}},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"tabs\",children:[/*#__PURE__*/_jsx(\"input\",{ref:function ref(el){return _ref2.current['editor']=el;},type:\"radio\",name:\"tabs\",id:\"editer_radio\",value:\"editor\",onInput:function onInput(e){return props.change_state(e);},hidden:true,defaultChecked:true}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"editer_radio\",id:\"label_editor\",children:[/*#__PURE__*/_jsx(\"img\",{src:editor_image,className:\"label_ico\"}),\"Editor\"]}),/*#__PURE__*/_jsx(\"input\",{ref:function ref(el){return _ref2.current['preview']=el;},type:\"radio\",name:\"tabs\",id:\"preview_radio\",value:\"preview\",onInput:function onInput(e){return props.change_state(e);},hidden:true}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"preview_radio\",id:\"label_preview\",children:[/*#__PURE__*/_jsx(\"img\",{src:preview_image,className:\"label_ico\"}),\"Preview\"]})]});};var Editing_pane=function Editing_pane(props){var _ref3=useRef({});var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),edit_state=_useState10[0],set_edit_state=_useState10[1];var mq=window.matchMedia(\"(max-width : 767px)\");var switch_comp=useCallback(function(){var display=_ref3.current['components'].style.display;if(mq.matches){if(display===\"none\"||display===\"\"){_ref3.current['components'].style.display=\"flex\";}else{_ref3.current['components'].style.display=\"\";}}else{_ref3.current['components'].style.display=\"flex\";}},[mq]);var _useState11=useState(\"Heading\"),_useState12=_slicedToArray(_useState11,2),input_state=_useState12[0],set_input_state=_useState12[1];function change_input_state(event){set_input_state(event.target.value);_ref3.current['maintext'].focus();}useEffect(function(){_ref3.current['maintext'].innerHTML=\"\";if(input_state===\"Photo\"||input_state===\"Video\"||input_state===\"Youtube Video\"){set_edit_state(false);_ref3.current['maintext'].classList.remove(\"bullet_list\");}else if(input_state===\"List\"){set_edit_state(true);_ref3.current['maintext'].classList.add(\"bullet_list\");}else{set_edit_state(true);_ref3.current['maintext'].classList.remove(\"bullet_list\");}var widget;switch(input_state){case\"Video\":widget=\"<input type= \\\"file\\\" accept =\\\"video/*\\\" id = \\\"videofile\\\" hidden  required />\\n                           <label  for = \\\"videofile\\\">Video</label> \";set_edit_state(false);break;case\"Photo\":widget=\"<input type= \\\"file\\\" accept =\\\"image/*\\\" id = \\\"photofile\\\" hidden required />\\n                           <label  for = \\\"photofile\\\">Photo</label> \";set_edit_state(false);break;case\"Youtube Video\":widget=\" <label  for = \\\"videolink\\\" style = \\\"border:none;padding:0;\\\">video Link</label> \\n                            <input  style=\\\"    height: 20px;\\n                            width: 90%;\\n                            margin: 0;\\n                            place-self: center;\\n                            padding: 0;\\n                            border-color: blueviolet;\\n                            border-radius: 5px\\\"  type= \\\"url\\\" id = \\\"videolink\\\" required  />\";set_edit_state(false);break;default:widget=\"\";set_edit_state(true);break;}_ref3.current['maintext'].innerHTML=widget;},[input_state]);var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),blog=_useState14[0],set_blog=_useState14[1];useEffect(function(){return props.blog([]);},[]);var data_submit=function data_submit(e){e.preventDefault();e.nativeEvent.stopImmediatePropagation();if(input_state===\"Heading\"){var heading=_ref3.current['maintext'].innerText;set_blog([].concat(_toConsumableArray(blog),[{\"Heading\":heading}]));props.blog([].concat(_toConsumableArray(blog),[{\"Heading\":heading}]));_ref3.current['maintext'].innerText=\"\";}else if(input_state===\"Paragraph\"){var para=_ref3.current['maintext'].innerText;set_blog([].concat(_toConsumableArray(blog),[{\"Paragraph\":para}]));props.blog([].concat(_toConsumableArray(blog),[{\"Paragraph\":para}]));_ref3.current['maintext'].innerText=\"\";}else if(input_state===\"List\"){var list=_ref3.current['maintext'].innerText;list=list.split(\"\\n\").filter(function(i){return i?i:null;});set_blog([].concat(_toConsumableArray(blog),[{\"List\":list}]));props.blog([].concat(_toConsumableArray(blog),[{\"List\":list}]));_ref3.current['maintext'].innerText=\"\";}else if(input_state===\"Photo\"){var photofile=e.target[0].files[0];set_blog([].concat(_toConsumableArray(blog),[{\"Photo\":photofile,\"name\":photofile.name}]));props.blog([].concat(_toConsumableArray(blog),[{\"Photo\":photofile,\"name\":photofile.name}]));}else if(input_state===\"Video\"){var videofile=e.target[0].files[0];set_blog([].concat(_toConsumableArray(blog),[{\"Video\":videofile,\"name\":videofile.name}]));props.blog([].concat(_toConsumableArray(blog),[{\"Video\":videofile,\"name\":videofile.name}]));}else if(input_state===\"Youtube Video\"){var pathList=e.target[0].value.split('/');var temp_id=pathList[pathList.length-1].split(\"=\");var id=temp_id[temp_id.length-1];set_blog([].concat(_toConsumableArray(blog),[{\"Youtube Video\":id}]));props.blog([].concat(_toConsumableArray(blog),[{\"Youtube Video\":id}]));e.target[0].value=\"\";}final_data.blog=blog;};var login_context=useContext(Login_context);var history=useHistory();var submit_data=useCallback(function(){final_data.blog=blog;console.log(final_data);props.appbodyloading('flex');if(login_context===sessionStorage.session&&(Boolean(sessionStorage.session)||Boolean(login_context))){var login_data=JSON.parse(sessionStorage.login_data);var xhr=new XMLHttpRequest();var blog_details=JSON.stringify(final_data);xhr.open(\"POST\",\"\".concat(appConfig.origin,\"backend_api/uploadBlog\"));xhr.onreadystatechange=function(){if(xhr.readyState===4&&xhr.status===200){var response=JSON.parse(xhr.response);switch(response.status){case\"loginRequired\":history.push('/Login');props.appbodyloading('none');break;case\"fail\":history.push('/Error');props.appbodyloading('none');break;case\"success\":history.push('/Home');props.appbodyloading('none');break;default:console.log(response.status);}}};var formdata=new FormData();for(var i=0;i<final_data.blog.length;i++){var el=final_data.blog[i];if(el.Photo){formdata.append(el.name,el.Photo);}else if(el.Video){formdata.append(el.name,el.Video);}}if(final_data.blog_title_image){formdata.append('blog_title_image',final_data.blog_title_image);}xhr.setRequestHeader(\"session\",login_context);xhr.setRequestHeader(\"logindata\",login_data);formdata.append(\"blogDetails\",blog_details);xhr.send(formdata);}},[blog,login_context]);function rmcomp(i){var b=blog;b.splice(i,1);console.log(\"b-\",b);set_blog(_toConsumableArray(b));props.blog(_toConsumableArray(b));}useEffect(function(){_ref3.current['editing'].scrollTo(0,_ref3.current['editing'].scrollHeight);},[blog]);return/*#__PURE__*/_jsxs(\"div\",{className:\"editing_pane\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"editing\",ref:function ref(el){return _ref3.current['editing']=el;},children:[/*#__PURE__*/_jsx(\"button\",{className:\"upload\",onClick:submit_data,children:\"Upload\"}),/*#__PURE__*/_jsx(\"button\",{className:\"addComponents\",onClick:switch_comp}),blog.map(function(value,index,arr){return/*#__PURE__*/_jsx(Blog_part,{data:value,index:index,arr:arr,rm:rmcomp},index);})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"components\",ref:function ref(el){return _ref3.current['components']=el;},children:[/*#__PURE__*/_jsx(\"h6\",{align:\"center\",className:\"heading\",children:\"Components\"}),/*#__PURE__*/_jsx(\"input\",{onClickCapture:function onClickCapture(e){return change_input_state(e);},name:\"comp\",hidden:true,checked:input_state===\"Heading\",type:\"radio\",value:\"Heading\",id:\"Heading\",defaultChecked:true}),/*#__PURE__*/_jsx(\"label\",{className:\"complist\",htmlFor:\"Heading\",children:\"Heading\"}),/*#__PURE__*/_jsx(\"input\",{onClickCapture:function onClickCapture(e){return change_input_state(e);},name:\"comp\",hidden:true,checked:input_state===\"Paragraph\",type:\"radio\",value:\"Paragraph\",id:\"Paragraph\"}),/*#__PURE__*/_jsx(\"label\",{className:\"complist\",htmlFor:\"Paragraph\",children:\"Paragraph\"}),/*#__PURE__*/_jsx(\"input\",{onClickCapture:function onClickCapture(e){return change_input_state(e);},name:\"comp\",hidden:true,checked:input_state===\"List\",type:\"radio\",value:\"List\",id:\"List\"}),/*#__PURE__*/_jsx(\"label\",{className:\"complist\",htmlFor:\"List\",children:\"List\"}),/*#__PURE__*/_jsx(\"input\",{onClickCapture:function onClickCapture(e){return change_input_state(e);},name:\"comp\",hidden:true,checked:input_state===\"Photo\",type:\"radio\",value:\"Photo\",id:\"Photo\"}),/*#__PURE__*/_jsx(\"label\",{className:\"complist\",htmlFor:\"Photo\",children:\"Photo\"}),/*#__PURE__*/_jsx(\"input\",{onClickCapture:function onClickCapture(e){return change_input_state(e);},name:\"comp\",hidden:true,checked:input_state===\"Video\",type:\"radio\",value:\"Video\",id:\"Video\"}),/*#__PURE__*/_jsx(\"label\",{className:\"complist\",htmlFor:\"Video\",children:\"Video\"}),/*#__PURE__*/_jsx(\"input\",{onClickCapture:function onClickCapture(e){return change_input_state(e);},name:\"comp\",hidden:true,checked:input_state===\"Youtube Video\",type:\"radio\",value:\"Youtube Video\",id:\"Youtube Video\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"complist\",htmlFor:\"Youtube Video\",children:[/*#__PURE__*/_jsx(\"img\",{src:youtubeLogo,width:30,height:30,style:{verticalAlign:\"middle\"}}),\" Video Link\"]})]}),/*#__PURE__*/_jsxs(\"form\",{action:\"javascript:void(0);\",id:\"text_input\",ref:function ref(el){return _ref3.current[\"text_input\"]=el;},cols:\"30\",rows:\"10\",onSubmit:function onSubmit(e){return data_submit(e);},children:[/*#__PURE__*/_jsx(\"span\",{ref:function ref(el){return _ref3.current['comp_tag']=el;},contentEditable:\"false\",className:\"comp_tag\",children:input_state}),/*#__PURE__*/_jsx(\"div\",{ref:function ref(el){return _ref3.current['maintext']=el;},className:\"maintext\",contentEditable:edit_state}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"insert_comp\",ref:function ref(el){return _ref3.current['insert_comp']=el;},value:\"\"})]})]});};var Blog_part=function Blog_part(props){var heading=String(Object.keys(props.data)[0]);var data;if(heading===\"Heading\"){data=/*#__PURE__*/_jsx(\"p\",{className:\"h5\",children:props.data[heading]});}else if(heading===\"Paragraph\"){data=/*#__PURE__*/_jsx(\"p\",{children:\"\".concat(props.data[heading])});}else if(heading===\"List\"){data=/*#__PURE__*/_jsx(\"ul\",{children:props.data[heading].map(function(item){return/*#__PURE__*/_jsx(\"li\",{children:item});})});}else if(heading===\"Photo\"){var url=URL.createObjectURL(props.data[heading]);data=/*#__PURE__*/_jsx(\"img\",{src:url,height:200,width:400,style:{boxShadow:\"rgb(0 0 0 / 20%) 0px 0px 5px 3px\",borderRadius:\"5px\",maxWidth:\"95%\",justifySelf:\"center\"}});}else if(heading===\"Video\"){var _url=URL.createObjectURL(props.data[heading]);data=/*#__PURE__*/_jsx(\"video\",{src:_url,controls:true,style:{boxShadow:\"rgb(0 0 0 / 20%) 0px 0px 5px 3px\",borderRadius:\"5px\",maxWidth:\"95%\",justifySelf:\"center\",zIndex:\"-1\"}});}else if(heading===\"Youtube Video\"){data=/*#__PURE__*/_jsx(\"iframe\",{src:\"https://www.youtube.com/embed/\".concat(props.data[heading]),title:\"YouTube video player\",frameborder:\"0\",style:{boxShadow:\"rgb(0 0 0 / 20%) 0px 0px 5px 3px\",width:\"auto\",height:\"auto\",borderRadius:\"5px\",justifySelf:\"center\"},allow:\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",allowfullscreen:true});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container_part\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"\".concat(heading)}),/*#__PURE__*/_jsx(\"img\",{src:popComp,width:20,height:20,onClick:function onClick(){return props.rm(props.index);},style:{gridArea:\"img\",alignSelf:'center',justifySelf:'center'}}),/*#__PURE__*/_jsx(\"span\",{className:\"container_data\",children:data})]});};","map":{"version":3,"sources":["D:/Python files/Start Django/blog_tube/frontend/blog_tube/src/componenets/appUploadBlog.js"],"names":["React","useEffect","useContext","useState","useCallback","useMemo","useRef","useHistory","useRouteMatch","CacheSwitch","Switch","CacheRoute","Route","Login_context","$","appConfig","logout","final_data","AppUploadBlog","props","login_context","history","ref","upload_blog_state","set_upload_blog_state","change_image","event","target","files","image_file","image_url","URL","createObjectURL","image_span","css","backgroundSize","backgroundPosition","backdropFilter","forward_to_editor","preventDefault","title","current","value","discription","push","blog_info","el","gridArea","alignSelf","justifySelf","display","editor_state","set_editor_state","set_to_editor","e","blog","set_blog","set_myblog","data","blog_editor","state","appbodyloading","Boolean","sessionStorage","session","reload","window","addEventListener","removeEventListener","Preview_tab","data_list","set_data_list","context","list","console","log","xhr","XMLHttpRequest","open","origin","onreadystatechange","readyState","status","response","JSON","parse","hydratedBlog","setRequestHeader","formdata","FormData","append","stringify","send","map","item","__html","Blog","children","Editor_tabs","click","path","url","change_state","editor_image","preview_image","Editing_pane","edit_state","set_edit_state","mq","matchMedia","switch_comp","style","matches","input_state","set_input_state","change_input_state","focus","innerHTML","classList","remove","add","widget","data_submit","nativeEvent","stopImmediatePropagation","heading","innerText","para","split","filter","i","photofile","name","videofile","pathList","temp_id","length","id","submit_data","login_data","blog_details","Photo","Video","blog_title_image","rmcomp","b","splice","scrollTo","scrollHeight","index","arr","youtubeLogo","verticalAlign","Blog_part","String","Object","keys","boxShadow","borderRadius","maxWidth","zIndex","width","height","popComp","rm"],"mappings":"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","sourcesContent":["import React ,{useEffect ,useContext , useState, useCallback, useMemo, useRef} from 'react'\r\nimport { useHistory, useRouteMatch  } from 'react-router'\r\nimport { CacheSwitch as Switch , CacheRoute as Route  } from 'react-router-cache-route'\r\nimport { Login_context } from '../App'\r\nimport './statics/css/appUploadBlog.css'\r\nimport $ from \"jquery\"\r\nimport preview_image from './statics/images/preview.svg'\r\nimport editor_image from './statics/images/editor.svg'\r\nimport youtubeLogo from './statics/images/youtubeLogo.svg'\r\nimport popComp from './statics/images/popComp.svg'\r\nimport appConfig from './statics/appConfig.json'\r\nimport { logout } from './statics/utils'\r\n\r\n\r\nvar final_data = {}\r\n\r\nvar AppUploadBlog = props=>{\r\n    var login_context  = useContext(Login_context)\r\n    const history  = useHistory()\r\n    const ref = useRef({})\r\n\r\n    const [upload_blog_state , set_upload_blog_state] = useState('blog')\r\n    \r\n    \r\n    const change_image = useCallback(event=>{\r\n        let target = $('#label_image')\r\n        if (event.target.files != []){\r\n        let image_file = event.target.files[0]\r\n        \r\n        let image_url = URL.createObjectURL(image_file)\r\n        let image_span = $('#image_span')\r\n        image_span.css({\r\n            'backgroundImage':`url(${image_url})`,\r\n            backgroundSize:'contain',\r\n            backgroundPosition : 'center',\r\n            backdropFilter:'blur(3px)',\r\n            'borderRadius':'20px',\r\n           \r\n        })\r\n        target.css({'backgroundImage': `url(${image_url})`})\r\n        final_data['blog_title_image']=image_file\r\n    }else\r\n        target.css({'borderRadius':'20px',\r\n           'backgroundSize' :'cover',\r\n           \"boxShadow\": \"0px 1px 7px 3px #1976d2\"\r\n        })        \r\n    },[])\r\n\r\n    const forward_to_editor = useCallback((event)=>{\r\n        event.preventDefault()\r\n        final_data.title = ref.current['blog_title'].value\r\n        final_data.discription = ref.current['blog_discription'].value\r\n        set_upload_blog_state('blog_editor')\r\n        history.push(\"/UploadBlog/editor\")\r\n    })\r\n    \r\n    const blog_info = useMemo(()=>(\r\n        <form className=\"blog_info\" action='javascript:void(0);' onSubmit = {event=>forward_to_editor(event)}>\r\n            <div className=\"blog_info_child\">\r\n            <h1 align = \"center\">Blog Information </h1>\r\n            <label htmlFor=\"blog_title\" id = \"label_title\">Title</label>\r\n            <input type=\"text\" autoFocus placeholder = \"Title\" autoComplete=\"off\" spellCheck=\"true\" autoCapitalize=\"words\"  id = \"blog_title\" maxLength={100} ref= {el =>ref.current['blog_title']=el} required />\r\n\r\n            <label htmlFor=\"blog_discription\" id = \"label_discription\">Discription</label>\r\n            <textarea type=\"text\" autoComplete=\"off\" spellCheck=\"true\" autoCapitalize=\"sentences\" id=\"blog_discription\" placeholder=\"Discription\" maxLength={200} ref= {el =>ref.current['blog_discription']=el} />\r\n\r\n            <span id=\"span_label\" style = {{gridArea:\"image\",alignSelf:\"center\",justifySelf:\"center\" ,display:\"grid\"}}><label htmlFor=\"blog_image\" id = \"label_image\" ><span id = \"image_span\"></span></label></span>\r\n            <input type=\"file\" id = \"blog_image\" accept=\"image/*\" onChange={change_image} hidden />\r\n\r\n            <input type=\"submit\"  value=\"Next\" id = \"submit\" />\r\n            </div>\r\n\r\n        </form>\r\n    ),[upload_blog_state, change_image,forward_to_editor])\r\n\r\n    const [editor_state,set_editor_state] = useState('editor')\r\n\r\n    let set_to_editor= e=>{\r\n        set_editor_state(e.target.value)\r\n    }\r\n    useEffect(()=>{\r\n        if (editor_state===\"editor\"){\r\n            history.push(\"/UploadBlog/editor\")\r\n            set_editor_state(\"editor\")\r\n        }else if (editor_state === \"preview\"){\r\n            history.push(\"/UploadBlog/preview\")\r\n            set_editor_state(\"preview\")\r\n        }\r\n    },[editor_state])\r\n\r\n    const[blog , set_blog] = useState([])\r\n    const set_myblog = useCallback(data=>set_blog(data))\r\n\r\n    const blog_editor = useMemo(()=>(\r\n        <div className=\"editor\">\r\n            <Editor_tabs change_state = {set_to_editor} editor_state = {editor_state} />\r\n\r\n            <Switch>\r\n                <Route exact path = \"/UploadBlog/editor\">\r\n                    <Editing_pane appbodyloading = {state =>props.appbodyloading(state)} blog = {set_myblog} />\r\n                </Route>\r\n                <Route exact path=\"/UploadBlog/preview\">\r\n                    <Preview_tab list = {blog} appbodyloading={state =>props.appbodyloading(state)} />\r\n                </Route>\r\n            </Switch>\r\n        </div>\r\n    ))\r\n    \r\n    useEffect(()=>{\r\n        final_data['blog_title_image']=\"\"\r\n        if (!Boolean(login_context) || !Boolean(sessionStorage.session)){\r\n            history.push('/Login')\r\n            return null\r\n        }\r\n    },[login_context,sessionStorage])\r\n    useEffect(()=>{\r\n        const reload = ()=>\"Changes will Not be SavedðŸ˜¥\"\r\n        window.addEventListener(\"beforeunload\" , reload  ,true)\r\n        return ()=>window.removeEventListener('beforeunload' ,reload,true)\r\n    },[])\r\n    return(\r\n        <div className=\"blog_upload_page\">\r\n            {upload_blog_state === 'blog'? blog_info : null}\r\n            {upload_blog_state === 'blog_editor'?blog_editor:null}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default  AppUploadBlog;\r\n\r\nvar Preview_tab =props =>{\r\n    const history = useHistory()\r\n    const [data_list, set_data_list] = useState([])\r\n    var context = useContext(Login_context)\r\n    useEffect(()=>{\r\n        if (props.list && sessionStorage.session === context && (Boolean(sessionStorage.session) && Boolean(context))){\r\n        console.log(props.list)\r\n        props.appbodyloading('flex')\r\n        let xhr = new XMLHttpRequest()\r\n        xhr.open(\"POST\" , appConfig.origin+\"backend_api/blogPreview\")\r\n        xhr.onreadystatechange =()=>{\r\n            if (xhr.readyState === 4 && xhr.status === 200){\r\n                let response = JSON.parse(xhr.response)\r\n                switch (response.status) {\r\n                    case \"success\":\r\n                        set_data_list(response.hydratedBlog)\r\n                        console.log(\"data_list:\",data_list)\r\n                        props.appbodyloading('none')\r\n                        break;\r\n                    case \"loginRequired\":\r\n                        history.push(\"/Login\")\r\n                        console.log(\"backend_api/blogPreview\" ,response)\r\n                        logout()\r\n                        props.appbodyloading('none')\r\n                        break\r\n                    default:\r\n                        console.log(response.status)\r\n                        props.appbodyloading('none')\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n        xhr.setRequestHeader(\"session\" , context)\r\n        xhr.setRequestHeader(\"contentType\" , \"application/json;charset=utf-8\")\r\n        let formdata = new FormData()\r\n        formdata.append('blog' , JSON.stringify(props.list))\r\n        xhr.send(formdata)}\r\n    },[props.list,context])\r\n    return(\r\n        <div className=\"showpreview\">\r\n            <Blog>\r\n                {data_list.map(item=>(<div className=\"container_data\" dangerouslySetInnerHTML = {{__html: item}}></div>))}\r\n            </Blog>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Blog =props=>{\r\n    return(<div className=\"blog_preview\">\r\n        {props.children}\r\n    </div>)\r\n}\r\n\r\nexport {Blog}\r\n\r\n\r\nvar Editor_tabs= props =>{\r\n    const ref = useRef({})\r\n    useEffect(()=>{\r\n        ref.current[props.editor_state].click()\r\n    },[props.editor_state])\r\n    const {path , url} = useRouteMatch()\r\n\r\n    useEffect(()=>{\r\n        if (path === \"/UploadBlog/editor\"){\r\n            props.change_state(\"editor\")\r\n        }else if (path === \"/UploadBlog/preview\"){\r\n            props.change_state(\"preview\")\r\n        }\r\n    },[])\r\n    return(\r\n        <div className=\"tabs\">\r\n            <input ref = {el=>ref.current['editor']=el} type=\"radio\" name=\"tabs\" id=\"editer_radio\" value={\"editor\"} onInput= {(e)=>props.change_state(e)} hidden   defaultChecked />\r\n            <label htmlFor=\"editer_radio\" id = \"label_editor\" ><img src = {editor_image}  className = \"label_ico\" />Editor</label>\r\n            <input ref = {el=>ref.current['preview']=el} type=\"radio\" name=\"tabs\" id=\"preview_radio\" value= \"preview\" onInput= {(e)=>props.change_state(e)} hidden   />\r\n            <label htmlFor= \"preview_radio\" id = \"label_preview\" ><img src = {preview_image}  className = \"label_ico\" />Preview</label>\r\n        </div>\r\n        )\r\n}\r\n\r\nvar Editing_pane = props =>{\r\n    const ref = useRef({})\r\n    const [edit_state , set_edit_state ] = useState(true)\r\n\r\n    const mq = window.matchMedia(\"(max-width : 767px)\") \r\n\r\n    const switch_comp = useCallback(()=>{\r\n        let display = ref.current['components'].style.display\r\n        if (mq.matches){\r\n            if (display === \"none\" || display === \"\"){\r\n                ref.current['components'].style.display = \"flex\"\r\n            }else{\r\n                ref.current['components'].style.display = \"\"\r\n            }\r\n        }else{\r\n            ref.current['components'].style.display = \"flex\"\r\n        }\r\n\r\n    },[mq])\r\n\r\n    const [input_state , set_input_state] = useState(\"Heading\")\r\n\r\n    function change_input_state(event){\r\n        set_input_state(event.target.value)\r\n        ref.current['maintext'].focus()\r\n    }\r\n\r\n    useEffect(()=>{\r\n        ref.current['maintext'].innerHTML = \"\"\r\n        if (input_state === \"Photo\" || input_state === \"Video\"||input_state === \"Youtube Video\" ){\r\n            set_edit_state(false)\r\n            ref.current['maintext'].classList.remove(\"bullet_list\")\r\n\r\n        }else if(input_state === \"List\"){\r\n            set_edit_state(true)\r\n            ref.current['maintext'].classList.add(\"bullet_list\")\r\n        }        \r\n        else{\r\n            set_edit_state(true)\r\n        ref.current['maintext'].classList.remove(\"bullet_list\")\r\n        }\r\n\r\n        let widget ;\r\n\r\n\r\n        switch (input_state) {\r\n            case \"Video\":\r\n                widget = (`<input type= \"file\" accept =\"video/*\" id = \"videofile\" hidden  required />\r\n                           <label  for = \"videofile\">Video</label> `)\r\n                set_edit_state(false)\r\n                break;\r\n            case \"Photo\":\r\n                widget = (`<input type= \"file\" accept =\"image/*\" id = \"photofile\" hidden required />\r\n                           <label  for = \"photofile\">Photo</label> `)\r\n                set_edit_state(false)\r\n                break;\r\n            case \"Youtube Video\":\r\n                widget = (` <label  for = \"videolink\" style = \"border:none;padding:0;\">video Link</label> \r\n                            <input  style=\"    height: 20px;\r\n                            width: 90%;\r\n                            margin: 0;\r\n                            place-self: center;\r\n                            padding: 0;\r\n                            border-color: blueviolet;\r\n                            border-radius: 5px\"  type= \"url\" id = \"videolink\" required  />`)\r\n                set_edit_state(false)\r\n                break;        \r\n            default:\r\n                widget=\"\"\r\n                    set_edit_state(true)\r\n                    break;\r\n        }\r\n        ref.current['maintext'].innerHTML = widget\r\n\r\n    }, [input_state])\r\n\r\n    const [blog , set_blog] = useState([])\r\n    useEffect(()=>props.blog([]),[])\r\n\r\n    const data_submit = e=>{\r\n        e.preventDefault()\r\n        e.nativeEvent.stopImmediatePropagation();\r\n        if (input_state === \"Heading\"){\r\n            let heading = ref.current['maintext'].innerText\r\n            set_blog([...blog,{\"Heading\" : heading}])\r\n            props.blog([...blog,{\"Heading\" : heading}])\r\n            ref.current['maintext'].innerText = \"\"\r\n        }else if (input_state === \"Paragraph\"){\r\n            let para = ref.current['maintext'].innerText\r\n            set_blog([...blog,{\"Paragraph\" : para}])\r\n            props.blog([...blog,{\"Paragraph\" : para}])\r\n            ref.current['maintext'].innerText = \"\"\r\n        }else if (input_state === \"List\"){\r\n            let list = ref.current['maintext'].innerText\r\n            list = list.split(\"\\n\").filter(i=>i?i:null)\r\n            set_blog([...blog,{\"List\":list}])\r\n            props.blog([...blog,{\"List\":list}])\r\n            ref.current['maintext'].innerText = \"\"\r\n        }else if (input_state === \"Photo\"){\r\n            \r\n            let photofile = e.target[0].files[0]\r\n            set_blog([...blog,{ \"Photo\": photofile , \"name\" : photofile.name}])\r\n            props.blog([...blog,{ \"Photo\": photofile , \"name\" : photofile.name}])\r\n        \r\n        }else if  (input_state === \"Video\" ){\r\n           \r\n                \r\n            let videofile = e.target[0].files[0]\r\n            set_blog([...blog,{ \"Video\": videofile, \"name\" : videofile.name}])\r\n            props.blog([...blog,{ \"Video\": videofile, \"name\" : videofile.name}])\r\n           \r\n        }\r\n        else if (input_state === \"Youtube Video\"){\r\n            let pathList = e.target[0].value.split('/')\r\n            let temp_id = pathList[pathList.length - 1].split(\"=\")\r\n            let id = temp_id[temp_id.length - 1]\r\n            set_blog([...blog,{\"Youtube Video\": id}])\r\n            props.blog([...blog,{\"Youtube Video\": id}])\r\n            e.target[0].value = \"\"\r\n        }\r\n        final_data.blog = blog\r\n    }\r\n    var login_context = useContext(Login_context)\r\n    const history = useHistory()\r\n    const submit_data  = useCallback(()=>{\r\n        final_data.blog = blog\r\n        console.log(final_data)\r\n        props.appbodyloading('flex')\r\n        if (login_context === sessionStorage.session && (Boolean(sessionStorage.session) || Boolean(login_context))){\r\n            let login_data = JSON.parse(sessionStorage.login_data)\r\n            let xhr = new XMLHttpRequest()\r\n            let blog_details = JSON.stringify(final_data)\r\n            xhr.open(\"POST\" , `${appConfig.origin}backend_api/uploadBlog`)\r\n            xhr.onreadystatechange = ()=>{\r\n                if (xhr.readyState === 4 && xhr.status === 200){\r\n                    let response =JSON.parse( xhr.response)\r\n                    switch (response.status) {\r\n                        case \"loginRequired\":\r\n                            history.push('/Login')\r\n                            props.appbodyloading('none')\r\n                            break;\r\n                        case \"fail\":\r\n                            history.push('/Error')\r\n                            props.appbodyloading('none')\r\n                            break;\r\n                        case \"success\":\r\n                            history.push('/Home')\r\n                            props.appbodyloading('none')\r\n                            break;\r\n                        default:\r\n                            console.log(response.status);\r\n                    }\r\n                }\r\n            }\r\n            let formdata = new FormData()\r\n            for (var i = 0; i < final_data.blog.length;i++ ){\r\n                let el = final_data.blog[i]\r\n                if (el.Photo){\r\n                    formdata.append(el.name , el.Photo)\r\n                }else if(el.Video){\r\n                    formdata.append(el.name , el.Video)\r\n                }\r\n            }\r\n            if (final_data.blog_title_image){\r\n                formdata.append('blog_title_image' , final_data.blog_title_image)\r\n            }\r\n            xhr.setRequestHeader(\"session\" , login_context)\r\n            xhr.setRequestHeader(\"logindata\" , login_data)\r\n            formdata.append(\"blogDetails\" , blog_details)\r\n            xhr.send(formdata)\r\n        }\r\n    },[blog,login_context])\r\n    \r\n    function rmcomp(i){\r\n        let b = blog\r\n        b.splice(i, 1)\r\n        console.log(\"b-\",b)\r\n        set_blog([...b])\r\n        props.blog([...b])\r\n    }\r\n\r\n    useEffect(()=>{\r\n        ref.current['editing'].scrollTo(0,ref.current['editing'].scrollHeight )\r\n    },[blog])\r\n\r\n    return (\r\n        <div className=\"editing_pane\">\r\n            <div className=\"editing\" ref ={el=>ref.current['editing']=el}>\r\n                <button className = \"upload\" onClick ={submit_data}  >Upload</button>\r\n                <button className = \"addComponents\" onClick = {switch_comp} ></button>\r\n\r\n                {blog.map((value , index, arr)=>{return (<Blog_part data = {value} index={index} key= {index} arr= {arr} rm = {rmcomp} />)})}\r\n\r\n            </div>\r\n            <div className=\"components\" ref = {el=>ref.current['components']=el}>\r\n                <h6 align = \"center\" className=\"heading\">Components</h6>\r\n                <input onClickCapture={e=>change_input_state(e)} name=\"comp\" hidden checked = {input_state === \"Heading\" } type=\"radio\"  value=\"Heading\"     id=\"Heading\"    defaultChecked/>\r\n                <label className=\"complist\" htmlFor=\"Heading\">Heading</label>\r\n                <input onClickCapture={e=>change_input_state(e)} name=\"comp\" hidden checked = {input_state === \"Paragraph\" } type=\"radio\"  value=\"Paragraph\"     id=\"Paragraph\"    />\r\n                <label className=\"complist\" htmlFor=\"Paragraph\">Paragraph</label>\r\n                <input onClickCapture={e=>change_input_state(e)} name=\"comp\" hidden checked = {input_state === \"List\" } type=\"radio\"  value=\"List\"     id=\"List\"    />\r\n                <label className=\"complist\" htmlFor=\"List\">List</label>\r\n                <input onClickCapture={e=>change_input_state(e)} name=\"comp\" hidden checked = {input_state === \"Photo\" } type=\"radio\"  value=\"Photo\"     id=\"Photo\"    />\r\n                <label className=\"complist\" htmlFor=\"Photo\">Photo</label>\r\n                <input onClickCapture={e=>change_input_state(e)} name=\"comp\" hidden checked = {input_state === \"Video\" } type=\"radio\"  value=\"Video\"     id=\"Video\"    />\r\n                <label className=\"complist\" htmlFor=\"Video\">Video</label>\r\n                <input onClickCapture={e=>change_input_state(e)} name=\"comp\" hidden checked = {input_state === \"Youtube Video\"} type=\"radio\"  value=\"Youtube Video\"     id=\"Youtube Video\"    />\r\n                <label className=\"complist\" htmlFor=\"Youtube Video\"><img src={youtubeLogo} width = {30} height={30} style={{verticalAlign:\"middle\"}} /> Video Link</label>\r\n\r\n\r\n\r\n            </div>\r\n\r\n            <form action=\"javascript:void(0);\" id=\"text_input\" ref = {el=>ref.current[\"text_input\"]=el} cols=\"30\" rows=\"10\"  onSubmit= {e=>data_submit(e)} >\r\n                <span ref = {el => ref.current['comp_tag']=el} contentEditable = \"false\" className=\"comp_tag\">{input_state}</span>\r\n                <div ref = {el => ref.current['maintext']= el}  className=\"maintext\"contentEditable = {edit_state}></div>\r\n                <input type=\"submit\" className=\"insert_comp\" ref = {el => ref.current['insert_comp']=el} value=\"\" />\r\n            </form >\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Blog_part = props=>{\r\n    let heading = String(Object.keys(props.data)[0])\r\n    let data\r\n    if (heading === \"Heading\"){\r\n        data =(<p className = \"h5\">{props.data[heading]}</p>) \r\n    }else if (heading === \"Paragraph\"){\r\n        data = (<p>{`${props.data[heading]}`}</p>)\r\n    }\r\n    else if (heading === \"List\"){\r\n        data = (<ul>\r\n            {props.data[heading].map(item=>(<li>{item}</li>))}\r\n            </ul>\r\n            )\r\n    }else if(heading ===\"Photo\"){\r\n        let url = URL.createObjectURL(props.data[heading])\r\n        data =(<img src = {url} height={200} width={400}  style={{boxShadow:\"rgb(0 0 0 / 20%) 0px 0px 5px 3px\", borderRadius : \"5px\", maxWidth:\"95%\",justifySelf:\"center\"}  } />)\r\n    }else if(heading ===\"Video\"){\r\n        let url = URL.createObjectURL(props.data[heading])\r\n        data =(<video src = {url}  controls style={{boxShadow:\"rgb(0 0 0 / 20%) 0px 0px 5px 3px\", borderRadius : \"5px\" , maxWidth:\"95%\" ,justifySelf:\"center\" ,zIndex:\"-1\" }} />)\r\n    }else if(heading === \"Youtube Video\"){\r\n        data = (<iframe  src={`https://www.youtube.com/embed/${props.data[heading]}`}\r\n        title=\"YouTube video player\" frameborder=\"0\" style={{boxShadow:\"rgb(0 0 0 / 20%) 0px 0px 5px 3px\",width :\"auto\",height:\"auto\", borderRadius : \"5px\" ,justifySelf:\"center\"}}\r\n        allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" \r\n        allowfullscreen></iframe>)\r\n    }\r\n    return (\r\n        <div className=\"container_part\">\r\n            <h5>{`${heading}`}</h5>\r\n         <img src={popComp} width = {20} height= {20} onClick={()=>props.rm(props.index)} style = {{gridArea:\"img\", alignSelf:'center' , justifySelf :'center'}}  />\r\n            <span className=\"container_data\">{data}</span>\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}