{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _iframeResizer = require('iframe-resizer');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/**\n *\n * inject script to facilitate iframe resizing\n * https://github.com/davidjbradshaw/iframe-resizer\n *\n */\n\n\nvar IframeResizer = function (_React$Component) {\n  (0, _inherits3.default)(IframeResizer, _React$Component);\n\n  function IframeResizer() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    (0, _classCallCheck3.default)(this, IframeResizer);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = IframeResizer.__proto__ || (0, _getPrototypeOf2.default)(IframeResizer)).call.apply(_ref, [this].concat(args))), _this), _this.updateIframe = function (props) {\n      // has src - no injected content\n      if (props.src) return; // do we have content to inject (content or children)\n\n      var content = props.content || props.children;\n      if (!content) return; // get frame to inject into\n\n      var frame = _this.refs.frame;\n      if (!frame) return; // verify frame document access\n      // Due to browser security, this will fail with the following error\n      //   Uncaught DOMException: Failed to read the 'contentDocument' property from 'HTMLIFrameElement':\n      //   Blocked a frame with origin \"http://<hostname>\" from accessing a cross-origin frame.\n      // resolve this by loading documents from the same domain name,\n      // or injecting HTML `content` vs. loading via `src`\n\n      var doc = frame.contentDocument;\n      if (!doc) return; // replace iframe document content\n\n      if (typeof content === 'string') {\n        // assume this is a HTML block\n        //   we could send this in via REACT dangerously set HTML\n        //   but we are in an iframe anyway, already a red-headed step-child.\n        doc.open();\n        doc.write(content);\n        doc.close();\n      } else {\n        // assume this is a REACT component\n        doc.open();\n        doc.write('<div id=\"iframe-root\"></div>');\n        doc.close();\n\n        _reactDom2.default.render(content, doc.getElementById('iframe-root'));\n      }\n    }, _this.injectIframeResizerUrl = function () {\n      if (!_this.props.iframeResizerUrl) return;\n      var frame = _this.refs.frame;\n      if (!frame) return; // verify frame document access\n      // Due to browser security, this will fail with the following error\n      //   Uncaught DOMException: Failed to read the 'contentDocument' property from 'HTMLIFrameElement':\n      //   Blocked a frame with origin \"http://<hostname>\" from accessing a cross-origin frame.\n      // resolve this by loading documents from the same domain name,\n      // or injecting HTML `content` vs. loading via `src`\n\n      var doc = frame.contentDocument;\n      if (!doc) return; // where can we insert into? (fail into whatever we can find)\n\n      var injectTarget = null;\n      ['head', 'HEAD', 'body', 'BODY', 'div', 'DIV'].forEach(function (tagName) {\n        if (injectTarget) return;\n        var found = doc.getElementsByTagName(tagName);\n        if (!(found && found.length)) return;\n        injectTarget = found[0];\n      });\n\n      if (!injectTarget) {\n        console.error('Unable to inject iframe resizer script');\n        return;\n      }\n\n      var resizerScriptElement = document.createElement('script');\n      resizerScriptElement.type = 'text/javascript';\n      resizerScriptElement.src = _this.props.iframeResizerUrl;\n      injectTarget.appendChild(resizerScriptElement);\n    }, _this.onLoad = function () {\n      _this.injectIframeResizerUrl(); // DISABLED because it's causing a loading loop :(\n      // if (this.props.onIframeLoaded) this.props.onIframeLoaded();\n\n    }, _this.resizeIframe = function (props) {\n      var frame = _this.refs.frame;\n      if (!frame) return;\n\n      if (props.iframeResizerEnable) {\n        (0, _iframeResizer.iframeResizer)(props.iframeResizerOptions, frame);\n      }\n    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n  }\n\n  (0, _createClass3.default)(IframeResizer, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      // can't update until we have a mounted iframe\n      this.updateIframe(this.props);\n      this.resizeIframe(this.props);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      // React will remove the iframe, however we need to manually\n      // call iframe-resizer to stop its listeners\n      var iframeResizer = this.refs.frame.iFrameResizer;\n      iframeResizer && iframeResizer.removeListeners();\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      // can replace content if we got new props\n      this.updateIframe(nextProps);\n      this.resizeIframe(nextProps);\n    } // inject the iframe resizer \"content window\" script\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          src = _props.src,\n          id = _props.id,\n          frameBorder = _props.frameBorder,\n          className = _props.className,\n          style = _props.style;\n      return _react2.default.createElement('iframe', {\n        ref: 'frame',\n        src: src,\n        id: id,\n        frameBorder: frameBorder,\n        className: className,\n        style: style,\n        onLoad: this.onLoad\n      });\n    }\n  }]);\n  return IframeResizer;\n}(_react2.default.Component);\n\nIframeResizer.propTypes = {\n  // iframe content/document\n  // option 1. content of HTML to load in the iframe\n  content: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.element]),\n  // option 2. src to a URL to load in the iframe\n  src: _propTypes2.default.string,\n  // iframe-resizer controls and helpers\n  iframeResizerEnable: _propTypes2.default.bool,\n  iframeResizerOptions: _propTypes2.default.object,\n  iframeResizerUrl: _propTypes2.default.oneOfType([_propTypes2.default.string, // URL to inject\n  _propTypes2.default.bool] // false = disable inject\n  ),\n  // misc props to pass through to iframe\n  id: _propTypes2.default.string,\n  frameBorder: _propTypes2.default.number,\n  className: _propTypes2.default.string,\n  style: _propTypes2.default.object // optional extra callback when iframe is loaded\n  // onIframeLoaded: PropTypes.func,\n\n};\nIframeResizer.defaultProps = {\n  // resize iframe\n  iframeResizerEnable: true,\n  iframeResizerOptions: {// log: true,\n    // autoResize: true,\n    // checkOrigin: false,\n    // resizeFrom: 'parent',\n    // heightCalculationMethod: 'max',\n    // initCallback: () => { console.log('ready!'); },\n    // resizedCallback: () => { console.log('resized!'); },\n  },\n  iframeResizerUrl: 'https://cdnjs.cloudflare.com/ajax/libs/iframe-resizer/3.5.8/iframeResizer.contentWindow.min.js',\n  // misc props to pass through to iframe\n  frameBorder: 0,\n  style: {\n    width: '100%',\n    minHeight: 20\n  }\n};\nexports.default = IframeResizer;","map":{"version":3,"sources":["D:/Python files/Start Django/blog_tube/frontend/blog_tube/node_modules/react-iframe-resizer-super/dist/index.js"],"names":["Object","defineProperty","exports","value","_getPrototypeOf","require","_getPrototypeOf2","_interopRequireDefault","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_react","_react2","_propTypes","_propTypes2","_reactDom","_reactDom2","_iframeResizer","obj","__esModule","default","IframeResizer","_React$Component","_ref","_temp","_this","_ret","_len","arguments","length","args","Array","_key","__proto__","call","apply","concat","updateIframe","props","src","content","children","frame","refs","doc","contentDocument","open","write","close","render","getElementById","injectIframeResizerUrl","iframeResizerUrl","injectTarget","forEach","tagName","found","getElementsByTagName","console","error","resizerScriptElement","document","createElement","type","appendChild","onLoad","resizeIframe","iframeResizerEnable","iframeResizer","iframeResizerOptions","key","componentDidMount","componentWillUnmount","iFrameResizer","removeListeners","componentWillReceiveProps","nextProps","_props","id","frameBorder","className","style","ref","Component","propTypes","oneOfType","string","element","bool","object","number","defaultProps","width","minHeight"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _iframeResizer = require('iframe-resizer');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n *\n * inject script to facilitate iframe resizing\n * https://github.com/davidjbradshaw/iframe-resizer\n *\n */\nvar IframeResizer = function (_React$Component) {\n  (0, _inherits3.default)(IframeResizer, _React$Component);\n\n  function IframeResizer() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    (0, _classCallCheck3.default)(this, IframeResizer);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = IframeResizer.__proto__ || (0, _getPrototypeOf2.default)(IframeResizer)).call.apply(_ref, [this].concat(args))), _this), _this.updateIframe = function (props) {\n      // has src - no injected content\n      if (props.src) return;\n      // do we have content to inject (content or children)\n      var content = props.content || props.children;\n      if (!content) return;\n      // get frame to inject into\n      var frame = _this.refs.frame;\n      if (!frame) return;\n      // verify frame document access\n      // Due to browser security, this will fail with the following error\n      //   Uncaught DOMException: Failed to read the 'contentDocument' property from 'HTMLIFrameElement':\n      //   Blocked a frame with origin \"http://<hostname>\" from accessing a cross-origin frame.\n      // resolve this by loading documents from the same domain name,\n      // or injecting HTML `content` vs. loading via `src`\n      var doc = frame.contentDocument;\n      if (!doc) return;\n      // replace iframe document content\n      if (typeof content === 'string') {\n        // assume this is a HTML block\n        //   we could send this in via REACT dangerously set HTML\n        //   but we are in an iframe anyway, already a red-headed step-child.\n        doc.open();\n        doc.write(content);\n        doc.close();\n      } else {\n        // assume this is a REACT component\n        doc.open();\n        doc.write('<div id=\"iframe-root\"></div>');\n        doc.close();\n        _reactDom2.default.render(content, doc.getElementById('iframe-root'));\n      }\n    }, _this.injectIframeResizerUrl = function () {\n      if (!_this.props.iframeResizerUrl) return;\n      var frame = _this.refs.frame;\n      if (!frame) return;\n      // verify frame document access\n      // Due to browser security, this will fail with the following error\n      //   Uncaught DOMException: Failed to read the 'contentDocument' property from 'HTMLIFrameElement':\n      //   Blocked a frame with origin \"http://<hostname>\" from accessing a cross-origin frame.\n      // resolve this by loading documents from the same domain name,\n      // or injecting HTML `content` vs. loading via `src`\n      var doc = frame.contentDocument;\n      if (!doc) return;\n      // where can we insert into? (fail into whatever we can find)\n      var injectTarget = null;\n      ['head', 'HEAD', 'body', 'BODY', 'div', 'DIV'].forEach(function (tagName) {\n        if (injectTarget) return;\n        var found = doc.getElementsByTagName(tagName);\n        if (!(found && found.length)) return;\n        injectTarget = found[0];\n      });\n      if (!injectTarget) {\n        console.error('Unable to inject iframe resizer script');\n        return;\n      }\n      var resizerScriptElement = document.createElement('script');\n      resizerScriptElement.type = 'text/javascript';\n      resizerScriptElement.src = _this.props.iframeResizerUrl;\n      injectTarget.appendChild(resizerScriptElement);\n    }, _this.onLoad = function () {\n      _this.injectIframeResizerUrl();\n      // DISABLED because it's causing a loading loop :(\n      // if (this.props.onIframeLoaded) this.props.onIframeLoaded();\n    }, _this.resizeIframe = function (props) {\n      var frame = _this.refs.frame;\n      if (!frame) return;\n      if (props.iframeResizerEnable) {\n        (0, _iframeResizer.iframeResizer)(props.iframeResizerOptions, frame);\n      }\n    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n  }\n\n  (0, _createClass3.default)(IframeResizer, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      // can't update until we have a mounted iframe\n      this.updateIframe(this.props);\n      this.resizeIframe(this.props);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      // React will remove the iframe, however we need to manually\n      // call iframe-resizer to stop its listeners\n      var iframeResizer = this.refs.frame.iFrameResizer;\n      iframeResizer && iframeResizer.removeListeners();\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      // can replace content if we got new props\n      this.updateIframe(nextProps);\n      this.resizeIframe(nextProps);\n    }\n    // inject the iframe resizer \"content window\" script\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          src = _props.src,\n          id = _props.id,\n          frameBorder = _props.frameBorder,\n          className = _props.className,\n          style = _props.style;\n\n      return _react2.default.createElement('iframe', {\n        ref: 'frame',\n        src: src,\n        id: id,\n        frameBorder: frameBorder,\n        className: className,\n        style: style,\n        onLoad: this.onLoad\n      });\n    }\n  }]);\n  return IframeResizer;\n}(_react2.default.Component);\n\nIframeResizer.propTypes = {\n  // iframe content/document\n  // option 1. content of HTML to load in the iframe\n  content: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.element]),\n  // option 2. src to a URL to load in the iframe\n  src: _propTypes2.default.string,\n  // iframe-resizer controls and helpers\n  iframeResizerEnable: _propTypes2.default.bool,\n  iframeResizerOptions: _propTypes2.default.object,\n  iframeResizerUrl: _propTypes2.default.oneOfType([_propTypes2.default.string, // URL to inject\n  _propTypes2.default.bool] // false = disable inject\n  ),\n  // misc props to pass through to iframe\n  id: _propTypes2.default.string,\n  frameBorder: _propTypes2.default.number,\n  className: _propTypes2.default.string,\n  style: _propTypes2.default.object\n  // optional extra callback when iframe is loaded\n  // onIframeLoaded: PropTypes.func,\n};\nIframeResizer.defaultProps = {\n  // resize iframe\n  iframeResizerEnable: true,\n  iframeResizerOptions: {\n    // log: true,\n    // autoResize: true,\n    // checkOrigin: false,\n    // resizeFrom: 'parent',\n    // heightCalculationMethod: 'max',\n    // initCallback: () => { console.log('ready!'); },\n    // resizedCallback: () => { console.log('resized!'); },\n  },\n  iframeResizerUrl: 'https://cdnjs.cloudflare.com/ajax/libs/iframe-resizer/3.5.8/iframeResizer.contentWindow.min.js',\n  // misc props to pass through to iframe\n  frameBorder: 0,\n  style: {\n    width: '100%',\n    minHeight: 20\n  }\n};\n\nexports.default = IframeResizer;"]},"metadata":{},"sourceType":"script"}