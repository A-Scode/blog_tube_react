{"ast":null,"code":"var _jsxFileName = \"D:\\\\Python files\\\\Start Django\\\\blog_tube\\\\frontend\\\\blog_tube\\\\src\\\\componenets\\\\appUploadBlog.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useContext, useState, useCallback, createElement } from 'react';\nimport { Redirect, useHistory } from 'react-router';\nimport { Login_context } from '../App';\nimport './statics/css/appUploadBlog.css';\nimport $ from \"jquery\";\nimport domtoimage from 'dom-to-image';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar AppUploadBlog = props => {\n  _s();\n\n  var login_context = useContext(Login_context);\n  const history = useHistory();\n  useEffect(() => {\n    if (login_context !== sessionStorage.session) {\n      history.push('/Login');\n      return null;\n    }\n  }, []);\n\n  function dataURLtoFile(data_url, filename) {\n    let arr = (\"\" + String(data_url)).slice(1).split(',');\n    console.log(arr);\n    let mime = 'image/jpeg';\n    let bstr = atob(arr[1]);\n    console.log(bstr);\n    let n = bstr.length;\n    let u8arr = new Uint8Array(n);\n\n    while (n--) {\n      u8arr[n] = bstr.charCodeAt(n);\n    }\n\n    return new File([u8arr], filename, {\n      type: mime\n    });\n  }\n\n  var final_image_blob;\n  const change_image = useCallback(event => {\n    let image_file = event.target.files[0];\n    let image_url = URL.createObjectURL(image_file);\n    let image_span = $('#image_span');\n    image_span.css({\n      'backgroundImage': `url(${image_url})`,\n      backgroundSize: 'contain',\n      backgroundPosition: 'center',\n      backdropFilter: 'blur(3px)'\n    });\n    let target = $('#label_image');\n    target.css({\n      'backgroundImage': `url(${image_url})`,\n      'borderRadius': '20px',\n      'backgroundSize': 'cover'\n    });\n    image_span = document.getElementById(\"image_span\");\n    final_image_blob = domtoimage.toJpeg(image_span, {\n      quality: 1\n    }).then(data => console.log(data));\n    let new_image_file = dataURLtoFile(final_image_blob, 'blog_image.jpg');\n    event.target.files[0] = new_image_file;\n    console.log(event.target.files);\n  });\n  const [blog_details, set_blog_details] = useState({});\n\n  const blog_info = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"blog_info\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"blog_info_child\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        align: \"center\",\n        children: \"Blog Information \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        action: \"javascript:void(0)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"blog_title\",\n        id: \"label_title\",\n        children: \"Title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Title\",\n        id: \"blog_title\",\n        maxLength: 100,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"blog_discription\",\n        id: \"label_discription\",\n        children: \"Discription\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        type: \"text\",\n        id: \"blog_discription\",\n        placeholder: \"Discription\",\n        maxLength: 200\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"blog_image\",\n        id: \"label_image\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          id: \"image_span\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 61\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        id: \"blog_image\",\n        onChange: change_image,\n        hidden: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"Next\",\n        id: \"submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 9\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"blog_upload_page\",\n    children: blog_info\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AppUploadBlog, \"Zs8r5niZtbZjFjZ9YMJJ+crviiY=\", false, function () {\n  return [useHistory];\n});\n\n_c = AppUploadBlog;\nexport default AppUploadBlog;\n\nvar _c;\n\n$RefreshReg$(_c, \"AppUploadBlog\");","map":{"version":3,"sources":["D:/Python files/Start Django/blog_tube/frontend/blog_tube/src/componenets/appUploadBlog.js"],"names":["useEffect","useContext","useState","useCallback","createElement","Redirect","useHistory","Login_context","$","domtoimage","AppUploadBlog","props","login_context","history","sessionStorage","session","push","dataURLtoFile","data_url","filename","arr","String","slice","split","console","log","mime","bstr","atob","n","length","u8arr","Uint8Array","charCodeAt","File","type","final_image_blob","change_image","event","image_file","target","files","image_url","URL","createObjectURL","image_span","css","backgroundSize","backgroundPosition","backdropFilter","document","getElementById","toJpeg","quality","then","data","new_image_file","blog_details","set_blog_details","blog_info"],"mappings":"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","sourcesContent":["import {useEffect ,useContext , useState, useCallback, createElement} from 'react'\r\nimport { Redirect ,useHistory } from 'react-router'\r\nimport { Login_context } from '../App'\r\nimport './statics/css/appUploadBlog.css'\r\nimport $ from \"jquery\"\r\nimport domtoimage from 'dom-to-image'\r\n\r\n\r\nvar AppUploadBlog = props=>{\r\n    var login_context  = useContext(Login_context)\r\n    const history  = useHistory()\r\n    useEffect(()=>{\r\n        if (login_context !== sessionStorage.session){\r\n            history.push('/Login')\r\n            return null\r\n        }        \r\n    },[])\r\n\r\n    function dataURLtoFile(data_url , filename){\r\n\r\n        let arr = (\"\"+ String(data_url)).slice(1).split(',')\r\n        console.log(arr)\r\n        let mime = 'image/jpeg'\r\n        let bstr = atob(arr[1])\r\n        console.log(bstr)\r\n        let n = bstr.length\r\n        let u8arr = new Uint8Array(n)\r\n        while(n--){\r\n            u8arr[n] = bstr.charCodeAt(n)\r\n        }\r\n\r\n        return new File([u8arr],filename , {type:mime})\r\n    }\r\n\r\n    var final_image_blob\r\n\r\n    const change_image = useCallback(event=>{\r\n        let image_file = event.target.files[0]\r\n        \r\n        let image_url = URL.createObjectURL(image_file)\r\n        let image_span = $('#image_span')\r\n        image_span.css({\r\n            'backgroundImage':`url(${image_url})`,\r\n            backgroundSize:'contain',\r\n            backgroundPosition : 'center',\r\n            backdropFilter:'blur(3px)'\r\n        })\r\n        let target = $('#label_image')\r\n        target.css({'backgroundImage': `url(${image_url})`,\r\n           'borderRadius':'20px',\r\n           'backgroundSize' :'cover'\r\n        })\r\n\r\n        image_span = document.getElementById(\"image_span\")\r\n    final_image_blob = domtoimage.toJpeg(image_span ,{quality:1}).then(data=>console.log(data))\r\n    let new_image_file = dataURLtoFile(final_image_blob , 'blog_image.jpg')\r\n    event.target.files[0]= new_image_file\r\n    console.log(event.target.files)\r\n\r\n\r\n    })\r\n\r\n\r\n    const [blog_details , set_blog_details] = useState({})\r\n    \r\n    const blog_info = (\r\n        <div className=\"blog_info\">\r\n            <div className=\"blog_info_child\">\r\n            <h1 align = \"center\">Blog Information </h1>\r\n            <form action=\"javascript:void(0)\"></form>\r\n            <label htmlFor=\"blog_title\" id = \"label_title\">Title</label>\r\n            <input type=\"text\" placeholder = \"Title\" id = \"blog_title\" maxLength={100} required />\r\n\r\n            <label htmlFor=\"blog_discription\" id = \"label_discription\">Discription</label>\r\n            <textarea type=\"text\"  id=\"blog_discription\" placeholder=\"Discription\" maxLength={200} />\r\n\r\n            <label htmlFor=\"blog_image\" id = \"label_image\" ><span id = \"image_span\"></span></label>\r\n            <input type=\"file\" id = \"blog_image\" onChange={change_image} hidden />\r\n\r\n            <input type=\"submit\" value=\"Next\" id = \"submit\" />\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n\r\n    return(\r\n        <div className=\"blog_upload_page\">\r\n            {blog_info}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default  AppUploadBlog;"]},"metadata":{},"sourceType":"module"}