(this.webpackJsonpblog_tube=this.webpackJsonpblog_tube||[]).push([[0],[,,,,function(e){e.exports=JSON.parse('{"origin":"https://blogtube.herokuapp.com/"}')},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,,,,,,function(e,t,n){},,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1),s=n.n(i),a=n(29),o=n.n(a),c=(n(35),n(2)),r=n(3),l=n(6),u=n(12),d=n(18),b=n(14),g=n(8),p=n(5),j=(n(41),n.p+"static/media/blogTubeIcon.128b206c.svg"),f=n.p+"static/media/menu_icon.5eada420.svg",m=n.p+"static/media/menu_icon3.b09f12f9.svg",h=n.p+"static/media/search_icon.d5f5082f.svg",O=n(4),x=(n(42),n.p+"static/media/unkownUser.dfda0594.svg"),v=n(0),_=function(e){var t,n=Object(i.useContext)(ye),s=Object(i.useRef)(""),a=Object(i.useState)({width:e.width,aspectRatio:"1 / 1",borderRadius:"100%",borderStyle:"inset",backgroundColor:"rgb(255 255 255 / 55%)",boxShadow:"0px 0px 8px 3px #3b3b3b8c",borderWidth:"4px",borderColor:"#0334dd",backgroundSize:"contain",backgroundPosition:"center",alignSelf:"center",justifySelf:"center",backgroundRepeat:"no-repeat"}),o=Object(c.a)(a,2),r=o[0],u=o[1];return Object(i.useEffect)((function(){new IntersectionObserver((function(i,s){i[0].intersectionRatio>0&&function(){if(!1===t)if("unknown"===e.user_id)u(Object(g.a)(Object(g.a)(Object(g.a)({},r),e.style),{},{backgroundImage:"url(".concat(x,")")})),t=!0;else{var i=new XMLHttpRequest;i.open("POST",O.origin+"backend_api/getprofilephoto"),i.responseType="blob",i.onreadystatechange=function(){if(4===i.readyState&&200===i.status){var n=i.response;u(Object(g.a)(Object(g.a)(Object(g.a)({},r),e.style),{},{backgroundImage:"url(".concat(URL.createObjectURL(n),")")})),t=!0}},i.setRequestHeader("session",n||""),i.setRequestHeader("photouid",e.user_id),i.send()}}()})).observe(s.current),t=!1,u(Object(g.a)(Object(g.a)({},r),e.style))}),[e.user_id,n,sessionStorage]),Object(v.jsx)(l.Link,{to:e.to,ref:function(e){return s.current=e},style:r,onClick:function(){return e.onClick()}})},y=function(){if(sessionStorage.session){var e=new XMLHttpRequest;e.open("POST",O.origin+"backend_api/logout"),e.onreadystatechange=function(){4===e.readyState&&200===e.status&&(console.log("successfully Logged Out"),delete sessionStorage.session,delete sessionStorage.login_data)},e.setRequestHeader("session",sessionStorage.session),e.setRequestHeader("user_id",JSON.parse(sessionStorage.login_data).user_id),e.send()}},w=n.p+"static/media/homeIcon.c4907387.svg",k=n(13),S=n.n(k),N=n.p+"static/media/password.3375a746.svg",C=n.p+"static/media/logoutIcon.eed3c053.svg",L=n.p+"static/media/uploadblogIcon.c36f5bb5.svg",R=n.p+"static/media/blogians.047f5f0d.svg";var I=function(e){var t={width:"60%",position:"inherit",backgroundImage:"url(".concat(e.img,")"),backgroundRepeat:"no-repeat",backgroundSize:"25px 25px",backgroundPosition:"0px 0px",paddingLeft:"40px",minHeight:"30px",fontSize:"25px",fontWeight:"500",fontFamily:"sans-serif"},n=Object(i.useCallback)((function(){s.push(e.to),e.onClick(),!0===e.logout&&y()})),s=Object(r.k)();return Object(v.jsx)(l.Link,{onClick:function(){return n()},style:{textDecoration:"none"},children:Object(v.jsx)("div",{style:{position:"inherit",width:"100%",height:"100%",display:"flex",justifyContent:"center",placeItems:"center"},className:"menuItem",children:Object(v.jsx)("div",{style:t,children:e.children})})})};I.propType={to:S.a.string,img:S.a.string.isRequired};var E=function(e){var t=Object(i.useRef)({}),n=0;function s(i){var a,o=t.current.menu_container.getElementsByTagName("*"),c=!0,r=Object(b.a)(o);try{for(r.s();!(a=r.n()).done;){a.value===i.target&&(c=!1)}}catch(l){r.e(l)}finally{r.f()}c&&(1===(n+=1)&&(e.onClick(),n=0),i.target.removeEventListener("click",s,!0))}var a=Object(i.useContext)(ye);Object(i.useEffect)((function(){var n;n=t.current.menu_box,e.open?(n.style.display="flex",n.style.transform="translateX(0px)",n.style.backdropFilter="brightness(0.6)",n.addEventListener("click",s,!0)):d.matches?n.style.display="none":(n.style.transform="translateX(-270px)",n.style.backdropFilter="brightness(1)",setTimeout((function(){n.style.display="none"}),300))}),[e.open]);var o=Object(i.useState)(Boolean(sessionStorage.session)),r=Object(c.a)(o,2),l=r[0],u=r[1];Object(i.useEffect)((function(){sessionStorage.session===a&&Boolean(sessionStorage.session)&&Boolean(a)?(u(!0),console.log("login",l)):u(!1)}),[sessionStorage.session,a]);var d=window.matchMedia("(min-width: 576px)");try{d.matches||(t.current.menu_container.style.left=0)}catch(p){console.log(p)}var g=Object(i.useCallback)((function(){if(Boolean(sessionStorage.session))return JSON.parse(sessionStorage.getItem("login_data")).user_id;return"unknown"}),[sessionStorage]);return Object(v.jsx)("div",{className:"menu_box",id:"menu_box",ref:function(e){return t.current.menu_box=e},children:Object(v.jsxs)("div",{className:"menu_container",id:"menu_container",ref:function(e){return t.current.menu_container=e},children:[Object(v.jsxs)("div",{className:"nameImage",style:{display:"grid",gridTemplateRows:" 70% 30% "},children:[Object(v.jsx)(_,{onClick:function(){return e.onClick()},width:"80px",style:{alignSelf:"end"},height:"80px",to:l?"/Profile/".concat(g()):"/Signup",user_id:g(),login_state:e.login_state}),Object(v.jsx)("h2",{align:"center",style:{margin:0,padding:0,fontFamily:"play",fontSize:"28px",color:"#0066ed",lineHeight:2,maxWidth:"80%",textOverflow:"ellipsis",justifySelf:"center"},children:l&&void 0!==sessionStorage.login_data?JSON.parse(sessionStorage.login_data).username:""})]}),Object(v.jsx)(I,{onClick:function(){return e.onClick()},img:w,to:"/Home",children:"Home"}),Object(v.jsx)(I,{onClick:function(){return e.onClick()},to:"/Blogians",img:R,children:"Blogians"}),Object(v.jsx)(I,{onClick:function(){return e.onClick()},to:"/UploadBlog",img:L,children:"Upload Blog"}),Object(v.jsx)(I,{onClick:function(){return e.onClick()},to:"/Login",logout:!!l,img:l?C:N,children:l?"Logout":"Login"})]})})},T=function(e){var t;document.documentElement.style.setProperty("--search_icon_url","url(".concat(h,")"));var n=Object(i.useState)(f),s=Object(c.a)(n,2),a=s[0],o=s[1],r=Object(i.useRef)({}),u=Object(i.useState)(e.bloglist),O=Object(c.a)(u,2),x=O[0],_=O[1];Object(i.useEffect)((function(){_(Object(p.a)(e.bloglist))}),[e.bloglist]);var y=window.matchMedia("(max-width: 768px)");y.onchange=function(){N(y.matches)};var w=Object(i.useState)(y.matches),k=Object(c.a)(w,2),S=k[0],N=k[1],C={display:"none",position:"fixed",width:"100vw",height:"100vh",top:0,bottom:0,left:0,right:0,justifyContent:"center",pointerEvents:"auto ",zIndex:6,backdropFilter:"blur(2px)"},L=Object(i.useState)(C),R=Object(c.a)(L,2),I=R[0],T=R[1],P=function(){a===f?(o(m),D(!0),console.log("menuImage is equal to menuIcon")):(o(f),D(!1),console.log("menuImage !!!! equal to menuIcon"))},F=function(e){try{r.current.searchIconResponsive.style.backgroundImage="url(".concat(h,")"),T(Object(g.a)(Object(g.a)({},C),{},{display:e})),r.current.searchIconResponsive.focus(),document.addEventListener("click",q,!0),setTimeout((function(){return r.current.searchIconResponsive.focus()}),500)}catch(t){}},H=function(e){try{r.current.blogList.style.display=e}catch(t){}},q=function e(t){t.target!=r.current.searchIcon&&t.target!=r.current.searchIconResponsive&&(y.matches?F("none"):H("none"),document.removeEventListener("click",e,!0))};window.addEventListener("resize",(function(){y.matches&&r.current.blogList&&H("none")})),y.matches||window.addEventListener("click",(function e(t){y.matches?y.matches&&("searchInputResponsive"===t.target.id?T(Object(g.a)(Object(g.a)({},C),{},{display:"flex"})):t.target!=r.current.searchIconResponsive&&t.target!=r.current.searchIcon&&T(Object(g.a)(Object(g.a)({},C),{},{display:"none"})),window.removeEventListener("click",e,!0)):t.target!=r.current.searchIcon&&t.target!=r.current.blogList&&setTimeout((function(){return H("none")}),200)}),!0);var B=Object(i.useCallback)((function(){try{var t,n=r.current.searchIcon.value.toLowerCase(),i=e.bloglist,s={},a=[],o=Object(b.a)(i);try{for(o.s();!(t=o.n()).done;){var c=t.value,l=c.toLowerCase().search(n);l>-1&&(s[i.indexOf(c)]=l)}}catch(p){o.e(p)}finally{o.f()}var u,d=Object(b.a)(Object.keys(s).sort());try{for(d.s();!(u=d.n()).done;){var g=u.value;a.push(i[g])}}catch(p){d.e(p)}finally{d.f()}_([].concat(a))}catch(p){}})),V=Object(i.useState)(!1),M=Object(c.a)(V,2),J=M[0],D=M[1];return Object(v.jsxs)("div",{className:"header",children:[Object(v.jsx)(E,{open:J,login_state:e.login_state,onClick:function(){return P()}}),Object(v.jsx)("div",{className:"menuicon",children:Object(v.jsx)("img",{src:a,id:"menuIcon",ref:function(e){return r.current.menuIcon=e},onClick:function(){return P()},alt:"menuIcon"})}),Object(v.jsxs)("h1",{id:"blog_tube",children:[" ",Object(v.jsx)("img",{src:j,id:"logo"}),"Blog Tube"]}),S?Object(v.jsx)("img",{src:h,id:"searchIcon",ref:function(e){return r.current.searchIcon=e},onClick:function(){F("flex"),D(!1)}}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("input",(t={ref:function(e){return r.current.searchIcon=e},placeholder:"Search Blogs",onInput:B,onFocus:B,id:"searchInput"},Object(d.a)(t,"onFocus",(function(){return H("block")})),Object(d.a)(t,"type","text"),t)),"            "]}),Object(v.jsx)("div",{id:"blogList",ref:function(e){return r.current.blogList=e},children:0!==x.length?x.map((function(e,t){return Object(v.jsx)(l.Link,{to:"/Blog/".concat(e.blog_details.title,"?id=").concat(e.blog_details.blog_id),children:Object(v.jsx)("div",{className:"blog_elems",children:e.blog_details.title},t)})})):Object(v.jsx)("div",{className:"blog_elems",children:" No Blogs Found"})}),S?Object(v.jsxs)("div",{id:"search",style:I,children:[S?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("input",{ref:function(e){return r.current.searchIconResponsive=e},placeholder:"Search Blogs",onInput:B,id:"searchInputResponsive",type:"text",autoFocus:!0}),"    "]}):null,Object(v.jsx)("div",{id:"blogListContainer",children:0!==x.length?x.map((function(e,t){return Object(v.jsx)(l.Link,{to:"/Blog/".concat(e.blog_details.title,"?id=").concat(e.blog_details.blog_id),children:Object(v.jsx)("div",{className:"blog_elems",children:e.blog_details.title},t)})})):Object(v.jsx)("div",{className:"blog_elems",children:" No Blogs Found"})})]}):null]})},P=(n(44),n.p+"static/media/github.bff9e854.svg"),F=n.p+"static/media/facebook.3bb56ad2.svg",H=n.p+"static/media/instagram.3268dfd0.svg",q=function(e){var t=Object(i.useRef)({});return Object(i.useEffect)((function(){try{var t=e.appbody;t.addEventListener("scroll",(function(n){var i=t.getBoundingClientRect().height;t.scrollTop+i===t.scrollHeight?e.appcontainer.scroll(0,e.appcontainer.scrollHeight):e.appcontainer.scroll(0,0)}))}catch(n){console.log(n)}}),[e.appbody,e.appcontainer]),Object(v.jsxs)("div",{className:"footer",ref:function(e){return t.current.footer=e},children:[Object(v.jsxs)("div",{className:"aboutus",children:[Object(v.jsxs)("p",{children:[Object(v.jsx)("strong",{children:" Developer "}),Object(v.jsx)("pre",{children:":"})," ",Object(v.jsx)("code",{children:"Shouryaraj Singh"})]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("strong",{children:"Contact "})," ",Object(v.jsx)("pre",{children:":"})," ",Object(v.jsx)("code",{children:" 96XXXXXXXX "})]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("strong",{children:"Email"})," ",Object(v.jsx)("pre",{children:":"})," ",Object(v.jsx)("code",{children:"shouryarajsinghgoud@gmail.com"})]})]}),Object(v.jsx)("div",{className:"github",children:Object(v.jsx)("a",{target:"_blank",href:"https://github.com/A-Scode",children:Object(v.jsx)("img",{src:P,alt:"github",height:"50",width:"50"})})}),Object(v.jsx)("div",{className:"facebook",children:Object(v.jsx)("a",{target:"_blank",href:"https://www.facebook.com/shouryarajsingh.goud",children:Object(v.jsx)("img",{src:F,alt:"github",height:"50",width:"50"})})}),Object(v.jsx)("div",{className:"insta",children:Object(v.jsx)("a",{target:"_blank",href:"https://www.instagram.com/shouryaraj_singh/",children:Object(v.jsx)("img",{src:H,alt:"github",height:"50",width:"50"})})})]})},B=(n(45),n.p+"static/media/email.e322bd87.svg"),V=n.p+"static/media/form_background.cfae2e28.svg",M=n(20),J=function(e){var t=Object(i.useRef)({}),n=(Object(i.useContext)(ye),Object(i.useState)("form")),s=Object(c.a)(n,2),a=s[0],o=s[1];Object(i.useEffect)((function(){try{Object(M.a)({targets:t.current.heading,update:function(e){try{t.current.heading.style.filter="hue-rotate(".concat(3.6*e.progress,"deg)")}catch(n){}},duration:2e3,autoplay:!0,direction:"alternate",loop:!0}),a&&(t.current.form.style.backgroundImage="url(".concat(V,")"),t.current.email&&(t.current.email.style.backgroundImage="url(".concat(B,")")),t.current.confirm_password&&(t.current.confirm_password.style.backgroundImage="url(".concat(N,")")),t.current.password.style.backgroundImage="url(".concat(N,")"))}catch(e){console.log(e)}}),[t,a]);var r=O.origin,u=Object(i.useCallback)((function(t){t.preventDefault();var n=t.target,i=n[0],s=n[1],a=new XMLHttpRequest;a.open("POST","".concat(r,"backend_api/loginmanully")),e.appbodyloading("flex"),a.onreadystatechange=function(){if(200===a.status&&4===a.readyState){var t=JSON.parse(a.response);if("fail"===t.status)o("error"),e.appbodyloading("none");else if("not_match"===t.status)s.focus(),s.setCustomValidity("\u26a0\ufe0finvalid password\u26a0\ufe0fForgot password ?"),s.reportValidity(),setTimeout((function(){return s.setCustomValidity("")}),2e3),e.appbodyloading("none");else if("success"===t.status){y(),e.change_login_context(t.session),sessionStorage.setItem("session",t.session);var n=JSON.stringify(t.login_data);localStorage.login_data=n,sessionStorage.login_data=n,e.appbodyloading("none")}}},a.setRequestHeader("credentails",JSON.stringify({email:i.value,password:s.value})),a.send()})),d=Object(i.useMemo)((function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h1",{align:"center",ref:function(e){return t.current.heading=e},children:"Login"}),Object(v.jsxs)("form",{action:"javascript:void(0);",method:"POST",onSubmit:function(e){return u(e)},children:[Object(v.jsx)("input",{id:"email",maxLength:100,type:"email",ref:function(e){return t.current.email=e},placeholder:"Email",required:!0}),Object(v.jsx)("input",{type:"password",minLength:8,maxLength:100,id:"password",ref:function(e){return t.current.password=e},placeholder:"Password",required:!0}),Object(v.jsx)("input",{className:"submit",type:"submit",value:"Login"}),Object(v.jsx)("div",{className:"redirectSignup",children:Object(v.jsxs)("p",{children:["Didn't Have an account?",Object(v.jsx)(l.Link,{to:"/Signup",children:"SignUp"}),Object(v.jsx)("br",{}),Object(v.jsx)("a",{href:"#",onClick:function(){return o("ask_email")},children:"Forgot Password "})]})})]})]})})),b=Object(i.useMemo)((function(){return Object(v.jsxs)("div",{className:"error",children:[Object(v.jsx)("h2",{ref:function(e){return t.current.heading=e},align:"cetner",children:"Invalid Credentials"}),Object(v.jsx)("button",{className:"back",onClick:function(){return o("form")},children:"Back"})]})})),g=Object(i.useCallback)((function(t){var n=t.target[0].value,i=new XMLHttpRequest;i.open("POST",r+"backend_api/forgototp"),e.appbodyloading("flex"),i.onreadystatechange=function(){if(200===i.status&&4===i.readyState){var t=JSON.parse(i.response);console.log(t),"error"===t.status?(o("error"),e.appbodyloading("none")):"success"===t.status&&(o("otp"),e.appbodyloading("none"))}},i.setRequestHeader("userData",JSON.stringify({email:n})),i.send()})),p=Object(i.useMemo)((function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h1",{align:"center",ref:function(e){return t.current.heading=e},children:"Email"}),Object(v.jsx)("div",{className:"forgot_form",children:Object(v.jsxs)("form",{action:"javascript:void(0);",onSubmit:g,children:[Object(v.jsx)("input",{type:"email",id:"email",ref:function(e){return t.current.email=e},placeholder:"Email",required:!0}),Object(v.jsx)("input",{className:"submit",type:"submit",value:"Submit"})]})})]})})),j=Object(i.useCallback)((function(t){var n=t.target[0],i=new XMLHttpRequest;i.open("POST",r+"backend_api/validateforgototp"),e.appbodyloading("flex"),i.onreadystatechange=function(){if(200===i.status&&4===i.readyState){var t=JSON.parse(i.response);console.log(t),"fail"===t.status?(n.focus(),n.setCustomValidity("\u26a0\ufe0finvalid OTP\u26a0\ufe0f"),n.reportValidity(),e.appbodyloading("none")):"success"===t.status&&(o("change_password"),e.appbodyloading("none"))}},i.setRequestHeader("otp",n.value),i.send()})),f=Object(i.useCallback)((function(e){e.target.value.length>4?(e.target.setCustomValidity("OTP must be of 4 digit"),e.target.reportValidity()):e.target.value.length<4?e.target.setCustomValidity("OTP must have 4 digits"):e.target.setCustomValidity("")})),m=Object(i.useMemo)((function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h1",{align:"center",ref:function(e){return t.current.heading=e},children:"OTP"}),Object(v.jsx)("div",{className:"forgot_form",children:Object(v.jsxs)("form",{action:"javascript:void(0);",onSubmit:j,children:[Object(v.jsx)("input",{type:"number",onInput:f,id:"password",ref:function(e){return t.current.password=e},placeholder:"OTP",required:!0,style:{fontSize:"35px",letterSpacing:"20px",paddingLeft:"60px"}}),Object(v.jsx)("input",{className:"submit",type:"submit",value:"Submit"})]})})]})})),h=Object(i.useCallback)((function(t){var n=t.target[1],i=new XMLHttpRequest;i.open("POST",r+"backend_api/changepassword"),e.appbodyloading("flex"),i.onreadystatechange=function(){if(200===i.status&&4===i.readyState){var t=JSON.parse(i.response);"fail"===t.status?(n.focus(),n.setCustomValidity("Something went wrong"),n.reportValidity(),e.appbodyloading("none")):"success"===t.status&&(o("form"),e.appbodyloading("none"))}},i.setRequestHeader("newpass",n.value),i.send()})),x=Object(i.useMemo)((function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h1",{align:"center",ref:function(e){return t.current.heading=e},children:"Change"}),Object(v.jsxs)("form",{action:"javascript:void(0);",onSubmit:h,children:[Object(v.jsx)("input",{type:"password",minLength:8,maxLength:100,id:"password",ref:function(e){return t.current.password=e},placeholder:"New password",required:!0}),Object(v.jsx)("input",{type:"password",minLength:8,maxLength:100,id:"password",onInput:function(e){return e.target.setCustomValidity("")},ref:function(e){return t.current.confirm_password=e},placeholder:"Confirm password",required:!0}),Object(v.jsx)("input",{className:"submit",type:"submit",value:"Change"})]})]})}));return Object(v.jsx)("div",{className:"login",children:Object(v.jsxs)("div",{className:"form",ref:function(e){return t.current.form=e},children:["form"===a?d:null,"ask_email"===a?p:null,"otp"===a?m:null,"change_password"===a?x:null,"error"===a?b:null]})})},D=(n(46),n.p+"static/media/username.1bd59be1.svg"),U=n.p+"static/media/upload_image_background.20b410ac.svg",X=n.p+"static/media/signup_background.7e498824.svg",z=function(e){var t={"!":null,"#":null,$:null,"%":null,"^":null,"&":null,"*":null,"(":null,")":null,"'":null,'"':null,";":null,":":null};function n(e){'"'===e.nativeEvent.data||"'"===e.nativeEvent.data?(e.target.value=e.target.value.slice(0,e.target.value.length-1),e.target.setCustomValidity("Cannot use \" or ' "),e.target.reportValidity()):e.target.setCustomValidity("")}var s=Object(i.useRef)({});Object(i.useEffect)((function(){try{Object(M.a)({targets:s.current.signup_heading,update:function(e){try{s.current.signup_heading.style.filter="hue-rotate(".concat(3.6*e.progress,"deg)")}catch(t){}},duration:2e3,autoplay:!0,direction:"alternate",loop:!0}),r()}catch(e){console.log(e)}}),[s,b]);var a,o,r=function(){s.current.signup_form.style.backgroundImage="url(".concat(X,")"),s.current.username.style.backgroundImage="url(".concat(D,")"),s.current.password.style.backgroundImage="url(".concat(N,")"),s.current.email.style.backgroundImage="url(".concat(B,")"),s.current.image.style.backgroundImage="url(".concat(U,")")},u=Object(i.useState)("form"),d=Object(c.a)(u,2),b=d[0],g=d[1],j=O.origin,f=Object(i.useRef)({});function m(){try{if(""!==s.current.image_input.value&&s.current.image_input.value!==o){try{var e=URL.createObjectURL(s.current.image_input.files[0]);s.current.image.style.backgroundImage="url(".concat(e,")")}catch(t){console.log(t)}o=s.current.image_input.value,clearInterval(a)}}catch(t){}}var h=Object(i.useCallback)((function(t){var n=t.target[0];if(4!==n.value.length)return n.focus(),n.setCustomValidity("OTP must be of 4 digits!!!"),void n.reportValidity();n.setCustomValidity(""),n.reportValidity();var i=new XMLHttpRequest;e.appbodyloading("flex"),i.open("POST",j+"backend_api/verifyotp"),i.onreadystatechange=function(){if(200===i.status&&4===i.readyState){var t=JSON.parse(i.response);console.log(t),"fail"===t.status?(n.focus(),n.setCustomValidity("\u26a0\ufe0f Wrong OTP\u26a0\ufe0f Signup Again!!! "),n.reportValidity(),setTimeout((function(){g("form"),r()}),2e3),e.appbodyloading("none")):"success"===t.staus&&(g("success"),e.appbodyloading("none"))}},i.setRequestHeader("otp",n.value),i.setRequestHeader("email",f.current.email),i.send()}),[f]),x=Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h1",{className:"signup_heading",ref:function(e){return s.current.signup_heading=e},children:"Sign Up"}),Object(v.jsxs)("form",{action:"javascript:void(0);",onSubmit:function(t){return function(t){var n=new XMLHttpRequest;e.appbodyloading("flex"),n.onreadystatechange=function(){if(console.log(n.status,n.readyState),200===n.status&&4===n.readyState){var t=JSON.parse(n.response);console.log(t),"exists"===t.status?(s.current.email.focus(),s.current.email.setCustomValidity("This Email Exists!!!"),s.current.email.reportValidity(),e.appbodyloading("none")):"otp"===t.status?(g("otp"),s.current.otp_input.style.backgroundImage="url(".concat(N,")"),e.appbodyloading("none")):"fail"===t.status&&(g("error"),e.appbodyloading("none"))}},n.open("POST",j+"backend_api/signup");var i=document.getElementById("progressbar");n.upload.addEventListener("progress",(function(e){var t=Math.round(e.loaded/e.total*100);i.style.width="".concat(t,"%"),i.innerText="Image ".concat(t,"%")})),n.upload.onloadend=function(){i.style.width="".concat(0,"%"),i.innerText=""};var a=t.target;f.current.username=a[0].value,f.current.email=a[1].value,f.current.password=a[2].value,n.setRequestHeader("userData",JSON.stringify(f.current));var o=new FormData,c=a[4].files[0];console.log(c),o.append("image",c),c?n.send(o):n.send()}(t)},children:[Object(v.jsx)("input",{required:!0,type:"text",placeholder:"Username",className:"signup_username",ref:function(e){return s.current.username=e},maxLength:100,onInput:function(e){return function(e){e.preventDefault();var n=Object(p.a)(e.target.value).filter((function(e){return!(e in t)})),i=Object(p.a)(e.target.value);n.join("")==i.join("")?e.target.setCustomValidity(""):'"'===e.nativeEvent.data||"'"===e.nativeEvent.data?e.target.value=e.target.value.slice(0,e.target.value.length-1):e.nativeEvent.data in t&&(e.target.setCustomValidity("username should not contain \n ------------ ?!:;\"'#$%^&*() ------------"),e.target.reportValidity())}(e)}}),Object(v.jsx)("input",{required:!0,type:"email",placeholder:"Email",className:"signup_email",ref:function(e){return s.current.email=e},maxLength:100,onInput:function(e){return n(e)}}),Object(v.jsx)("input",{required:!0,type:"password",placeholder:"Password",className:"signup_password",ref:function(e){return s.current.password=e},minLength:8,onInput:function(e){return n(e)}}),Object(v.jsx)("input",{type:"submit",id:"signup_submit",value:"Sign Up"}),Object(v.jsxs)("div",{className:"upload_image",ref:function(e){return s.current.image=e},children:[Object(v.jsx)("input",{type:"file",id:"file_input",ref:function(e){return s.current.image_input=e},accept:"image/*"}),Object(v.jsx)("label",{htmlFor:"file_input",id:"file_input_label",ref:function(e){return s.current.image_percent=e},onClick:function(){return a=setInterval(m,2e3)},children:"100%"})]})]})]}),_=Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h1",{className:"signup_heading",ref:function(e){return s.current.signup_heading=e},align:"center",style:{color:"rgb(24, 151, 201)"},children:"OTP"}),Object(v.jsxs)("form",{action:"javascript:void(0);",onSubmit:function(e){g("otp"),h(e)},children:[Object(v.jsx)("input",{required:!0,type:"number",ref:function(e){return s.current.otp_input=e},className:"signup_password",onInput:function(e){e.target.value.length>4?e.target.setCustomValidity("No More than 4 Digits"):e.target.setCustomValidity(""),e.target.reportValidity()},style:{gridColumn:"1 / span 2",gridRow:"1 / span 2",marginRight:"20px",marginLeft:"20px",fontSize:"30px",letterSpacing:"32px",color:"#0334dd"}}),Object(v.jsxs)("ul",{className:"instList",children:[Object(v.jsx)("li",{children:"Check Email for OTP"}),Object(v.jsx)("li",{children:"Must have 4 digits"}),Object(v.jsx)("li",{children:"Email is identity"})]}),Object(v.jsx)("input",{type:"submit",id:"signup_submit"})]})]}),y=Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h2",{className:"signup_heading",ref:function(e){return s.current.signup_heading=e},align:"center",style:{color:"rgb(24, 151, 201)"},children:"Error Occured!!"}),Object(v.jsx)("button",{id:"signup_submit",onClick:function(){g("form"),setTimeout((function(){return r()}),500)},style:{justifySelf:"center",gridColumn:"1/span 2",cursor:"pointer"},children:"Back"})]}),w=Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h3",{ref:function(e){return s.current.signup_heading=e},style:{color:"rgb(24, 151, 201)",gridColumn:"1/ span 2"},align:"center",children:"\ud83c\udf89Welcome\ud83c\udf89"}),Object(v.jsx)("button",{id:"signup_submit",style:{justifySelf:"center",gridColumn:"1/span 2",cursor:"pointer"},children:Object(v.jsx)(l.Link,{style:{textDecoration:"none"},to:"/Login",children:Object(v.jsx)("span",{children:"Login"})})})]});return Object(v.jsxs)("div",{className:"signup",children:[Object(v.jsxs)("div",{className:"signup_form",ref:function(e){return s.current.signup_form=e},children:["form"===b?x:null,"otp"===b?_:null,"error"===b?y:null,"success"===b?w:null]}),Object(v.jsx)("div",{className:"progress signup_heading",id:"progressbar"})]})},W=(n(47),function(e){var t=Object(i.useState)(e.loading),n=Object(c.a)(t,2),s=n[0],a=n[1];return Object(i.useEffect)((function(){a(e.loading)}),[e.loading]),Object(v.jsx)("div",{className:"loading",style:{display:s,pointerEvents:"all"},children:Object(v.jsxs)("div",{className:"logoanime",children:[Object(v.jsx)("h1",{style:{color:"white"},align:"center",children:"Depends on Internet Speed"}),Object(v.jsx)("img",{src:j,id:"loadinglogo"}),Object(v.jsxs)("div",{className:"loadinganime",children:[Object(v.jsx)("div",{className:"dots",style:{"--i":1}}),Object(v.jsx)("div",{className:"dots",style:{"--i":2}}),Object(v.jsx)("div",{className:"dots",style:{"--i":3}})]})]})})}),Y=(n(48),n(49),n.p+"static/media/preview.7f131431.svg"),A=n.p+"static/media/join_datetime.db759caf.svg",G=n.p+"static/media/comments.df0b94e9.svg",$=(n(50),n(27),n.p+"static/media/like.0158967f.svg"),K=n.p+"static/media/dislike.4f7ca86c.svg",Q=n.p+"static/media/steps_bg.8981b12b.svg",Z=function(e){var t=window.matchMedia("(max-width:768px)"),n=Object(i.useState)(!1),s=Object(c.a)(n,2),a=s[0],o=s[1];function r(){t.matches?o(!0):o(!1)}return Object(i.useEffect)((function(){return r(),window.addEventListener("resize",r,!0),function(){return window.removeEventListener("resize",r,!0)}}),[]),Object(v.jsx)("div",{className:"homepage",children:e.blogs_list.map((function(e){return Object(v.jsx)(ee,{mini:a,user_details:e.user_details,views:e.blog_details.views,likes:e.blog_details.likes,dislikes:e.blog_details.dislikes,date:e.blog_details.datetime,title:e.blog_details.title,discription:e.blog_details.discription,image_url:e.blog_details.blog_title_image,blog_id:e.blog_details.blog_id},e.blog_details.blog_id)}))})},ee=function(e){var t=Object(i.useState)({blog_details:{gridTemplateColumns:"minmax(40%, 350px) minmax(calc(60% - 15px), auto)",gridTemplateRows:"60px 170px 50px",gridGap:"10px",gridTemplateAreas:'"image blogger" "image head_dis" "image public"',maxWidth:"1000px",width:"90%",backgroundImage:"url(".concat(Q,")")},title_image:{width:"90%",margin:"0 10px",border:"2px solid #cca200"}}),n=Object(c.a)(t,2),s=n[0],a=n[1];return Object(i.useEffect)((function(){e.mini?a({blog_details:{gridTemplateColumns:"100%",gridTemplateAreas:'"image" "blogger" "head_dis" "public"',width:"95%",maxWidth:"400px",gridGap:"0",gridTemplateRows:"minmax(200px,auto) 60px 170px 50px",backgroundImage:"url(".concat(Q,")")},title_image:{width:"100%",margin:"0",border:"none"}}):a({blog_details:{gridTemplateColumns:"minmax(40%, 350px) minmax(calc(60% - 15px), auto)",gridTemplateAreas:'"image blogger" "image head_dis" "image public"',gridTemplateRows:"60px 170px 50px",gridGap:"10px",width:"90%",maxWidth:"1000px",backgroundImage:"url(".concat(Q,")")},title_image:{width:"90%",margin:"0 10px",border:"2px solid #cca200"}})}),[e.mini]),Object(v.jsx)(l.Link,{to:"/Blog/".concat(e.title,"?id=").concat(e.blog_id),style:{display:"flex",width:"100%",placeItems:"center"},children:Object(v.jsxs)("div",{className:"blog_details",style:s.blog_details,children:[Object(v.jsx)("img",{className:"blog_image",style:s.title_image,src:e.image_url,loading:"lazy"}),Object(v.jsxs)("div",{className:"blogger",children:[Object(v.jsx)(_,{user_id:e.user_details.user_id,width:"35px",height:"35px",style:{borderWidth:"2px"},to:"/Profile/".concat(e.user_details.user_id),onClick:function(){return null}}),Object(v.jsx)("span",{id:"username",children:e.user_details.username}),Object(v.jsx)(xe,{user_id:e.user_details.user_id,style:{marginLeft:"auto",marginRight:"10px",height:"30px",alignSelf:"center"}})]}),Object(v.jsxs)("span",{className:"head_dis",children:[Object(v.jsx)("h4",{children:e.title}),Object(v.jsx)("p",{children:""!==e.discription?e.discription:"No Discription"})]}),Object(v.jsxs)("span",{className:"public_details",children:[Object(v.jsx)("span",{id:"like_label",style:{backgroundImage:"url(".concat($,")")},children:e.likes?e.likes:"No likes"}),Object(v.jsx)("span",{id:"view_label",style:{backgroundImage:"url(".concat(Y,")")},children:e.views?e.views:"No views"}),Object(v.jsx)("span",{id:"dislike_label",style:{backgroundImage:"url(".concat(K,")")},children:e.dislikes?e.dislikes:"No dislikes"}),Object(v.jsx)("span",{className:"datetime",children:e.date})]})]})})},te=(n(28),n(21)),ne=n.n(te),ie=n.p+"static/media/editor.1bd8623b.svg",se=n.p+"static/media/youtubeLogo.6ca8061c.svg",ae=n.p+"static/media/popComp.d8ef3bd8.svg",oe={},ce=function(e){var t=Object(i.useContext)(ye),n=Object(r.k)(),s=Object(i.useRef)({}),a=Object(i.useState)("blog"),o=Object(c.a)(a,2),l=o[0],d=o[1],b=Object(i.useCallback)((function(e){var t=ne()("#label_image");if(e.target.files!=[]){var n=e.target.files[0],i=URL.createObjectURL(n);ne()("#image_span").css({backgroundImage:"url(".concat(i,")"),backgroundSize:"contain",backgroundPosition:"center",backdropFilter:"blur(3px)",borderRadius:"20px"}),t.css({backgroundImage:"url(".concat(i,")")}),oe.blog_title_image=n}else t.css({borderRadius:"20px",backgroundSize:"cover",boxShadow:"0px 1px 7px 3px #1976d2"})}),[]),g=Object(i.useCallback)((function(e){e.preventDefault(),oe.title=s.current.blog_title.value,oe.discription=s.current.blog_discription.value,d("blog_editor"),n.push("/UploadBlog/editor")})),p=Object(i.useMemo)((function(){return Object(v.jsx)("form",{className:"blog_info",action:"javascript:void(0);",onSubmit:function(e){return g(e)},children:Object(v.jsxs)("div",{className:"blog_info_child",children:[Object(v.jsx)("h1",{align:"center",children:"Blog Information "}),Object(v.jsx)("label",{htmlFor:"blog_title",id:"label_title",children:"Title"}),Object(v.jsx)("input",{type:"text",autoFocus:!0,placeholder:"Title",autoComplete:"off",spellCheck:"true",autoCapitalize:"words",id:"blog_title",maxLength:100,ref:function(e){return s.current.blog_title=e},required:!0}),Object(v.jsx)("label",{htmlFor:"blog_discription",id:"label_discription",children:"Discription"}),Object(v.jsx)("textarea",{type:"text",autoComplete:"off",spellCheck:"true",autoCapitalize:"sentences",id:"blog_discription",placeholder:"Discription",maxLength:200,ref:function(e){return s.current.blog_discription=e}}),Object(v.jsx)("span",{id:"span_label",style:{gridArea:"image",alignSelf:"center",justifySelf:"center",display:"grid"},children:Object(v.jsx)("label",{htmlFor:"blog_image",id:"label_image",children:Object(v.jsx)("span",{id:"image_span"})})}),Object(v.jsx)("input",{type:"file",id:"blog_image",accept:"image/*",onChange:b,hidden:!0}),Object(v.jsx)("input",{type:"submit",value:"Next",id:"submit"})]})})}),[l,b,g]),j=Object(i.useState)("editor"),f=Object(c.a)(j,2),m=f[0],h=f[1],O=function(e){h(e.target.value)};Object(i.useEffect)((function(){"editor"===m?(n.push("/UploadBlog/editor"),h("editor")):"preview"===m&&(n.push("/UploadBlog/preview"),h("preview"))}),[m]);var x=Object(i.useState)([]),_=Object(c.a)(x,2),y=_[0],w=_[1],k=Object(i.useCallback)((function(e){return w(e)})),S=Object(i.useMemo)((function(){return Object(v.jsxs)("div",{className:"editor",children:[Object(v.jsx)(ue,{change_state:O,editor_state:m}),Object(v.jsxs)(u.CacheSwitch,{children:[Object(v.jsx)(u.CacheRoute,{exact:!0,path:"/UploadBlog/editor",children:Object(v.jsx)(de,{appbodyloading:function(t){return e.appbodyloading(t)},blog:k})}),Object(v.jsx)(u.CacheRoute,{exact:!0,path:"/UploadBlog/preview",children:Object(v.jsx)(re,{list:y,appbodyloading:function(t){return e.appbodyloading(t)}})})]})]})}));return Object(i.useEffect)((function(){if(oe.blog_title_image="",!Boolean(t)&&!Boolean(sessionStorage.session))return n.push("/Login"),null}),[t,sessionStorage]),Object(v.jsxs)("div",{className:"blog_upload_page",children:["blog"===l?p:null,"blog_editor"===l?S:null]})},re=function(e){var t=Object(r.k)(),n=Object(i.useState)([]),s=Object(c.a)(n,2),a=s[0],o=s[1],l=Object(i.useContext)(ye);return Object(i.useEffect)((function(){if(e.list&&sessionStorage.session===l&&Boolean(sessionStorage.session)&&Boolean(l)){console.log(e.list),e.appbodyloading("flex");var n=new XMLHttpRequest;n.open("POST",O.origin+"backend_api/blogPreview"),n.onreadystatechange=function(){if(4===n.readyState&&200===n.status){var i=JSON.parse(n.response);switch(i.status){case"success":o(i.hydratedBlog),console.log("data_list:",a),e.appbodyloading("none");break;case"loginRequired":t.push("/Login"),console.log("backend_api/blogPreview",i),y(),e.appbodyloading("none");break;default:console.log(i.status),e.appbodyloading("none")}}},n.setRequestHeader("session",l),n.setRequestHeader("contentType","application/json;charset=utf-8");var i=new FormData;i.append("blog",JSON.stringify(e.list)),n.send(i)}}),[e.list,l]),Object(v.jsx)("div",{className:"showpreview",children:Object(v.jsx)(le,{children:a.map((function(e){return Object(v.jsx)("div",{className:"container_data",dangerouslySetInnerHTML:{__html:e}})}))})})},le=function(e){return Object(v.jsx)("div",{className:"blog_preview",children:e.children})},ue=function(e){var t=Object(i.useRef)({});Object(i.useEffect)((function(){t.current[e.editor_state].click()}),[e.editor_state]);var n=Object(r.n)(),s=n.path;n.url;return Object(i.useEffect)((function(){"/UploadBlog/editor"===s?e.change_state("editor"):"/UploadBlog/preview"===s&&e.change_state("preview")}),[]),Object(v.jsxs)("div",{className:"tabs",children:[Object(v.jsx)("input",{ref:function(e){return t.current.editor=e},type:"radio",name:"tabs",id:"editer_radio",value:"editor",onInput:function(t){return e.change_state(t)},hidden:!0,defaultChecked:!0}),Object(v.jsxs)("label",{htmlFor:"editer_radio",id:"label_editor",children:[Object(v.jsx)("img",{src:ie,className:"label_ico"}),"Editor"]}),Object(v.jsx)("input",{ref:function(e){return t.current.preview=e},type:"radio",name:"tabs",id:"preview_radio",value:"preview",onInput:function(t){return e.change_state(t)},hidden:!0}),Object(v.jsxs)("label",{htmlFor:"preview_radio",id:"label_preview",children:[Object(v.jsx)("img",{src:Y,className:"label_ico"}),"Preview"]})]})},de=function(e){var t=Object(i.useRef)({}),n=Object(i.useState)(!0),s=Object(c.a)(n,2),a=s[0],o=s[1],l=window.matchMedia("(max-width : 767px)"),u=Object(i.useCallback)((function(){var e=t.current.components.style.display;l.matches?t.current.components.style.display="none"===e||""===e?"flex":"":t.current.components.style.display="flex"}),[l]),d=Object(i.useState)("Heading"),b=Object(c.a)(d,2),g=b[0],j=b[1];function f(e){j(e.target.value),t.current.maintext.focus()}Object(i.useEffect)((function(){var e;switch(t.current.maintext.innerHTML="","Photo"===g||"Video"===g||"Youtube Video"===g?(o(!1),t.current.maintext.classList.remove("bullet_list")):"List"===g?(o(!0),t.current.maintext.classList.add("bullet_list")):(o(!0),t.current.maintext.classList.remove("bullet_list")),g){case"Video":e='<input type= "file" accept ="video/*" id = "videofile" hidden  required />\n                           <label  for = "videofile">Video</label> ',o(!1);break;case"Photo":e='<input type= "file" accept ="image/*" id = "photofile" hidden required />\n                           <label  for = "photofile">Photo</label> ',o(!1);break;case"Youtube Video":e=' <label  for = "videolink" style = "border:none;padding:0;">video Link</label> \n                            <input  style="    height: 20px;\n                            width: 90%;\n                            margin: 0;\n                            place-self: center;\n                            padding: 0;\n                            border-color: blueviolet;\n                            border-radius: 5px"  type= "url" id = "videolink" required  />',o(!1);break;default:e="",o(!0)}t.current.maintext.innerHTML=e}),[g]);var m=Object(i.useState)([]),h=Object(c.a)(m,2),x=h[0],_=h[1];Object(i.useEffect)((function(){return e.blog([])}),[]);var y=Object(i.useContext)(ye),w=Object(r.k)(),k=Object(i.useCallback)((function(){if(oe.blog=x,console.log(oe),e.appbodyloading("flex"),y===sessionStorage.session&&(Boolean(sessionStorage.session)||Boolean(y))){var t=JSON.parse(sessionStorage.login_data),n=new XMLHttpRequest,i=JSON.stringify(oe);n.open("POST","".concat(O.origin,"backend_api/uploadBlog")),n.onreadystatechange=function(){if(4===n.readyState&&200===n.status){var t=JSON.parse(n.response);switch(t.status){case"loginRequired":w.push("/Login"),e.appbodyloading("none");break;case"fail":w.push("/Error"),e.appbodyloading("none");break;case"success":w.push("/Home"),e.appbodyloading("none");break;default:console.log(t.status)}}};for(var s=new FormData,a=0;a<oe.blog.length;a++){var o=oe.blog[a];o.Photo?s.append(o.name,o.Photo):o.Video&&s.append(o.name,o.Video)}oe.blog_title_image&&s.append("blog_title_image",oe.blog_title_image),n.setRequestHeader("session",y),n.setRequestHeader("logindata",t),s.append("blogDetails",i),n.send(s)}}),[x,y]);function S(t){var n=x;n.splice(t,1),console.log("b-",n),_(Object(p.a)(n)),e.blog(Object(p.a)(n))}return Object(i.useEffect)((function(){t.current.editing.scrollTo(0,t.current.editing.scrollHeight)}),[x]),Object(v.jsxs)("div",{className:"editing_pane",children:[Object(v.jsxs)("div",{className:"editing",ref:function(e){return t.current.editing=e},children:[Object(v.jsx)("button",{className:"upload",onClick:k,children:"Upload"}),Object(v.jsx)("button",{className:"addComponents",onClick:u}),x.map((function(e,t,n){return Object(v.jsx)(be,{data:e,index:t,arr:n,rm:S},t)}))]}),Object(v.jsxs)("div",{className:"components",ref:function(e){return t.current.components=e},children:[Object(v.jsx)("h6",{align:"center",className:"heading",children:"Components"}),Object(v.jsx)("input",{onClickCapture:function(e){return f(e)},name:"comp",hidden:!0,checked:"Heading"===g,type:"radio",value:"Heading",id:"Heading",defaultChecked:!0}),Object(v.jsx)("label",{className:"complist",htmlFor:"Heading",children:"Heading"}),Object(v.jsx)("input",{onClickCapture:function(e){return f(e)},name:"comp",hidden:!0,checked:"Paragraph"===g,type:"radio",value:"Paragraph",id:"Paragraph"}),Object(v.jsx)("label",{className:"complist",htmlFor:"Paragraph",children:"Paragraph"}),Object(v.jsx)("input",{onClickCapture:function(e){return f(e)},name:"comp",hidden:!0,checked:"List"===g,type:"radio",value:"List",id:"List"}),Object(v.jsx)("label",{className:"complist",htmlFor:"List",children:"List"}),Object(v.jsx)("input",{onClickCapture:function(e){return f(e)},name:"comp",hidden:!0,checked:"Photo"===g,type:"radio",value:"Photo",id:"Photo"}),Object(v.jsx)("label",{className:"complist",htmlFor:"Photo",children:"Photo"}),Object(v.jsx)("input",{onClickCapture:function(e){return f(e)},name:"comp",hidden:!0,checked:"Video"===g,type:"radio",value:"Video",id:"Video"}),Object(v.jsx)("label",{className:"complist",htmlFor:"Video",children:"Video"}),Object(v.jsx)("input",{onClickCapture:function(e){return f(e)},name:"comp",hidden:!0,checked:"Youtube Video"===g,type:"radio",value:"Youtube Video",id:"Youtube Video"}),Object(v.jsxs)("label",{className:"complist",htmlFor:"Youtube Video",children:[Object(v.jsx)("img",{src:se,width:30,height:30,style:{verticalAlign:"middle"}})," Video Link"]})]}),Object(v.jsxs)("form",{action:"javascript:void(0);",id:"text_input",ref:function(e){return t.current.text_input=e},cols:"30",rows:"10",onSubmit:function(n){return function(n){if(n.preventDefault(),n.nativeEvent.stopImmediatePropagation(),"Heading"===g){var i=t.current.maintext.innerText;_([].concat(Object(p.a)(x),[{Heading:i}])),e.blog([].concat(Object(p.a)(x),[{Heading:i}])),t.current.maintext.innerText=""}else if("Paragraph"===g){var s=t.current.maintext.innerText;_([].concat(Object(p.a)(x),[{Paragraph:s}])),e.blog([].concat(Object(p.a)(x),[{Paragraph:s}])),t.current.maintext.innerText=""}else if("List"===g){var a=t.current.maintext.innerText;a=a.split("\n").filter((function(e){return e||null})),_([].concat(Object(p.a)(x),[{List:a}])),e.blog([].concat(Object(p.a)(x),[{List:a}])),t.current.maintext.innerText=""}else if("Photo"===g){var o=n.target[0].files[0];_([].concat(Object(p.a)(x),[{Photo:o,name:o.name}])),e.blog([].concat(Object(p.a)(x),[{Photo:o,name:o.name}]))}else if("Video"===g){var c=n.target[0].files[0];_([].concat(Object(p.a)(x),[{Video:c,name:c.name}])),e.blog([].concat(Object(p.a)(x),[{Video:c,name:c.name}]))}else if("Youtube Video"===g){var r=n.target[0].value.split("/"),l=r[r.length-1].split("="),u=l[l.length-1];_([].concat(Object(p.a)(x),[{"Youtube Video":u}])),e.blog([].concat(Object(p.a)(x),[{"Youtube Video":u}])),n.target[0].value=""}oe.blog=x}(n)},children:[Object(v.jsx)("span",{ref:function(e){return t.current.comp_tag=e},contentEditable:"false",className:"comp_tag",children:g}),Object(v.jsx)("div",{ref:function(e){return t.current.maintext=e},className:"maintext",contentEditable:a}),Object(v.jsx)("input",{type:"submit",className:"insert_comp",ref:function(e){return t.current.insert_comp=e},value:""})]})]})},be=function(e){var t,n=String(Object.keys(e.data)[0]);if("Heading"===n)t=Object(v.jsx)("p",{className:"h5",children:e.data[n]});else if("Paragraph"===n)t=Object(v.jsx)("p",{children:"".concat(e.data[n])});else if("List"===n)t=Object(v.jsx)("ul",{children:e.data[n].map((function(e){return Object(v.jsx)("li",{children:e})}))});else if("Photo"===n){var i=URL.createObjectURL(e.data[n]);t=Object(v.jsx)("img",{src:i,height:200,width:400,style:{boxShadow:"rgb(0 0 0 / 20%) 0px 0px 5px 3px",borderRadius:"5px",maxWidth:"95%",justifySelf:"center"}})}else if("Video"===n){var s=URL.createObjectURL(e.data[n]);t=Object(v.jsx)("video",{src:s,controls:!0,style:{boxShadow:"rgb(0 0 0 / 20%) 0px 0px 5px 3px",borderRadius:"5px",maxWidth:"95%",justifySelf:"center",zIndex:"-1"}})}else"Youtube Video"===n&&(t=Object(v.jsx)("iframe",{src:"https://www.youtube.com/embed/".concat(e.data[n]),title:"YouTube video player",frameborder:"0",style:{boxShadow:"rgb(0 0 0 / 20%) 0px 0px 5px 3px",width:"auto",height:"auto",borderRadius:"5px",justifySelf:"center"},allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0}));return Object(v.jsxs)("div",{className:"container_part",children:[Object(v.jsx)("h5",{children:"".concat(n)}),Object(v.jsx)("img",{src:ae,width:20,height:20,onClick:function(){return e.rm(e.index)},style:{gridArea:"img",alignSelf:"center",justifySelf:"center"}}),Object(v.jsx)("span",{className:"container_data",children:t})]})},ge=function(e){var t=window.location.hash.split("?")[1].split("=")[1],n=Object(r.k)();null===t&&n.push("/Error");var s=Object(i.useState)([]),a=Object(c.a)(s,2),o=a[0],l=a[1],u=Object(i.useState)({likes:"",dislikes:"",views:"",title:"",image_url:"",blogger_details:{}}),d=Object(c.a)(u,2),b=d[0],g=d[1],p=Object(i.useRef)({});Object(i.useEffect)((function(){var e=new XMLHttpRequest;e.open("GET",O.origin+"backend_api/getBlog?blog_id="+t),e.onreadystatechange=function(){if(4===e.readyState&&200===e.status){var t=JSON.parse(e.response);switch(t.status){case"success":l(t.blog),g({likes:t.likes,dislikes:t.dislikes,views:t.views,title:t.title,image_url:t.image_url,blogger_details:t.blogger_details});break;case"page_not_found":case"fail":n.push("/Error")}}},e.send()}),[]);var j=!1,f=Object(i.useCallback)((function(){j||document.documentElement.requestFullscreen().then((function(){return j=!0})).catch((function(){return j=!1}))}),[p.current.blog_page]);return Object(i.useEffect)((function(){document.getElementsByClassName("appbody")[0].scrollTo(0,0)}),[b]),Object(v.jsxs)("div",{className:"blog_page",ref:function(e){return p.current.blog_page=e},onMouseDown:f,children:[Object(v.jsx)("h2",{align:"center",children:b.title}),Object(v.jsx)("img",{src:b.image_url,className:"title_image",loading:"eager"}),Object(v.jsx)(ve,{user_details:b.blogger_details,onClick:function(){return null},to:"/Profile/".concat(b.blogger_details.user_id)}),Object(v.jsx)(le,{children:o.map((function(e,t){return Object(v.jsx)("div",{className:"container_data",dangerouslySetInnerHTML:{__html:e}},t)}))}),Object(v.jsx)(pe,{blog_id:t,likes:b.likes,dislikes:b.dislikes,views:b.views}),Object(v.jsx)(je,{blog_id:t})]})},pe=function(e){var t=Object(i.useContext)(ye),n=Object(r.k)(),s=Object(i.useState)("not yet"),a=Object(c.a)(s,2),o=a[0],l=a[1],u=Object(i.useState)({likes:e.likes,dislikes:e.dislikes,views:e.views}),d=Object(c.a)(u,2),b=d[0],p=d[1],j=Object(i.useRef)({});Object(i.useEffect)((function(){p({likes:e.likes,dislikes:e.dislikes,views:e.views})}),[e.likes,e.dislikes,e.views]);var f=Object(i.useCallback)((function(i){var s=i.target.value;if(t===sessionStorage.session){var a=new XMLHttpRequest,o=JSON.parse(sessionStorage.login_data).user_id;a.open("POST",O.origin+"backend_api/Blogreview"),a.onreadystatechange=function(){if(4===a.readyState&&200===a.status){var e=JSON.parse(a.response);"success"===e.status&&p(Object(g.a)({},e.details))}};var c=new FormData;c.append("uid",o),c.append("bid",e.blog_id),c.append("review",s),a.send(c)}else n.push("/Error")}),[t,e.blog_id]);return Object(i.useEffect)((function(){if(t===sessionStorage.session&&Boolean(t)&&Boolean(sessionStorage.session)){var n=new XMLHttpRequest,i=JSON.parse(sessionStorage.login_data).user_id;n.open("GET",O.origin+"backend_api/checkReviewr?bid=".concat(e.blog_id,"&uid=").concat(i)),n.onreadystatechange=function(){if(4===n.readyState&&200===n.status){var e=JSON.parse(n.response);"success"===e.status&&l(e.isreviewer)}},n.send()}}),[t]),Object(i.useEffect)((function(){"like"===o?j.current.like.click():"dislike"===o&&j.current.dislike.click()}),[o]),Object(v.jsxs)("div",{className:"review",children:[Object(v.jsx)("input",{type:"radio",name:"review",ref:function(e){return j.current.like=e},id:"like",value:"like",onInput:function(e){return f(e)},hidden:!0}),Object(v.jsx)("label",{htmlFor:"like",id:"like_label",style:{backgroundImage:"url(".concat($,")")},children:b.likes>0?b.likes:"No Likes"}),Object(v.jsx)("label",{id:"view_label",style:{backgroundImage:"url(".concat(Y,")")},children:b.views>0?b.views:"No Views"}),Object(v.jsx)("input",{type:"radio",name:"review",ref:function(e){return j.current.dislike=e},id:"dislike",value:"dislike",onInput:function(e){return f(e)},disabled:!t,hidden:!0}),Object(v.jsx)("label",{htmlFor:"dislike",id:"dislike_label",style:{backgroundImage:"url(".concat(K,")")},children:b.dislikes>0?b.dislikes:"No Dislikes"})]})},je=function(e){var t=Object(i.useContext)(ye),n=Object(i.useRef)({}),s=Object(i.useState)(!1),a=Object(c.a)(s,2),o=a[0],l=a[1],u=Object(r.k)();Object(i.useEffect)((function(){t===sessionStorage.session?l(!0):l(!1)}),[t]);var d=Object(i.useState)([]),b=Object(c.a)(d,2),g=b[0],j=b[1];Object(i.useEffect)((function(){var t=new XMLHttpRequest;t.open("POST",O.origin+"backend_api/getComments"),t.onreadystatechange=function(){if(200===t.status&&4===t.readyState){var e=JSON.parse(t.response);switch(e.status){case"success":j(e.comment_list),console.log(e);break;case"loginRequired":console.log("backend_api/getComments"),y(),u.push("/Login");break;default:console.log(e.status)}}};var n=new FormData;n.append("blog_id",e.blog_id),t.send(n)}),[e.blog_id]);var f=Object(i.useCallback)((function(){var i=n.current.comment_input.value;if(t===sessionStorage.session&&""!==i){var s=new XMLHttpRequest;s.open("POST",O.origin+"backend_api/uploadComment"),e.appbodyloading("flex"),s.onreadystatechange=function(){if(4===s.readyState&&200===s.status){var t=JSON.parse(s.response);switch(n.current.comment_input.value="",t.status){case"success":console.log(t),j([t.new_comment].concat(Object(p.a)(g))),e.appbodyloading("none");break;case"loginRequired":console.log(t.status),y(),u.push("/Login"),e.appbodyloading("none");break;case"fail":console.log(t.status),u.push("/Error"),e.appbodyloading("none");break;default:console.log(t.status),e.appbodyloading("none")}}};var a=new FormData;s.setRequestHeader("session",t),a.append("comment",i),a.append("user_id",JSON.parse(sessionStorage.login_data).user_id),a.append("blog_id",e.blog_id),s.send(a)}}),[t,n.current,sessionStorage]),m=Object(i.useMemo)((function(){return g.map((function(e){return Object(v.jsx)(fe,{c_detials:e},e.cid)}))})),h=Object(i.useMemo)((function(){return Object(v.jsx)("span",{style:{display:"grid",placeItems:"center",fontSize:"30px",width:"100%",height:"100%"},id:"no_comments",children:"No Comments\ud83d\ude05"})}));return Object(v.jsxs)("div",{className:"comments",children:[Object(v.jsx)("h5",{align:"center",children:"Comments"}),Object(v.jsxs)("div",{className:"cover",children:[Object(v.jsx)("textarea",{name:"comment",maxLength:1e3,id:"comment_input",disabled:!o,ref:function(e){return n.current.comment_input=e},cols:"3",rows:"5"}),Object(v.jsx)("button",{ref:function(e){return n.current.send_comment=e},disabled:!o,id:"send_comment",onClick:function(){return f()}})]}),Object(v.jsx)("div",{className:"comment_list",children:0===g.length?h:m})]})},fe=function(e){return Object(v.jsxs)("div",{className:"comment",id:e.key,children:[Object(v.jsx)(_,{user_id:e.c_detials.uid,width:"50px",height:"50px",style:{gridArea:"user_image",borderWidth:"2px",alignSelf:"center",justifySelf:"center"},to:"/Profile/".concat(e.c_detials.uid),onClick:function(){return null}}),Object(v.jsx)("span",{id:"user_name",children:e.c_detials.name}),Object(v.jsx)("p",{className:"comment_text",style:{whiteSpace:"break-spaces"},children:e.c_detials.text}),Object(v.jsx)("div",{className:"datetime",children:e.c_detials.upload_datetime})]})},me=function(e){var t=Object(r.m)().user_id,n=Object(r.k)(),s=Object(i.useState)({userName:"",joinDatetime:"",email:"",blogs:[],comments:[],followings:[],followers:[]}),a=Object(c.a)(s,2),o=a[0],l=a[1];Object(i.useEffect)((function(){"null"===t&&n.goBack();var e=new XMLHttpRequest;e.open("POST",O.origin+"backend_api/getUserDetails"),e.onreadystatechange=function(){if(4===e.readyState&&200===e.status){var t=JSON.parse(e.response);switch(t.status){case"success":console.log(t.userData),l(t.userData);break;case"fail":n.push("/Error")}}},e.setRequestHeader("userId",t),e.send()}),[t]);var u=Object(i.useState)(0),d=Object(c.a)(u,2),g=d[0],p=d[1];Object(i.useEffect)((function(){var e,t=0,n=Object(b.a)(o.blogs);try{for(n.s();!(e=n.n()).done;){t+=e.value.blog_details.views}}catch(i){n.e(i)}finally{n.f()}p(t)}),[o]);var j=Math.floor(360*Math.random());return Object(i.useEffect)((function(){document.getElementsByClassName("appbody")[0].scrollTo(0,0)})),Object(v.jsxs)("div",{className:"profile_div",children:[Object(v.jsx)("div",{className:"pic_bg",style:{filter:"hue-rotate(".concat(j,"deg)")}}),Object(v.jsxs)("div",{className:"user_head",children:[Object(v.jsx)(_,{user_id:t,to:"#",width:"100px",height:"100px",onClick:function(){return null},style:{borderWidth:"2px",borderRadius:"5px",margin:"auto 10px"}}),Object(v.jsx)("h3",{style:{color:"#00aed5",filter:"hue-rotate(".concat(j,"deg) brightness(0.5)")},id:"profile_username",children:o.userName}),Object(v.jsx)(xe,{user_id:t,style:{marginLeft:"auto",marginRight:"20px",color:"#00aed5",filter:"hue-rotate(".concat(j,"deg) brightness(0.5)"),borderColor:"#00aed5"}})]}),Object(v.jsxs)("div",{className:"data",children:[Object(v.jsx)(Oe,{filter:"hue-rotate(".concat(j-33,"deg)  brightness(0.7)"),data_icon:R,data:"".concat(o.followers.length?o.followers.length:"No"," Followers")}),Object(v.jsx)(Oe,{filter:"hue-rotate(".concat(j-33,"deg)  brightness(0.7)"),data_icon:x,data:"".concat(o.followings.length?o.followings.length:"No"," Followings")}),Object(v.jsx)(Oe,{filter:"hue-rotate(".concat(j-33,"deg)  brightness(0.7)"),data_icon:L,data:"".concat(o.blogs.length?o.blogs.length:"No"," Blogs")}),Object(v.jsx)(Oe,{filter:"hue-rotate(".concat(j-33,"deg)  brightness(0.7)"),data_icon:Y,data:"".concat(g||"No"," Views")}),Object(v.jsx)(Oe,{filter:"hue-rotate(".concat(j-33,"deg)  brightness(0.7)"),data_icon:A,data:o.joinDatetime}),Object(v.jsx)(Oe,{filter:"hue-rotate(".concat(j-33,"deg)  brightness(0.7)"),data_icon:G,data:"".concat(o.comments.length?o.comments.length:"No"," Comments")}),Object(v.jsx)(Oe,{filter:"hue-rotate(".concat(j-33,"deg)  brightness(0.5)"),style:{flexBasis:"100%",overflow:"auto",userSelect:"text",placeContent:"center"},data_icon:B,data:o.email})]}),Object(v.jsx)(he,{followers:o.followers,blogs:o.blogs,comments:o.comments,followings:o.followings,filter:"hue-rotate(".concat(j-33,"deg)")})]})},he=function(e){var t=Object(i.useRef)({}),n=Object(i.useCallback)((function(e){var n=e.target.value,i=t.current.all_comments.getBoundingClientRect().width;switch(n){case"blogs":t.current.profile_tabs.scrollTo(0,0);break;case"followers":t.current.profile_tabs.scrollTo(i,0);break;case"comments":t.current.profile_tabs.scrollTo(2*i,0);break;case"followings":t.current.profile_tabs.scrollTo(3*i,0);break;default:t.current.profile_tabs.scrollTo(0,0)}}),[t]);return Object(v.jsxs)("div",{className:"profile_tabs_container",children:[Object(v.jsxs)("div",{className:"tab_options",children:[Object(v.jsx)("input",{value:"blogs",type:"radio",onInput:function(e){return n(e)},name:"options",id:"blogs_option",hidden:!0,defaultChecked:!0}),Object(v.jsx)("label",{style:{filter:e.filter,"--bg-image":"url(".concat(L,")")},htmlFor:"blogs_option",className:"optionlabel",children:"Blogs"}),Object(v.jsx)("input",{value:"followers",type:"radio",onInput:function(e){return n(e)},name:"options",id:"followers_option",hidden:!0}),Object(v.jsx)("label",{style:{filter:e.filter,"--bg-image":"url(".concat(R,")")},htmlFor:"followers_option",className:"optionlabel",children:"Followers"}),Object(v.jsx)("input",{value:"comments",type:"radio",onInput:function(e){return n(e)},name:"options",id:"comments_option",hidden:!0}),Object(v.jsx)("label",{style:{filter:e.filter,"--bg-image":"url(".concat(G,")")},htmlFor:"comments_option",className:"optionlabel",children:"Comments"}),Object(v.jsx)("input",{value:"followings",type:"radio",onInput:function(e){return n(e)},name:"options",id:"followings_option",hidden:!0}),Object(v.jsx)("label",{style:{filter:e.filter,"--bg-image":"url(".concat(x,")")},htmlFor:"followings_option",className:"optionlabel",children:"Followings"})]}),Object(v.jsxs)("div",{className:"profile_tabs",ref:function(e){return t.current.profile_tabs=e},children:[Object(v.jsx)("span",{id:"all_blogs",ref:function(e){return t.current.all_blogs=e},children:e.blogs!==[]?e.blogs.map((function(e){return Object(v.jsx)(ee,{mini:!0,user_details:e.user_details,views:e.blog_details.views,likes:e.blog_details.likes,dislikes:e.blog_details.dislikes,date:e.blog_details.datetime,title:e.blog_details.title,discription:e.blog_details.discription,image_url:e.blog_details.blog_title_image,blog_id:e.blog_details.blog_id},e.blog_details.blog_id)})):"No Blogs"}),Object(v.jsx)("span",{id:"all_followers",ref:function(e){return t.current.all_followers=e},children:e.followers!==[]?e.followers.map((function(e){return Object(v.jsx)(ve,{follow:"block",user_details:e,onClick:function(){return null},to:"/Profile/".concat(e.user_id)},e.user_id)})):"No Followers"}),Object(v.jsx)("span",{id:"all_comments",ref:function(e){return t.current.all_comments=e},children:e.comments!==[]?e.comments.map((function(e){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(l.Link,{className:"comment_title",to:"/Blog/".concat(e.blog_title,"?id=").concat(e.blog_id),children:Object(v.jsx)("span",{children:e.blog_title})}),Object(v.jsx)(fe,{c_detials:e},e.cid)]})})):"No Comments"}),Object(v.jsx)("span",{id:"all_followings",ref:function(e){return t.current.all_followings=e},children:e.followings!==[]?e.followings.map((function(e){return Object(v.jsx)(ve,{follow:"block",user_details:e,onClick:function(){return null},to:"/Profile/".concat(e.user_id)},e.user_id)})):"No Followings"})]})]})},Oe=function(e){return Object(v.jsxs)("span",{className:"data_item",title:e.data,style:e.style,children:[Object(v.jsx)("img",{src:e.data_icon,className:"data_icon",style:{filter:e.filter},width:"30",height:"30"}),e.data]})},xe=function(e){var t=Object(i.useState)("Follow"),n=Object(c.a)(t,2),s=n[0],a=n[1],o=Object(i.useContext)(ye),l=Object(i.useRef)(),u=Object(r.k)(),d=Object(i.useCallback)((function(){if(o===sessionStorage.session&&Boolean(sessionStorage.session)&&Boolean(o)){var t=new XMLHttpRequest;t.open("POST",O.origin+"backend_api/getFollowingList"),t.onreadystatechange=function(){if(200===t.status&&4===t.readyState){var n=JSON.parse(t.response);switch(n.status){case"success":-1!==n.followings.indexOf(e.user_id)?a("Following"):a("Follow");break;case"loginRequired":console.log("backend_api/getFollowingList LoginRequired")}}},t.setRequestHeader("session",o),t.send()}}),[o]);Object(i.useEffect)((function(){new IntersectionObserver((function(e){e[0].intersectionRatio>0&&d()})).observe(l)}),[l,e.user_id,o]);var b=Object(i.useCallback)((function(t){if(t.stopPropagation(),t.preventDefault(),o===sessionStorage.session&&(Boolean(sessionStorage.session)||Boolean(o))){var n=new XMLHttpRequest;n.open("POST",O.origin+"backend_api/followUnfollow"),n.onreadystatechange=function(){if(200===n.status&&4===n.readyState){var t=JSON.parse(n.response);switch(t.status){case"success":-1!==t.followings.indexOf(e.user_id)?(a("Following"),e.change_followers(!0)):(a("Follow"),e.change_followers(!1));break;case"loginRequired":console.log("backend_api/followUnfollow"),u.push("/Login")}}},n.setRequestHeader("session",o),n.setRequestHeader("toFollow",e.user_id),n.setRequestHeader("state",s),n.send()}}),[o,e.user_id]);return Object(v.jsx)("button",{id:"follow_button",style:e.style,ref:function(e){return l=e},onClick:b,disabled:o!==sessionStorage.session&&void 0!==sessionStorage.login_data&&JSON.parse(sessionStorage.login_data).user_id===e.user_id,children:s})};function ve(e){var t=Object(i.useState)(e.user_details.followers_count),n=Object(c.a)(t,2),s=n[0],a=n[1],o=Object(i.useCallback)((function(e){a(e?s+1:s-1)}));return Object(v.jsx)(l.Link,{className:"links",onClick:function(){return e.onClick(e.user_details.user_id)},style:{textDecoration:"none",width:"100%",display:"flex",maxWidth:"1000px",justifyContent:"center",placeItems:"center"},to:e.to,children:Object(v.jsxs)("div",{className:"miniprofile",children:[Object(v.jsx)(_,{width:"50px",height:"50px",to:"/Profile/".concat(e.user_details.user_id),style:{backgroundColor:"rgb(255, 255, 255)",margin:"auto",gridArea:"photo",borderWidth:"2px"},user_id:e.user_details.user_id,onClick:function(){return null}}),Object(v.jsx)("div",{className:"profile_name",title:e.user_details.user_name,children:e.user_details.user_name}),Object(v.jsxs)("div",{className:"follower",children:[Object(v.jsxs)("div",{className:"follower_count",style:{backgroundImage:"url(".concat(R,")")},children:["  ",s>0?s:"No"," Followers "]}),Object(v.jsx)(xe,{change_followers:o,user_id:e.user_details.user_id,style:{marginRight:"10px",marginLeft:"auto",display:e.follow}})]}),e.user_details.total_blogs>0?Object(v.jsx)("div",{className:"tag",children:"\ud83c\udff9Blogger"}):null]})})}var _e=function(e){var t=Object(r.n)().path,n=Object(i.useState)([]),s=Object(c.a)(n,2),a=s[0],o=s[1],l=Object(i.useRef)([]);Object(i.useEffect)((function(){var e=new XMLHttpRequest;return e.open("GET",O.origin+"backend_api/userlist"),e.onreadystatechange=function(){if(4===e.readyState&&200===e.status){var t=JSON.parse(e.response);"success"===t.status?(l.current.list=t.userslist,o(t.userslist)):"fail"===t.status&&o([])}},e.send(),window.addEventListener("resize",h,!0),function(){return window.removeEventListener("resize",h,!0)}}),[]);var d=window.matchMedia("(min-width : 768px)"),g=Object(i.useRef)({}),p=Object(i.useState)(null),j=Object(c.a)(p,2),f=j[0],m=j[1];function h(){g.current.preview_window.style.display="none",g.current.blogians_window.style.gridColumn="1 / span 2",k("block")}var x=Object(r.k)(),_=Object(i.useState)("block"),y=Object(c.a)(_,2),w=y[0],k=y[1];return Object(v.jsxs)("div",{className:"holder",children:[Object(v.jsxs)("div",{className:"blogians",ref:function(e){return g.current.blogians_window=e},onDoubleClick:function(){return h()},children:[Object(v.jsx)("input",{className:"blogiansInput",onInput:function(e){return function(e){var t=e.target,n=e.nativeEvent.data;if(-1!="?\"':;!*()".search(n))t.setCustomValidity("username does not contain ?!:;#$%^&*\"'() "),t.value=t.value.slice(0,t.value.length-1),t.reportValidity();else{t.setCustomValidity(""),t.reportValidity();var i,s=[],a=Object(b.a)(l.current.list);try{for(a.s();!(i=a.n()).done;){var c=i.value;-1!=c.user_name.search(t.value)&&s.push(c),s.sort((function(e,t){return t.followers_count-e.followers_count})),o(s)}}catch(r){a.e(r)}finally{a.f()}}}(e)},style:{backgroundImage:"url(".concat(R,")")},type:"text",placeholder:"Search Blogians"}),Object(v.jsx)("div",{className:"allBlogians",children:a.map((function(e){return Object(v.jsx)(ve,{follow:w,user_details:e,onClick:function(e){return function(e){m(e),d.matches&&(g.current.preview_window.style.display="block",g.current.blogians_window.style.gridColumn="1 / span 1",k("none"))}(e)},to:"".concat(t,"/profile_small/").concat(e.user_id)},e.user_id)}))})]}),Object(v.jsx)("div",{className:"profile_preview",ref:function(e){return g.current.preview_window=e},children:Object(v.jsx)(u.CacheRoute,{exact:!0,path:"".concat(t,"/profile_small/:user_id"),children:d.matches?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(me,{}),"none"===w?Object(v.jsx)("button",{id:"FullpageProfile",onClick:function(){return x.push("/Profile/".concat(f))},children:" Full Profile "}):null]}):Object(v.jsx)(r.c,{to:"/Profile/".concat(f)})})})]})},ye=(n(51),s.a.createContext(null));var we=function(){var e=Object(i.useState)(null),t=Object(c.a)(e,2),n=t[0],s=t[1],a=Object(i.useState)(null),o=Object(c.a)(a,2),d=o[0],b=o[1],g=Object(i.useCallback)((function(e){b(e)})),p=Object(i.useState)(null),j=Object(c.a)(p,2),f=j[0],m=j[1],h=Object(i.useState)("none"),x=Object(c.a)(h,2),_=x[0],y=x[1],w=function(e){y(e)},k=Object(r.k)(),S=Object(i.useState)([]),N=Object(c.a)(S,2),C=N[0],L=N[1];return Object(i.useEffect)((function(){fetch(O.origin+"backend_api/retriveHomeBlogs",{mode:"cors",method:"POST",headers:{session:n}}).then((function(e){return e.text().then((function(e){var t=JSON.parse(e);switch(t.status){case"success":L(t.blogs_list);break;case"fail":k.push("/Home")}}))}))}),[]),Object(i.useEffect)((function(){null!==sessionStorage.session&&s(sessionStorage.session)}),[sessionStorage]),Object(v.jsx)(l.HashRouter,{children:Object(v.jsxs)(ye.Provider,{value:n,children:[Object(v.jsx)(T,{bloglist:C,login_state:n}),Object(v.jsxs)("div",{className:"appcontent",ref:function(e){m(e)},children:[Object(v.jsxs)("div",{className:"appbody",ref:g,children:[Object(v.jsx)(W,{loading:_}),Object(v.jsxs)(u.CacheSwitch,{children:[Object(v.jsx)(r.d,{exact:!0,path:"/Blog/:title",children:Object(v.jsx)(ge,{appbodyloading:w})}),Object(v.jsx)(u.CacheRoute,{exact:!0,path:"/Login",children:Object(v.jsx)(J,{appbodyloading:w,change_login_context:function(e){s(e)}})}),Object(v.jsx)(u.CacheRoute,{exact:!0,path:"/Signup",children:Object(v.jsx)(z,{appbodyloading:w})}),Object(v.jsx)(r.d,{path:"/Blogians",children:Object(v.jsx)(_e,{})}),Object(v.jsx)(r.d,{exact:!0,path:"/Profile/:user_id",children:Object(v.jsx)(me,{})}),Object(v.jsx)(r.d,{path:"/UploadBlog",children:Object(v.jsx)(ce,{appbodyloading:w})}),Object(v.jsx)(r.d,{exact:!0,path:"/Home",children:Object(v.jsx)(Z,{blogs_list:C})}),Object(v.jsx)(u.CacheRoute,{exact:!0,path:"/Error",children:Object(v.jsx)("h1",{children:"Error"})}),Object(v.jsx)(r.d,{path:"/",children:Object(v.jsx)(r.c,{to:"/Home"})})]})]}),Object(v.jsx)(q,{appbody:d,appcontainer:f})]})]})})},ke=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,53)).then((function(t){var n=t.getCLS,i=t.getFID,s=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),i(e),s(e),a(e),o(e)}))};o.a.render(Object(v.jsx)(s.a.StrictMode,{children:Object(v.jsx)(we,{})}),document.getElementById("root")),ke()}],[[52,1,2]]]);
//# sourceMappingURL=main.851fdaab.chunk.js.map